(window.webpackJsonp=window.webpackJsonp||[]).push([[9],Array(384).concat([function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}},function(t,e){t.exports=function(){for(var t={},e=0;e<arguments.length;e++){var r=arguments[e];for(var s in r)i.call(r,s)&&(t[s]=r[s])}return t};var i=Object.prototype.hasOwnProperty},function(t,e,i){"use strict";t.exports=function(t,e){var i,n,a=e.children||[],o=a.length,l=[],u=-1;for(;++u<o;)(i=s(t,a[u],e))&&(u&&"break"===a[u-1].type&&(i.value&&(i.value=r.left(i.value)),(n=i.children&&i.children[0])&&n.value&&(n.value=r.left(n.value))),l=l.concat(i));return l};var r=i(384),s=i(508)},function(t,e,i){"use strict";t.exports=function(t){return s.test("number"==typeof t?r(t):t.charAt(0))};var r=String.fromCharCode,s=/\s/},function(t,e,i){"use strict";
/*!
 * repeat-string <https://github.com/jonschlinkert/repeat-string>
 *
 * Copyright (c) 2014-2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var r,s="";t.exports=function(t,e){if("string"!=typeof t)throw new TypeError("expected a string");if(1===e)return t;if(2===e)return t+t;var i=t.length*e;if(r!==t||void 0===r)r=t,s="";else if(s.length>=i)return s.substr(0,i);for(;i>s.length&&e>1;)1&e&&(s+=t),e>>=1,t+=t;return s=(s+=t).substr(0,i)}},function(t,e,i){"use strict";var r=i(114);t.exports=function(t,e,i){var s;null!=i||"object"==typeof e&&!Array.isArray(e)||(i=e,e={});s=r({type:String(t)},e),Array.isArray(i)?s.children=i:null!=i&&(s.value=String(i));return s}},,function(t,e){t.exports={shortLang:t=>t.toLowerCase().split(/[^a-z]/)[0],forceArray:function(t){return"string"==typeof t&&(t=[t]),t||[]},isPlainObject:function(t){return!(!t||"object"!=typeof t||t instanceof Array)},fixedEncodeURIComponent:function(t){return encodeURIComponent(t).replace(/[!'()*]/g,i)},replaceSpaceByUnderscores:t=>t.replace(/\s/g,"_"),uniq:t=>Array.from(new Set(t))};const i=t=>"%"+t.charCodeAt(0).toString(16)},function(t,e,i){"use strict";function r(t){if("string"==typeof t)return function(t){return function(e){return Boolean(e&&e.type===t)}}(t);if(null==t)return s;if("object"==typeof t)return("length"in t?function(t){var e=function(t){var e=[],i=t.length,s=-1;for(;++s<i;)e[s]=r(t[s]);return e}(t),i=e.length;return function(){var t=-1;for(;++t<i;)if(e[t].apply(this,arguments))return!0;return!1}}:function(t){return function(e){var i;for(i in t)if(e[i]!==t[i])return!1;return!0}})(t);if("function"==typeof t)return t;throw new Error("Expected function, string, or object as test")}function s(){return!0}t.exports=function t(e,i,s,n,a){var o=null!=n;var l=null!=s;var u=r(e);if(l&&("number"!=typeof s||s<0||s===1/0))throw new Error("Expected positive finite index or child node");if(o&&(!t(null,n)||!n.children))throw new Error("Expected parent node");if(!i||!i.type||"string"!=typeof i.type)return!1;if(o!==l)throw new Error("Expected both parent and index");return Boolean(u.call(a,i,s,n))}},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.textDict=e.htmlDict=e.get=e.list=e.has=e.remove=e.add=e.register=void 0;var r,s=(r=i(404))&&r.__esModule?r:{default:r};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=new s.default({html:{bibliographyContainer:['<div class="csl-bib-body>',"</div>"],entry:['<div class="csl-entry>',"</div>"],list:['<ul style="list-style-type:none">',"</ul>"],listItem:["<li>","</li>"]},text:{bibliographyContainer:["","\n"],entry:["","\n"],list:["\n",""],listItem:["\t","\n"]}});e.register=a;e.add=function(t,e){!function(t,e){if("string"!=typeof t)throw new TypeError("Invalid dict name, expected string, got ".concat(n(t)));if("object"!==n(e))throw new TypeError("Invalid dict, expected object, got ".concat(n(e)));for(var i in e){var r=e[i];if(!Array.isArray(r)||r.some(function(t){return"string"!=typeof t}))throw new TypeError('Invalid dict entry "'.concat(i,'", expected array of strings'))}}(t,e),a.set(t,e)};e.remove=function(t){a.remove(t)};e.has=function(t){return a.has(t)};e.list=function(){return a.list()};e.get=function(t){if(a.has(t))return a.get(t);logger.error("[get]",'Dict "'.concat(t,'" unavailable'))};e.htmlDict={wr_start:'<div class="csl-bib-body">',wr_end:"</div>",en_start:'<div class="csl-entry">',en_end:"</div>",ul_start:'<ul style="list-style-type:none">',ul_end:"</ul>",li_start:"<li>",li_end:"</li>"};e.textDict={wr_start:"",wr_end:"\n",en_start:"",en_end:"\n",ul_start:"\n",ul_end:"",li_start:"\t",li_end:"\n"}},function(t,e,i){"use strict";t.exports=function(t,e){var i=[],s=-1,n=t.length;e&&i.push(r("text","\n"));for(;++s<n;)s&&i.push(r("text","\n")),i.push(t[s]);e&&0!==t.length&&i.push(r("text","\n"));return i};var r=i(389)},,function(t,e,i){"use strict";var r=i(427),s="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),n=Object.prototype.toString,a=Array.prototype.concat,o=Object.defineProperty,l=o&&function(){var t={};try{for(var e in o(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch(t){return!1}}(),u=function(t,e,i,r){var s;e in t&&("function"!=typeof(s=r)||"[object Function]"!==n.call(s)||!r())||(l?o(t,e,{configurable:!0,enumerable:!1,value:i,writable:!0}):t[e]=i)},c=function(t,e){var i=arguments.length>2?arguments[2]:{},n=r(e);s&&(n=a.call(n,Object.getOwnPropertySymbols(e)));for(var o=0;o<n.length;o+=1)u(t,n[o],e[n[o]],i[n[o]])};c.supportsDescriptors=!!l,t.exports=c},function(t,e,i){"use strict";t.exports=function(t){return t!=t}},function(t,e,i){"use strict";var r=i(398);t.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:r}},,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.typeMatcher=e.treeTypeParser=e.listTypeParser=e.removeTypeParser=e.hasTypeParser=e.addTypeParser=e.type=void 0;var r=i(451);function s(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function n(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a={},o={},l={},u=function(t,e){switch(e){case"Array":return 0===t.length||t.every(function(t){return"@csl/object"===c(t)})?"@csl/list+object":"@else/list+object";case"SimpleObject":case"ComplexObject":return"@csl/object";default:return logger.warn("[set]","This format is not supported or recognized"),"@invalid"}},c=function(t){var e=(0,r.dataTypeOf)(t);return"Array"===e&&0===t.length?u(t,e):function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1?arguments[1]:void 0,r=!0,s=!1,n=void 0;try{for(var o,l=e[Symbol.iterator]();!(r=(o=l.next()).done);r=!0){var u=o.value;if(a[u].predicate(i))return t(a[u].extensions,i)||u}}catch(t){s=!0,n=t}finally{try{r||null==l.return||l.return()}finally{if(s)throw n}}}(o[e],t)||u(t,e)};e.type=c;e.addTypeParser=function(t,e){var i=e.dataType,r=e.predicate,s=e.extends,n=[];t in l&&(n=l[t],delete l[t],logger.info("[set]",'Subclasses "'.concat(n,'" finally registered to parent type "').concat(t,'"')));var u={predicate:r,extensions:n};if(a[t]=u,s){var c=a[s];c?c.extensions.push(t):(l[s]||(l[s]=[]),l[s].push(t),logger.info("[set]",'Subclass "'.concat(t,'" is waiting on parent type "').concat(s,'"')))}else(o[i]||(o[i]=[])).push(t)};e.hasTypeParser=function(t){return a.hasOwnProperty(t)};e.removeTypeParser=function(t){delete a[t],n(Object.values(o)).concat(n(Object.values(a).map(function(t){return t.extensions}).filter(function(t){return t.length>0}))).forEach(function(e){var i=e.indexOf(t);i>-1&&e.splice(i,1)})};e.listTypeParser=function(){return Object.keys(a)};e.treeTypeParser=function(){var t=function t(e){return{name:e,children:a[e].extensions.map(t)}};return{name:"Type tree",children:Object.entries(o).map(function(e){var i=s(e,2);return{name:i[0],children:i[1].map(t)}})}};e.typeMatcher=/^(?:@(.+?))(?:\/(?:(.+?)\+)?(?:(.+)))?$/},function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e}var e,i,s;return e=t,(i=[{key:"set",value:function(t,e){return this.data[t]=e,this}},{key:"add",value:function(){return this.set.apply(this,arguments)}},{key:"delete",value:function(t){return delete this.data[t],this}},{key:"get",value:function(t){return this.data[t]}},{key:"has",value:function(t){return this.data.hasOwnProperty(t)}},{key:"list",value:function(){return Object.keys(this.data)}}])&&r(e.prototype,i),s&&r(e,s),t}();e.default=s},function(t,e,i){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=e.types=e.scope=void 0;var s=function(t){return t.replace(/$|( )|(?!^)(?=[A-Z])/g,"\\.?$1")},n=function(t){return"(?:".concat(t.join("|"),")\\b")},a=function(t,e){return new RegExp("(?:^| )(".concat(t,"$)"),e)},o=n(["mr","mrs","ms","miss","dr","herr","monsieur","hr","frau","a v m","admiraal","admiral","air cdre","air commodore","air marshal","air vice marshal","alderman","alhaji","ambassador","baron","barones","brig","brig gen","brig general","brigadier","brigadier general","brother","canon","capt","captain","cardinal","cdr","chief","cik","cmdr","coach","col","col dr","colonel","commandant","commander","commissioner","commodore","comte","comtessa","congressman","conseiller","consul","conte","contessa","corporal","councillor","count","countess","crown prince","crown princess","dame","datin","dato","datuk","datuk seri","deacon","deaconess","dean","dhr","dipl ing","doctor","dott","dott sa","dr","dr ing","dra","drs","embajador","embajadora","en","encik","eng","eur ing","exma sra","exmo sr","f o","father","first lieutient","first officer","flt lieut","flying officer","fr","frau","fraulein","fru","gen","generaal","general","governor","graaf","gravin","group captain","grp capt","h e dr","h h","h m","h r h","hajah","haji","hajim","her highness","her majesty","herr","high chief","his highness","his holiness","his majesty","hon","hr","hra","ing","ir","jonkheer","judge","justice","khun ying","kolonel","lady","lcda","lic","lieut","lieut cdr","lieut col","lieut gen","lord","m","m l","m r","madame","mademoiselle","maj gen","major","master","mevrouw","miss","mlle","mme","monsieur","monsignor","mr","mrs","ms","mstr","nti","pastor","president","prince","princess","princesse","prinses","prof","prof dr","prof sir","professor","puan","puan sri","rabbi","rear admiral","rev","rev canon","rev dr","rev mother","reverend","rva","senator","sergeant","sheikh","sheikha","sig","sig na","sig ra","sir","sister","sqn ldr","sr","sr d","sra","srta","sultan","tan sri","tan sri dato","tengku","teuku","than puying","the hon dr","the hon justice","the hon miss","the hon mr","the hon mrs","the hon ms","the hon sir","the very rev","toh puan","tun","vice admiral","viscount","viscountess","wg cdr"].map(s)),l=n(["I","II","III","IV","V","Senior","Junior","Jr","Sr","PhD","Ph\\.D","APR","RPh","PE","MD","MA","DMD","CME","BVM","CFRE","CLU","CPA","CSC","CSJ","DC","DD","DDS","DO","DVM","EdD","Esq","JD","LLD","OD","OSB","PC","Ret","RGS","RN","RNC","SHCJ","SJ","SNJM","SSMO","USA","USAF","USAFR","USAR","USCG","USMC","USMCR","USN","USNR"].map(s)),u=n(["Vere","Von","Van","De","Del","Della","Di","Da","Pietro","Vanden","Du","St.","St","La","Lo","Ter","O","O'","Mac","Fitz"]),c=new RegExp("^((?:".concat(o," )*)(.*)$"),"i"),p=a("(?:".concat(l,", )*(?:").concat(l,")"),"i"),m=a("".concat(/(?:[A-Z\xC0-\xD6\xD8-\xDE\u0100\u0102\u0104\u0106\u0108\u010A\u010C\u010E\u0110\u0112\u0114\u0116\u0118\u011A\u011C\u011E\u0120\u0122\u0124\u0126\u0128\u012A\u012C\u012E\u0130\u0132\u0134\u0136\u0139\u013B\u013D\u013F\u0141\u0143\u0145\u0147\u014A\u014C\u014E\u0150\u0152\u0154\u0156\u0158\u015A\u015C\u015E\u0160\u0162\u0164\u0166\u0168\u016A\u016C\u016E\u0170\u0172\u0174\u0176\u0178\u0179\u017B\u017D\u0181\u0182\u0184\u0186\u0187\u0189-\u018B\u018E-\u0191\u0193\u0194\u0196-\u0198\u019C\u019D\u019F\u01A0\u01A2\u01A4\u01A6\u01A7\u01A9\u01AC\u01AE\u01AF\u01B1-\u01B3\u01B5\u01B7\u01B8\u01BC\u01C4\u01C7\u01CA\u01CD\u01CF\u01D1\u01D3\u01D5\u01D7\u01D9\u01DB\u01DE\u01E0\u01E2\u01E4\u01E6\u01E8\u01EA\u01EC\u01EE\u01F1\u01F4\u01F6-\u01F8\u01FA\u01FC\u01FE\u0200\u0202\u0204\u0206\u0208\u020A\u020C\u020E\u0210\u0212\u0214\u0216\u0218\u021A\u021C\u021E\u0220\u0222\u0224\u0226\u0228\u022A\u022C\u022E\u0230\u0232\u023A\u023B\u023D\u023E\u0241\u0243-\u0246\u0248\u024A\u024C\u024E\u0370\u0372\u0376\u037F\u0386\u0388-\u038A\u038C\u038E\u038F\u0391-\u03A1\u03A3-\u03AB\u03CF\u03D2-\u03D4\u03D8\u03DA\u03DC\u03DE\u03E0\u03E2\u03E4\u03E6\u03E8\u03EA\u03EC\u03EE\u03F4\u03F7\u03F9\u03FA\u03FD-\u042F\u0460\u0462\u0464\u0466\u0468\u046A\u046C\u046E\u0470\u0472\u0474\u0476\u0478\u047A\u047C\u047E\u0480\u048A\u048C\u048E\u0490\u0492\u0494\u0496\u0498\u049A\u049C\u049E\u04A0\u04A2\u04A4\u04A6\u04A8\u04AA\u04AC\u04AE\u04B0\u04B2\u04B4\u04B6\u04B8\u04BA\u04BC\u04BE\u04C0\u04C1\u04C3\u04C5\u04C7\u04C9\u04CB\u04CD\u04D0\u04D2\u04D4\u04D6\u04D8\u04DA\u04DC\u04DE\u04E0\u04E2\u04E4\u04E6\u04E8\u04EA\u04EC\u04EE\u04F0\u04F2\u04F4\u04F6\u04F8\u04FA\u04FC\u04FE\u0500\u0502\u0504\u0506\u0508\u050A\u050C\u050E\u0510\u0512\u0514\u0516\u0518\u051A\u051C\u051E\u0520\u0522\u0524\u0526\u0528\u052A\u052C\u052E\u0531-\u0556\u10A0-\u10C5\u10C7\u10CD\u13A0-\u13F5\u1C90-\u1CBA\u1CBD-\u1CBF\u1E00\u1E02\u1E04\u1E06\u1E08\u1E0A\u1E0C\u1E0E\u1E10\u1E12\u1E14\u1E16\u1E18\u1E1A\u1E1C\u1E1E\u1E20\u1E22\u1E24\u1E26\u1E28\u1E2A\u1E2C\u1E2E\u1E30\u1E32\u1E34\u1E36\u1E38\u1E3A\u1E3C\u1E3E\u1E40\u1E42\u1E44\u1E46\u1E48\u1E4A\u1E4C\u1E4E\u1E50\u1E52\u1E54\u1E56\u1E58\u1E5A\u1E5C\u1E5E\u1E60\u1E62\u1E64\u1E66\u1E68\u1E6A\u1E6C\u1E6E\u1E70\u1E72\u1E74\u1E76\u1E78\u1E7A\u1E7C\u1E7E\u1E80\u1E82\u1E84\u1E86\u1E88\u1E8A\u1E8C\u1E8E\u1E90\u1E92\u1E94\u1E9E\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6\u1EC8\u1ECA\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u1EF2\u1EF4\u1EF6\u1EF8\u1EFA\u1EFC\u1EFE\u1F08-\u1F0F\u1F18-\u1F1D\u1F28-\u1F2F\u1F38-\u1F3F\u1F48-\u1F4D\u1F59\u1F5B\u1F5D\u1F5F\u1F68-\u1F6F\u1FB8-\u1FBB\u1FC8-\u1FCB\u1FD8-\u1FDB\u1FE8-\u1FEC\u1FF8-\u1FFB\u2102\u2107\u210B-\u210D\u2110-\u2112\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u2130-\u2133\u213E\u213F\u2145\u2160-\u216F\u2183\u24B6-\u24CF\u2C00-\u2C2E\u2C60\u2C62-\u2C64\u2C67\u2C69\u2C6B\u2C6D-\u2C70\u2C72\u2C75\u2C7E-\u2C80\u2C82\u2C84\u2C86\u2C88\u2C8A\u2C8C\u2C8E\u2C90\u2C92\u2C94\u2C96\u2C98\u2C9A\u2C9C\u2C9E\u2CA0\u2CA2\u2CA4\u2CA6\u2CA8\u2CAA\u2CAC\u2CAE\u2CB0\u2CB2\u2CB4\u2CB6\u2CB8\u2CBA\u2CBC\u2CBE\u2CC0\u2CC2\u2CC4\u2CC6\u2CC8\u2CCA\u2CCC\u2CCE\u2CD0\u2CD2\u2CD4\u2CD6\u2CD8\u2CDA\u2CDC\u2CDE\u2CE0\u2CE2\u2CEB\u2CED\u2CF2\uA640\uA642\uA644\uA646\uA648\uA64A\uA64C\uA64E\uA650\uA652\uA654\uA656\uA658\uA65A\uA65C\uA65E\uA660\uA662\uA664\uA666\uA668\uA66A\uA66C\uA680\uA682\uA684\uA686\uA688\uA68A\uA68C\uA68E\uA690\uA692\uA694\uA696\uA698\uA69A\uA722\uA724\uA726\uA728\uA72A\uA72C\uA72E\uA732\uA734\uA736\uA738\uA73A\uA73C\uA73E\uA740\uA742\uA744\uA746\uA748\uA74A\uA74C\uA74E\uA750\uA752\uA754\uA756\uA758\uA75A\uA75C\uA75E\uA760\uA762\uA764\uA766\uA768\uA76A\uA76C\uA76E\uA779\uA77B\uA77D\uA77E\uA780\uA782\uA784\uA786\uA78B\uA78D\uA790\uA792\uA796\uA798\uA79A\uA79C\uA79E\uA7A0\uA7A2\uA7A4\uA7A6\uA7A8\uA7AA-\uA7AE\uA7B0-\uA7B4\uA7B6\uA7B8\uFF21-\uFF3A]|\uD801[\uDC00-\uDC27\uDCB0-\uDCD3]|\uD803[\uDC80-\uDCB2]|\uD806[\uDCA0-\uDCBF]|\uD81B[\uDE40-\uDE5F]|\uD835[\uDC00-\uDC19\uDC34-\uDC4D\uDC68-\uDC81\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB5\uDCD0-\uDCE9\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD38\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD6C-\uDD85\uDDA0-\uDDB9\uDDD4-\uDDED\uDE08-\uDE21\uDE3C-\uDE55\uDE70-\uDE89\uDEA8-\uDEC0\uDEE2-\uDEFA\uDF1C-\uDF34\uDF56-\uDF6E\uDF90-\uDFA8\uDFCA]|\uD83A[\uDD00-\uDD21]|\uD83C[\uDD30-\uDD49\uDD50-\uDD69\uDD70-\uDD89])/.source,".*")),h=a("(?:".concat(/(?:[a-z\xAA\xB5\xBA\xDF-\xF6\xF8-\xFF\u0101\u0103\u0105\u0107\u0109\u010B\u010D\u010F\u0111\u0113\u0115\u0117\u0119\u011B\u011D\u011F\u0121\u0123\u0125\u0127\u0129\u012B\u012D\u012F\u0131\u0133\u0135\u0137\u0138\u013A\u013C\u013E\u0140\u0142\u0144\u0146\u0148\u0149\u014B\u014D\u014F\u0151\u0153\u0155\u0157\u0159\u015B\u015D\u015F\u0161\u0163\u0165\u0167\u0169\u016B\u016D\u016F\u0171\u0173\u0175\u0177\u017A\u017C\u017E-\u0180\u0183\u0185\u0188\u018C\u018D\u0192\u0195\u0199-\u019B\u019E\u01A1\u01A3\u01A5\u01A8\u01AA\u01AB\u01AD\u01B0\u01B4\u01B6\u01B9\u01BA\u01BD-\u01BF\u01C6\u01C9\u01CC\u01CE\u01D0\u01D2\u01D4\u01D6\u01D8\u01DA\u01DC\u01DD\u01DF\u01E1\u01E3\u01E5\u01E7\u01E9\u01EB\u01ED\u01EF\u01F0\u01F3\u01F5\u01F9\u01FB\u01FD\u01FF\u0201\u0203\u0205\u0207\u0209\u020B\u020D\u020F\u0211\u0213\u0215\u0217\u0219\u021B\u021D\u021F\u0221\u0223\u0225\u0227\u0229\u022B\u022D\u022F\u0231\u0233-\u0239\u023C\u023F\u0240\u0242\u0247\u0249\u024B\u024D\u024F-\u0293\u0295-\u02B8\u02C0\u02C1\u02E0-\u02E4\u0345\u0371\u0373\u0377\u037A-\u037D\u0390\u03AC-\u03CE\u03D0\u03D1\u03D5-\u03D7\u03D9\u03DB\u03DD\u03DF\u03E1\u03E3\u03E5\u03E7\u03E9\u03EB\u03ED\u03EF-\u03F3\u03F5\u03F8\u03FB\u03FC\u0430-\u045F\u0461\u0463\u0465\u0467\u0469\u046B\u046D\u046F\u0471\u0473\u0475\u0477\u0479\u047B\u047D\u047F\u0481\u048B\u048D\u048F\u0491\u0493\u0495\u0497\u0499\u049B\u049D\u049F\u04A1\u04A3\u04A5\u04A7\u04A9\u04AB\u04AD\u04AF\u04B1\u04B3\u04B5\u04B7\u04B9\u04BB\u04BD\u04BF\u04C2\u04C4\u04C6\u04C8\u04CA\u04CC\u04CE\u04CF\u04D1\u04D3\u04D5\u04D7\u04D9\u04DB\u04DD\u04DF\u04E1\u04E3\u04E5\u04E7\u04E9\u04EB\u04ED\u04EF\u04F1\u04F3\u04F5\u04F7\u04F9\u04FB\u04FD\u04FF\u0501\u0503\u0505\u0507\u0509\u050B\u050D\u050F\u0511\u0513\u0515\u0517\u0519\u051B\u051D\u051F\u0521\u0523\u0525\u0527\u0529\u052B\u052D\u052F\u0560-\u0588\u10D0-\u10FA\u10FD-\u10FF\u13F8-\u13FD\u1C80-\u1C88\u1D00-\u1DBF\u1E01\u1E03\u1E05\u1E07\u1E09\u1E0B\u1E0D\u1E0F\u1E11\u1E13\u1E15\u1E17\u1E19\u1E1B\u1E1D\u1E1F\u1E21\u1E23\u1E25\u1E27\u1E29\u1E2B\u1E2D\u1E2F\u1E31\u1E33\u1E35\u1E37\u1E39\u1E3B\u1E3D\u1E3F\u1E41\u1E43\u1E45\u1E47\u1E49\u1E4B\u1E4D\u1E4F\u1E51\u1E53\u1E55\u1E57\u1E59\u1E5B\u1E5D\u1E5F\u1E61\u1E63\u1E65\u1E67\u1E69\u1E6B\u1E6D\u1E6F\u1E71\u1E73\u1E75\u1E77\u1E79\u1E7B\u1E7D\u1E7F\u1E81\u1E83\u1E85\u1E87\u1E89\u1E8B\u1E8D\u1E8F\u1E91\u1E93\u1E95-\u1E9D\u1E9F\u1EA1\u1EA3\u1EA5\u1EA7\u1EA9\u1EAB\u1EAD\u1EAF\u1EB1\u1EB3\u1EB5\u1EB7\u1EB9\u1EBB\u1EBD\u1EBF\u1EC1\u1EC3\u1EC5\u1EC7\u1EC9\u1ECB\u1ECD\u1ECF\u1ED1\u1ED3\u1ED5\u1ED7\u1ED9\u1EDB\u1EDD\u1EDF\u1EE1\u1EE3\u1EE5\u1EE7\u1EE9\u1EEB\u1EED\u1EEF\u1EF1\u1EF3\u1EF5\u1EF7\u1EF9\u1EFB\u1EFD\u1EFF-\u1F07\u1F10-\u1F15\u1F20-\u1F27\u1F30-\u1F37\u1F40-\u1F45\u1F50-\u1F57\u1F60-\u1F67\u1F70-\u1F7D\u1F80-\u1F87\u1F90-\u1F97\u1FA0-\u1FA7\u1FB0-\u1FB4\u1FB6\u1FB7\u1FBE\u1FC2-\u1FC4\u1FC6\u1FC7\u1FD0-\u1FD3\u1FD6\u1FD7\u1FE0-\u1FE7\u1FF2-\u1FF4\u1FF6\u1FF7\u2071\u207F\u2090-\u209C\u210A\u210E\u210F\u2113\u212F\u2134\u2139\u213C\u213D\u2146-\u2149\u214E\u2170-\u217F\u2184\u24D0-\u24E9\u2C30-\u2C5E\u2C61\u2C65\u2C66\u2C68\u2C6A\u2C6C\u2C71\u2C73\u2C74\u2C76-\u2C7D\u2C81\u2C83\u2C85\u2C87\u2C89\u2C8B\u2C8D\u2C8F\u2C91\u2C93\u2C95\u2C97\u2C99\u2C9B\u2C9D\u2C9F\u2CA1\u2CA3\u2CA5\u2CA7\u2CA9\u2CAB\u2CAD\u2CAF\u2CB1\u2CB3\u2CB5\u2CB7\u2CB9\u2CBB\u2CBD\u2CBF\u2CC1\u2CC3\u2CC5\u2CC7\u2CC9\u2CCB\u2CCD\u2CCF\u2CD1\u2CD3\u2CD5\u2CD7\u2CD9\u2CDB\u2CDD\u2CDF\u2CE1\u2CE3\u2CE4\u2CEC\u2CEE\u2CF3\u2D00-\u2D25\u2D27\u2D2D\uA641\uA643\uA645\uA647\uA649\uA64B\uA64D\uA64F\uA651\uA653\uA655\uA657\uA659\uA65B\uA65D\uA65F\uA661\uA663\uA665\uA667\uA669\uA66B\uA66D\uA681\uA683\uA685\uA687\uA689\uA68B\uA68D\uA68F\uA691\uA693\uA695\uA697\uA699\uA69B-\uA69D\uA723\uA725\uA727\uA729\uA72B\uA72D\uA72F-\uA731\uA733\uA735\uA737\uA739\uA73B\uA73D\uA73F\uA741\uA743\uA745\uA747\uA749\uA74B\uA74D\uA74F\uA751\uA753\uA755\uA757\uA759\uA75B\uA75D\uA75F\uA761\uA763\uA765\uA767\uA769\uA76B\uA76D\uA76F-\uA778\uA77A\uA77C\uA77F\uA781\uA783\uA785\uA787\uA78C\uA78E\uA791\uA793-\uA795\uA797\uA799\uA79B\uA79D\uA79F\uA7A1\uA7A3\uA7A5\uA7A7\uA7A9\uA7AF\uA7B5\uA7B7\uA7B9\uA7F8-\uA7FA\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABBF\uFB00-\uFB06\uFB13-\uFB17\uFF41-\uFF5A]|\uD801[\uDC28-\uDC4F\uDCD8-\uDCFB]|\uD803[\uDCC0-\uDCF2]|\uD806[\uDCC0-\uDCDF]|\uD81B[\uDE60-\uDE7F]|\uD835[\uDC1A-\uDC33\uDC4E-\uDC54\uDC56-\uDC67\uDC82-\uDC9B\uDCB6-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDCEA-\uDD03\uDD1E-\uDD37\uDD52-\uDD6B\uDD86-\uDD9F\uDDBA-\uDDD3\uDDEE-\uDE07\uDE22-\uDE3B\uDE56-\uDE6F\uDE8A-\uDEA5\uDEC2-\uDEDA\uDEDC-\uDEE1\uDEFC-\uDF14\uDF16-\uDF1B\uDF36-\uDF4E\uDF50-\uDF55\uDF70-\uDF88\uDF8A-\uDF8F\uDFAA-\uDFC2\uDFC4-\uDFC9\uDFCB]|\uD83A[\uDD22-\uDD43])/.source,".*|").concat(u,".*|\\S*)"));e.default=e.parse=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";"string"!=typeof t&&(t+="");var e="",i="",s="";if(/[^.], /.test(t)){var n=t.split(", ");s=n.shift();var a=RegExp(l).exec(n.join(", "));e=n.splice(a&&0!==a.index?0:-1,1)[0],i=n.join(", ")}else{var o=t.split(p,2),u=o.shift().split(h,2);e=u[0],s=u[1],i=o.pop()}var f=r(e.match(c),3),d=f[1],g=f[2],b=i,v=r(s.split(m,2).reverse(),2),y=v[0],_=v[1];if(!g&&y)return y.includes(" ")?{literal:y}:{family:y};if(y){var x={"dropping-particle":d,given:g,suffix:b,"non-dropping-particle":_,family:y};return Object.keys(x).forEach(function(t){x[t]||delete x[t]}),x}return logger.warn("[set]","Could not parse name: '".concat(t,"', falling back to literal")),{literal:t}};e.scope="@name";e.types="@name"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(567))&&r.__esModule?r:{default:r};var n=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={};e.headers&&(i.headers=e.headers,i.allowRedirectHeaders=Object.keys(e.headers));try{return(0,s.default)("GET",t,i).getBody("utf8")}catch(e){return logger.error("[set]","File '".concat(t,"' could not be fetched:"),e.message),"[]"}};e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i(573);var r,s,n=(r=regeneratorRuntime.mark(function t(e){var i,r,s=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>1&&void 0!==s[1]?s[1]:{},r={},i.headers&&(r.headers=i.headers,r.allowRedirectHeaders=Object.keys(i.headers)),t.prev=3,t.abrupt("return",fetch(e,r).then(function(t){return t.text()}));case 7:return t.prev=7,t.t0=t.catch(3),logger.error("[set]","File '".concat(e,"' could not be fetched:"),t.t0.message),t.abrupt("return","[]");case 11:case"end":return t.stop()}},t,this,[[3,7]])}),s=function(){var t=this,e=arguments;return new Promise(function(i,s){var n=r.apply(t,e);function a(t,e){try{var r=n[t](e),a=r.value}catch(t){return void s(t)}r.done?i(a):Promise.resolve(a).then(o,l)}function o(t){a("next",t)}function l(t){a("throw",t)}o()})},function(t){return s.apply(this,arguments)});e.default=n},function(t,e,i){"use strict";t.exports=function(t){var e="string"==typeof t?t.charCodeAt(0):t;return e>=48&&e<=57}},function(t,e,i){"use strict";t.exports=o;var r=i(644),s=r.CONTINUE,n=r.SKIP,a=r.EXIT;function o(t,e,i,s){"function"==typeof e&&"function"!=typeof i&&(s=i,i=e,e=null),r(t,e,function(t,e){var r=e[e.length-1],s=r?r.children.indexOf(t):null;return i(t,s,r)},s)}o.CONTINUE=s,o.SKIP=n,o.EXIT=a},function(t,e,i){"use strict";var r=/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,s=/-[a-z\u00E0-\u00F6\u00F8-\u00FE]/g;t.exports=e=function(t){return t.replace(r,function(t){return"-"+t.toLowerCase()})},e.reverse=function(t){return t.replace(s,function(t){return t.slice(1).toUpperCase()})}},function(t,e,i){"use strict";t.exports=u;var r,s,n,a={abbr:null,accept:256,acceptCharset:128,accessKey:128,action:null,allowFullScreen:9,allowTransparency:1,alt:null,as:null,async:8,autoComplete:128,autoFocus:8,autoPlay:8,capture:9,cellPadding:null,cellSpacing:null,challenge:1,charSet:1,checked:10,cite:null,className:129,cols:49,colSpan:null,command:null,content:null,contentEditable:null,contextMenu:1,controls:10,controlsList:128,coords:272,crossOrigin:null,data:null,dateTime:1,default:8,defer:8,dir:null,dirName:null,disabled:9,download:64,draggable:null,dropzone:128,encType:null,form:1,formAction:1,formEncType:1,formMethod:1,formNoValidate:8,formTarget:1,frameBorder:1,headers:128,height:49,hidden:9,high:16,href:null,hrefLang:null,htmlFor:128,httpEquiv:128,id:2,inputMode:1,is:1,isMap:8,keyParams:1,keyType:1,kind:null,label:null,lang:null,list:1,loop:10,low:16,manifest:1,marginHeight:16,marginWidth:16,max:null,maxLength:49,media:1,mediaGroup:null,menu:null,method:null,min:null,minLength:49,multiple:10,muted:10,name:null,nonce:null,noValidate:8,open:8,optimum:16,pattern:null,ping:128,placeholder:null,playsInline:8,poster:null,preload:null,profile:null,radioGroup:null,readOnly:10,referrerPolicy:null,rel:129,required:8,reversed:8,role:1,rows:49,rowSpan:48,sandbox:128,scope:null,scoped:8,scrolling:null,seamless:9,selected:10,shape:null,size:49,sizes:129,slot:null,sortable:8,sorted:128,span:48,spellCheck:null,src:null,srcDoc:2,srcLang:null,srcSet:257,start:16,step:null,style:null,summary:null,tabIndex:16,target:null,title:null,translate:null,type:null,typeMustMatch:8,useMap:null,value:2,volume:48,width:17,wmode:1,wrap:null,autoCapitalize:null,autoCorrect:null,autoSave:null,itemProp:129,itemScope:9,itemType:129,itemID:1,itemRef:129,property:null,results:null,security:1,unselectable:1,xmlLang:1,xmlBase:1},o={xmlbase:"xml:base",xmllang:"xml:lang",classname:"class",htmlfor:"for",httpequiv:"http-equiv",acceptcharset:"accept-charset"},l={};for(r in u.all=l,a)s=p(r),s=o[s]||s,n=a[r],l[s]={name:s,propertyName:r,mustUseAttribute:c(n,1),mustUseProperty:c(n,2),boolean:c(n,8),overloadedBoolean:c(n,64),numeric:c(n,16),positiveNumeric:c(n,48),commaSeparated:c(n,256),spaceSeparated:c(n,128)};function u(t){var e=p(t);return l[o[e]||e]}function c(t,e){return(t&e)===e}function p(t){return t.toLowerCase()}},function(t,e,i){"use strict";var r=i(384);e.parse=function(t){var e=r(String(t||s));return e===s?[]:e.split(a)},e.stringify=function(t){return r(t.join(n))};var s="",n=" ",a=/[ \t\n\r\f]+/g},function(t,e,i){"use strict";e.parse=function(t){var e,i=[],n=String(t||a),o=n.indexOf(s),l=0,u=!1;for(;!u;)-1===o&&(o=n.length,u=!0),!(e=r(n.slice(l,o)))&&u||i.push(e),l=o+1,o=n.indexOf(s,l);return i},e.stringify=function(t,e){var i=e||{},o=!1===i.padLeft?a:n,l=i.padRight?n:a;t[t.length-1]===a&&(t=t.concat(a));return r(t.join(l+s+o))};var r=i(384),s=",",n=" ",a=""},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={wikidata:!0,bibtex:!0,bibtxt:!0,bibjson:!0,doi:!0,input:!0,json:!0,date:!0,name:!0,csl:!0};Object.defineProperty(e,"json",{enumerable:!0,get:function(){return p.parse}}),Object.defineProperty(e,"date",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"name",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"csl",{enumerable:!0,get:function(){return f.default}}),e.input=e.doi=e.bibjson=e.bibtxt=e.bibtex=e.wikidata=void 0,i(556);var s=i(431),n=i(416),a=i(403),o=i(454),l=i(455),u=i(459),c=i(464),p=i(475),m=g(i(417)),h=g(i(405)),f=g(i(597)),d=i(450);function g(t){return t&&t.__esModule?t:{default:t}}Object.keys(d).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return d[t]}}))});var b={list:c.parsers.list.parse,json:c.parsers.json.parse,prop:c.parsers.prop.parse,type:c.parsers.type.parse,async:{json:c.parsers.json.parseAsync,prop:c.parsers.prop.parseAsync}};e.wikidata=b;var v={json:l.parsers.json.parse,text:l.parsers.text.parse,prop:l.parsers.prop.parse,type:l.parsers.type.parse};e.bibtex=v;var y={text:l.parsers.bibtxt.text,textEntry:l.parsers.bibtxt.textEntry};e.bibtxt=y;var _=o.parsers.json.parse;e.bibjson=_;var x={id:u.parsers.id.parse,api:u.parsers.api.parse,async:{api:u.parsers.api.parseAsync}};e.doi=x;var A={chain:s.chain,chainAsync:s.chainAsync,chainLink:s.chainLink,chainLinkAsync:s.chainLinkAsync,data:n.data,dataAsync:n.dataAsync,type:a.type,async:{chain:s.chainAsync,chainLink:s.chainLinkAsync,data:n.dataAsync}};e.input=A},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.config=e.dict=e.output=e.input=e.list=e.has=e.remove=e.add=void 0;var r=o(i(450));e.input=r;var s=o(i(433));e.output=s;var n=o(i(394));e.dict=n;var a=o(i(558));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}e.config=a;var l={input:r,output:s,dict:n,config:a},u={};e.add=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=u[t]={};for(var r in"config"in e&&(l.config.add(t,e.config),delete e.config),e){var s=i[r]={},n=e[r];for(var a in n){var o=n[a];s[a]=!0,l[r].add(a,o)}}};e.remove=function(t){var e=u[t];for(var i in e){var r=e[i];for(var s in r)l[i].remove(s)}delete u[t]};e.has=function(t){return t in u};e.list=function(){return Object.keys(u)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.listDataParser=e.removeDataParser=e.hasDataParser=e.addDataParser=e.dataAsync=e.data=void 0;var r=i(431);function s(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var n=t.apply(e,i);function a(t,e){try{var i=n[t](e),a=i.value}catch(t){return void s(t)}i.done?r(a):Promise.resolve(a).then(o,l)}function o(t){a("next",t)}function l(t){a("throw",t)}o()})}}function n(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var a,o=function(t){var e;return(e=[]).concat.apply(e,n(t))},l={},u={},c={"@csl/object":function(t){return[t]},"@csl/list+object":function(t){return t},"@else/list+object":function(t){return o(t.map(r.chain))},"@invalid":function(){return[]}},p={"@else/list+object":(a=s(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=o,t.next=3,Promise.all(e.map(r.chainAsync));case 3:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 5:case"end":return t.stop()}},t,this)})),function(t){return a.apply(this,arguments)})},m=function(t,e){return l.hasOwnProperty(e)?l[e](t):c.hasOwnProperty(e)?c[e](t):(logger.error("[set]","No synchronous parser found for ".concat(e)),null)};e.data=m;var h,f=(h=s(regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!u.hasOwnProperty(i)){t.next=4;break}return t.abrupt("return",u[i](e));case 4:if(!p.hasOwnProperty(i)){t.next=8;break}return t.abrupt("return",p[i](e));case 8:if(!d(i,!1)){t.next=12;break}return t.abrupt("return",m(e,i));case 12:return logger.error("[set]","No parser found for ".concat(i)),t.abrupt("return",null);case 14:case"end":return t.stop()}},t,this)})),function(t,e){return h.apply(this,arguments)});e.dataAsync=f;e.addDataParser=function(t,e){var i=e.parser;e.async?u[t]=i:l[t]=i};var d=function(t,e){return e?u[t]||p[t]:l[t]||c[t]};e.hasDataParser=d;e.removeDataParser=function(t,e){delete(e?u:l)[t]};e.listDataParser=function(t){return Object.keys(t?u:l)}},function(t,e,i){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=e.types=e.scope=void 0;var s={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12},n=function(t){return s[t.toLowerCase().slice(0,3)]};e.default=e.parse=function(t){var e,i,s=(e=t,i=new Date(e),("number"!=typeof e||isNaN(i.valueOf())?null:[i.getFullYear(),i.getMonth()+1,i.getDate()])||function(t){var e=/^(\d{4}|[-+]\d{6,})-(\d{2})-(\d{2})/;if("string"!=typeof t||!e.test(t))return null;var i=r(t.match(e),4),s=i[1],n=i[2],a=i[3];return+n?+a?[s,n,a]:[s,n]:[s]}(t)||function(t){var e=/^(?:[a-z]{3},\s*)?(\d{1,2}) ([a-z]{3}) (\d{4,})/i;if("string"!=typeof t||!e.test(t))return null;var i=r(t.match(e),4),s=i[1],a=i[2],o=i[3];return(a=n(a))?[o,a,s]:null}(t)||function(t){var e=/^(\d{1,2})\/(\d{1,2})\/(\d{2}(?:\d{2})?)/;if("string"!=typeof t||!e.test(t))return null;var i=r(t.match(e),4),s=i[1],n=i[2],a=i[3];return new Date(a,s,n).getMonth()===parseInt(s)?[a,s,n]:null}(t)||function(t){var e,i,s,a=/^(\d{1,2})[ .\-\/](\d{1,2}|[a-z]{3,10})[ .\-\/](-?\d+)/i,o=/^(-?\d+)[ .\-\/](\d{1,2}|[a-z]{3,10})[ .\-\/](\d{1,2})/i;if("string"!=typeof t)return null;if(a.test(t)){var l=r(t.match(a),4);s=l[1],i=l[2],e=l[3]}else{if(!o.test(t))return null;var u=r(t.match(o),4);e=u[1],i=u[2],s=u[3]}if(n(i))i=n(i);else if(isNaN(i))return null;return[e,i,s]}(t)||function(t){var e=/^([a-z]{3,10}|-?\d+)[^\w-]+([a-z]{3,10}|-?\d+)$/i;if("string"==typeof t&&e.test(t)){var i,r=t.match(e).slice(1,3);if(n(r[1]))i=n(r.pop());else if(n(r[0]))i=n(r.shift());else{if(r.some(isNaN)||r.every(function(t){return+t<0}))return null;i=+r[0]<0?r.pop():+r[0]>+r[1]&&+r[1]>0?r.pop():r.shift()}return[r.pop(),i]}return null}(t)||function(t){return"string"==typeof t&&/^-?\d+$/.test(t)?[t]:null}(t));return s?{"date-parts":[s=s.map(function(t){return parseInt(t)})]}:{raw:t}};e.scope="@date";e.types="@date"},function(t,e,i){const r="undefined"!=typeof location&&"undefined"!=typeof document,s=i(r?577:578);t.exports=function(t){return r&&(t.origin="*"),"https://www.wikidata.org/w/api.php?"+s.stringify(t)}},function(t,e,i){const r=i(583),s={isNumericId:t=>/^[0-9]+$/.test(t),isEntityId:t=>/^(Q|P)[0-9]+$/.test(t),isItemId:t=>/^Q[0-9]+$/.test(t),isPropertyId:t=>/^P[0-9]+$/.test(t),isGuid:t=>/^(Q|P|L)\d+\$[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(t),getNumericId:function(t){if(!s.isEntityId(t))throw new Error(`invalid wikidata id: ${t}`);return t.replace(/Q|P/,"")}};s.wikidataTimeToDateObject=r;const n=t=>e=>{try{return t(e)}catch(t){return(e=e.time||e).replace("-00-00","-01-01")}};s.wikidataTimeToEpochTime=n(t=>r(t).getTime()),s.wikidataTimeToISOString=n(t=>r(t).toISOString()),s.wikidataTimeToSimpleDay=n(t=>{if("object"==typeof t){const{time:e,precision:i}=t;t=9===i?e.replace("-01-01T","-00-00T"):10===i?e.replace("-01T","-00T"):e}return t.split("T")[0].replace(/^\+/,"").replace(/^(-?)0+/,"$1").replace(/-00$/,"").replace(/-00$/,"")}),s.getImageUrl=((t,e)=>{var i=`https://commons.wikimedia.org/wiki/Special:FilePath/${t}`;return"number"==typeof e&&(i+=`?width=${e}`),i}),t.exports=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=["dropping-particle","given"],s=["suffix"],n=["non-dropping-particle","family"],a=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=function(e){return e.map(function(e){return t[e]||""}).filter(Boolean).join(" ")};if(t.literal)return t.literal;if(e){var a=i(s)?", ".concat(i(s)):"",o=i(r)?", ".concat(i(r)):"";return i(n)+a+o}return"".concat(i(r.concat(s,n)))};e.default=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fetchEngine=e.default=void 0;var r=a(i(478)),s=a(i(440)),n=i(439);function a(t){return t&&t.__esModule?t:{default:t}}var o={},l=function(t,e,i,s,n){var a,l="".concat(t,"|").concat(e);return o.hasOwnProperty(l)?(a=o[l]).sys.retrieveItem=s:a=o[l]=new r.default.Engine({retrieveLocale:n,retrieveItem:s},i,e,!0),a};e.fetchEngine=l;var u=function(t,e,i,r){var a=t.reduce(function(t,e){return t[e.id]=e,t},{}),o=(0,s.default)(e);i=n.locales.has(i)?i:"en-US";var u=l(e,i,o,function(t){return a[t]},n.locales.get.bind(n.locales));return u.setOutputFormat(r),u};e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=o(i(481)),s=o(i(437)),n=o(i(420)),a=o(i(438));function o(t){return t&&t.__esModule?t:{default:t}}var l=function(t){var e={label:(0,s.default)(t),type:(0,r.default)(t.type)},i={},o={"collection-title":"series","container-title":"chapter"===t.type?"booktitle":"journal",edition:"edition",event:"organization",DOI:"doi",ISBN:"isbn",ISSN:"issn",issue:"number",language:"language",note:"note","number-of-pages":"numpages",PMID:"pmid",PMCID:"pmcid",publisher:"publisher","publisher-place":"address",title:"title",URL:"url",volume:"volume"};for(var l in o)t.hasOwnProperty(l)&&(i[o[l]]=t[l]+"");if(t.author&&(i.author=t.author.map(function(t){return(0,n.default)(t,!0)}).join(" and ")),t.editor&&(i.editor=t.editor.map(function(t){return(0,n.default)(t,!0)}).join(" and ")),!t.note&&t.accessed&&(i.note="[Online; accessed ".concat((0,a.default)(t.accessed),"]")),t.page&&(i.pages=t.page.replace("-","--")),t.issued){var u=t.issued["date-parts"][0];u.length>0&&(i.date=(0,a.default)(t.issued),i.year=u[0].toString()),u.length>1&&(i.month=u[1].toString()),u.length>2&&(i.day=u[2].toString())}return e.properties=i,e};e.default=l},function(t,e,i){"use strict";var r=i(488),s=i(637),n=i(408),a=i(489),o=i(490),l=i(638);t.exports=function(t,e){var i,n,a={};e||(e={});for(n in m)i=e[n],a[n]=null==i?m[n]:i;(a.position.indent||a.position.start)&&(a.indent=a.position.indent||[],a.position=a.position.start);return function(t,e){var i,n,a,m,S,T,I,j,N,C,D,P,R,L,B,F,M,U,z,q=e.additional,$=e.nonTerminated,V=e.text,X=e.reference,G=e.warning,Q=e.textContext,H=e.referenceContext,W=e.warningContext,J=e.position,K=e.indent||[],Z=t.length,Y=0,tt=-1,et=J.column||1,it=J.line||1,rt="",st=[];F=at(),j=G?function(t,e){var i=at();i.column+=e,i.offset+=e,G.call(W,w[t],i,t)}:p,Y--,Z++;for(;++Y<Z;)if("\n"===S&&(et=K[tt]||1),"&"!==(S=ot(Y)))"\n"===S&&(it++,tt++,et=0),S?(rt+=S,et++):lt();else{if("\t"===(I=ot(Y+1))||"\n"===I||"\f"===I||" "===I||"<"===I||"&"===I||""===I||q&&I===q){rt+=S,et++;continue}for(P=R=Y+1,z=R,"#"!==I?L=h:(z=++P,"x"===(I=ot(z))||"X"===I?(L=f,z=++P):L=d),i="",D="",m="",B=b[L],z--;++z<Z&&(I=ot(z),B(I));)m+=I,L===h&&u.call(r,m)&&(i=m,D=r[m]);(a=";"===ot(z))&&(z++,(n=L===h&&l(m))&&(i=m,D=n)),U=1+z-R,(a||$)&&(m?L===h?(a&&!D?j(A,1):(i!==m&&(z=P+i.length,U=1+z-P,a=!1),a||(N=i?v:_,e.attribute?"="===(I=ot(z))?(j(N,U),D=null):o(I)?D=null:j(N,U):j(N,U))),T=D):(a||j(y,U),T=parseInt(m,g[L]),(nt=T)>=55296&&nt<=57343||nt>1114111?(j(O,U),T="�"):T in s?(j(E,U),T=s[T]):(C="",k(T)&&j(E,U),T>65535&&(C+=c((T-=65536)>>>10|55296),T=56320|1023&T),T=C+c(T))):L!==h&&j(x,U)),T?(lt(),F=at(),Y=z-1,et+=z-R+1,st.push(T),(M=at()).offset++,X&&X.call(H,T,{start:F,end:M},t.slice(R-1,z)),F=M):(m=t.slice(R-1,z),rt+=m,et+=m.length,Y=z-1)}var nt;return st.join("");function at(){return{line:it,column:et,offset:Y+(J.offset||0)}}function ot(e){return t.charAt(e)}function lt(){rt&&(st.push(rt),V&&V.call(Q,rt,{start:F,end:at()}),rt="")}}(t,a)};var u={}.hasOwnProperty,c=String.fromCharCode,p=Function.prototype,m={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},h="named",f="hexadecimal",d="decimal",g={};g[f]=16,g[d]=10;var b={};b[h]=o,b[d]=n,b[f]=a;var v=1,y=2,_=3,x=4,A=5,E=6,O=7,w={};function k(t){return t>=1&&t<=8||11===t||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||65535==(65535&t)||65534==(65535&t)}w[v]="Named character references must be terminated by a semicolon",w[y]="Numeric character references must be terminated by a semicolon",w[_]="Named character references cannot be empty",w[x]="Numeric character references cannot be empty",w[A]="Named character references must be known",w[E]="Numeric character references cannot be disallowed",w[O]="Numeric character references cannot be outside the permissible Unicode range"},function(t,e,i){"use strict";var r={};function s(t,e,i){var n,a,o,l,u,c="";for("string"!=typeof e&&(i=e,e=s.defaultChars),void 0===i&&(i=!0),u=function(t){var e,i,s=r[t];if(s)return s;for(s=r[t]=[],e=0;e<128;e++)i=String.fromCharCode(e),/^[0-9a-z]$/i.test(i)?s.push(i):s.push("%"+("0"+e.toString(16).toUpperCase()).slice(-2));for(e=0;e<t.length;e++)s[t.charCodeAt(e)]=t[e];return s}(e),n=0,a=t.length;n<a;n++)if(o=t.charCodeAt(n),i&&37===o&&n+2<a&&/^[0-9a-f]{2}$/i.test(t.slice(n+1,n+3)))c+=t.slice(n,n+3),n+=2;else if(o<128)c+=u[o];else if(o>=55296&&o<=57343){if(o>=55296&&o<=56319&&n+1<a&&(l=t.charCodeAt(n+1))>=56320&&l<=57343){c+=encodeURIComponent(t[n]+t[n+1]),n++;continue}c+="%EF%BF%BD"}else c+=encodeURIComponent(t[n]);return c}s.defaultChars=";/?:@&=+$,-_.!~*'()#",s.componentChars="-_.!~*'()",t.exports=s},function(t,e,i){"use strict";var r=i(384),s=i(410),n=i(411),a=i(412),o=i(413),l=i(426),u=i(392);function c(t,e,i,r){var u,c=n(e)||{};if(!(null==i||!1===i||l(i)||c.boolean&&!i)){if(e=c.name||s(e),null!==i&&"object"==typeof i&&"length"in i&&(i=(c.commaSeparated?o:a).stringify(i)),c.boolean&&!0===r.hyperscript&&(i=""),"class"!==c.name&&(c.mustUseAttribute||!c.name)&&(!0===r.vdom?u="attributes":!0===r.hyperscript&&(u="attrs"),u))return void 0===t[u]&&(t[u]={}),void(t[u][e]=i);t[c.propertyName||e]=i}}function p(t){return"-ms-"===t.slice(0,4)&&(t="ms-"+t.slice(4)),t.replace(/-([a-z])/g,m)}function m(t,e){return e.toUpperCase()}t.exports=function(t,e,i){var s,n;if("function"!=typeof t)throw new Error("h is not a function");s=function(t){var e=t&&t("div");return Boolean(e&&("_owner"in e||"_store"in e)&&null===e.key)}(t),n=function(t){try{return"VirtualNode"===t("div").type}catch(t){}return!1}(t),null==i&&(i=(!0===s||!0===n)&&"h-");if(u("root",e))e=1===e.children.length&&u("element",e.children[0])?e.children[0]:{type:"element",tagName:"div",properties:{},children:e.children};else if(!u("element",e))throw new Error("Expected root or element, not `"+(e&&e.type||e)+"`");return function t(e,i,s){var n=i.tagName;var o;var l;var m;var h;var f;var d;var g;var b;o=i.properties;l={};for(h in o)c(l,h,o[h],s);!0===s.vdom&&(n=n.toUpperCase());!0===s.hyperscript&&l.id&&(n+="#"+l.id,delete l.id);!0!==s.hyperscript&&!0!==s.vdom||!l.className||(n+="."+a.parse(l.className).join("."),delete l.className);"string"==typeof l.style&&(!0===s.vdom?(l.attributes||(l.attributes={}),l.attributes.style=l.style,delete l.style):!0===s.react&&(l.style=function(t){var e,i,s,n={},a=t.split(";"),o=a.length,l=-1;for(;++l<o;)e=a[l],-1!==(s=e.indexOf(":"))&&(i=p(r(e.slice(0,s))),n[i]=r(e.slice(s+1)));return n}(l.style)));s.prefix&&(s.key++,l.key=s.prefix+s.key);f=[];m=i.children||[];d=m.length;g=-1;for(;++g<d;)b=m[g],u("element",b)?f.push(t(e,b,s)):u("text",b)&&f.push(b.value);return 0===f.length?e(n,l):e(n,l,f)}(t,e,{prefix:i,key:0,react:s,vdom:n,hyperscript:function(t){return Boolean(t&&t.context&&t.cleanup)}(t)})}},function(t,e,i){"use strict";var r=i(397),s=i(398);r(s,{getPolyfill:i(399),implementation:s,shim:i(429)}),t.exports=s},function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty,s=Object.prototype.toString,n=Array.prototype.slice,a=i(428),o=Object.prototype.propertyIsEnumerable,l=!o.call({toString:null},"toString"),u=o.call(function(){},"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(t){var e=t.constructor;return e&&e.prototype===t},m={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!m["$"+t]&&r.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{p(window[t])}catch(t){return!0}}catch(t){return!0}return!1}(),f=function(t){var e=null!==t&&"object"==typeof t,i="[object Function]"===s.call(t),n=a(t),o=e&&"[object String]"===s.call(t),m=[];if(!e&&!i&&!n)throw new TypeError("Object.keys called on a non-object");var f=u&&i;if(o&&t.length>0&&!r.call(t,0))for(var d=0;d<t.length;++d)m.push(String(d));if(n&&t.length>0)for(var g=0;g<t.length;++g)m.push(String(g));else for(var b in t)f&&"prototype"===b||!r.call(t,b)||m.push(String(b));if(l)for(var v=function(t){if("undefined"==typeof window||!h)return p(t);try{return p(t)}catch(t){return!1}}(t),y=0;y<c.length;++y)v&&"constructor"===c[y]||!r.call(t,c[y])||m.push(c[y]);return m};f.shim=function(){if(Object.keys){if(!function(){return 2===(Object.keys(arguments)||"").length}(1,2)){var t=Object.keys;Object.keys=function(e){return a(e)?t(n.call(e)):t(e)}}}else Object.keys=f;return Object.keys||f},t.exports=f},function(t,e,i){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e=r.call(t),i="[object Arguments]"===e;return i||(i="[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===r.call(t.callee)),i}},function(t,e,i){"use strict";var r=i(397),s=i(399);t.exports=function(){var t=s();return r(Number,{isNaN:t},{isNaN:function(){return Number.isNaN!==t}}),t}},function(t,e){var i,r,s=t.exports={};function n(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(t){if(i===setTimeout)return setTimeout(t,0);if((i===n||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:n}catch(t){i=n}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(t){r=a}}();var l,u=[],c=!1,p=-1;function m(){c&&l&&(c=!1,l.length?u=l.concat(u):p=-1,u.length&&h())}function h(){if(!c){var t=o(m);c=!0;for(var e=u.length;e;){for(l=u,u=[];++p<e;)l&&l[p].run();p=-1,e=u.length}l=null,c=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function f(t,e){this.fun=t,this.array=e}function d(){}s.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new f(t,e)),1!==u.length||c||o(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=d,s.addListener=d,s.once=d,s.off=d,s.removeListener=d,s.removeAllListeners=d,s.emit=d,s.prependListener=d,s.prependOnceListener=d,s.listeners=function(t){return[]},s.binding=function(t){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(t){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chainLinkAsync=e.chainAsync=e.chainLink=e.chain=void 0;var r,s=(r=i(432))&&r.__esModule?r:{default:r},n=i(403),a=i(416),o=i(452);function l(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var n=t.apply(e,i);function a(t,e){try{var i=n[t](e),a=i.value}catch(t){return void s(t)}i.done?r(a):Promise.resolve(a).then(o,l)}function o(t){a("next",t)}function l(t){a("throw",t)}o()})}}e.chain=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.maxChainLength,r=void 0===i?10:i,l=e.generateGraph,u=void 0===l||l,c=e.forceType||(0,n.type)(t),p=c.match(/object$/)?(0,s.default)(t):t,m=[{type:c,data:t}];"@csl/list+object"!==c;){if(r--<=0)return logger.error("[set]","Max. number of parsing iterations reached"),[];p=(0,a.data)(p,c),c=(0,n.type)(p),m.push({type:c})}return p.map(u?function(t){return(0,o.applyGraph)(t,m)}:o.removeGraph)};e.chainLink=function(t){var e=(0,n.type)(t),i=e.match(/array|object/)?(0,s.default)(t):t;return(0,a.data)(i,e)};var u,c=(u=l(regeneratorRuntime.mark(function t(e){var i,r,l,u,c,p,m,h,f,d=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=d.length>1&&void 0!==d[1]?d[1]:{},r=i.maxChainLength,l=void 0===r?10:r,u=i.generateGraph,c=void 0===u||u,p=i.forceType,m=p||(0,n.type)(e),h=m.match(/array|object/)?(0,s.default)(e):e,f=[{type:m,data:e}];case 5:if("@csl/list+object"===m){t.next=16;break}if(!(l--<=0)){t.next=9;break}return logger.error("[set]","Max. number of parsing iterations reached"),t.abrupt("return",[]);case 9:return t.next=11,(0,a.dataAsync)(h,m);case 11:h=t.sent,m=(0,n.type)(h),f.push({type:m}),t.next=5;break;case 16:return t.abrupt("return",h.map(c?function(t){return(0,o.applyGraph)(t,f)}:o.removeGraph));case 17:case"end":return t.stop()}},t,this)})),function(t){return u.apply(this,arguments)});e.chainAsync=c;var p,m=(p=l(regeneratorRuntime.mark(function t(e){var i,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,n.type)(e),r=i.match(/array|object/)?(0,s.default)(e):e,t.abrupt("return",(0,a.dataAsync)(r,i));case 3:case"end":return t.stop()}},t,this)})),function(t){return p.apply(this,arguments)});e.chainLinkAsync=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){return JSON.parse(JSON.stringify(t))};e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.format=e.list=e.has=e.remove=e.add=e.register=void 0;var r,s=(r=i(404))&&r.__esModule?r:{default:r};function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var a=new s.default;e.register=a;e.add=function(t,e){!function(t,e){if("string"!=typeof t)throw new TypeError("Invalid output format name, expected string, got ".concat(n(t)));if("function"!=typeof e)throw new TypeError("Invalid formatter, expected function, got ".concat(n(e)))}(t,e),a.set(t,e)};e.remove=function(t){a.remove(t)};e.has=function(t){return a.has(t)};e.list=function(){return a.list()};e.format=function(t,e){if(a.has(t)){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];return a.get(t).apply(void 0,[e].concat(r))}logger.error("[get]",'Output plugin "'.concat(t,'" unavailable'))}},function(t,e,i){const r=t.exports={};r.searchEntities=i(576),r.getEntities=i(465),r.getManyEntities=i(581),r.sparqlQuery=i(466),r.getReverseClaims=i(582),r.getRevisions=i(584),r.getEntitiesFromSitelinks=i(585),r.getWikidataIdsFromSitelinks=r.getEntitiesFromSitelinks,r.parse=i(586);const s=i(468),n=i(472);r.simplify=i(469);const{simplifyEntity:a,simplifyEntities:o}=i(467);r.simplify.entity=a,r.simplify.entities=o,r.simplify.claim=s.simplifyClaim,r.simplify.propertyClaims=s.simplifyPropertyClaims,r.simplify.claims=s.simplifyClaims,r.simplify.qualifier=s.simplifyQualifiers,r.simplify.propertyQualifiers=s.simplifyPropertyQualifiers,r.simplify.qualifiers=s.simplifyQualifier,r.simplify.sitelinks=i(470),r.simplify.sparqlResults=n,r.simplifySparqlResults=i(472),Object.assign(r,s),r.getWikidataIdsFromWikipediaTitles=r.getWikidataIdsFromSitelinks;const l=i(419),u=i(471);Object.assign(r,l,u)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=l(i(598)),s=l(i(599)),n=l(i(600)),a=l(i(601)),o=l(i(602));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this instanceof u?(this._options=e||{},this.log=[],this.data=[],this.set(t,e),this.options(e),this.save(),this):new u(t,e)}Object.assign(u.prototype,r,s,n,a,o),u.prototype[Symbol.iterator]=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.delegateYield(this.data,"t0",1);case 1:case"end":return t.stop()}},t,this)});var c=u;e.default=c},function(t,e,i){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.getLabel=void 0;var s=((r=i(437))&&r.__esModule?r:{default:r}).default;e.getLabel=s;var n={label:function(t){return t.reduce(function(t,e){return t[e.id]=s(e),t},{})}};e.default=n},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t["citation-label"])return t["citation-label"];var e="";return t.author&&(e+=t.author[0].family||t.author[0].literal),t.issued&&t.issued["date-parts"]&&t.issued["date-parts"][0]&&(e+=t.issued["date-parts"][0][0]),t["year-suffix"]?e+=t["year-suffix"]:t.title&&(e+=t.title.replace(/<\/?.*?>/g,"").match(/^(?:(?:the|a|an)\s+)?(\S+)/i)[1]),e};e.default=r},function(t,e,i){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(t){var e=r(t["date-parts"],1)[0],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",s=e.map(function(t){return t.toString()});switch(s.length){case 3:s[2]=s[2].padStart(2,"0");case 2:s[1]=s[1].padStart(2,"0");case 1:s[0]=s[0].padStart(4,"0")}return s.join(i)};e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.locales=e.default=void 0;var r=n(i(404)),s=n(i(607));function n(t){return t&&t.__esModule?t:{default:t}}var a=new r.default(s.default);e.locales=a;var o=function(t){return a.has(t)?a.get(t):a.get("en-US")};e.default=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.templates=e.default=void 0;var r=n(i(404)),s=n(i(608));function n(t){return t&&t.__esModule?t:{default:t}}var a=new r.default(s.default);e.templates=a;var o=function(t){return a.has(t)?a.get(t):a.get("apa")};e.default=o},function(t,e,i){"use strict";t.exports=function(t){var e=String(t),i=e.length;for(;e.charAt(--i)===r;);return e.slice(0,i+1)};var r="\n"},function(t,e,i){"use strict";t.exports=function(t,e,i,r){var s,n,a,o,l,u,c=["pedantic","commonmark"],p=c.length,m=t.length,h=-1;for(;++h<m;){for(s=t[h],n=s[1]||{},a=s[0],o=-1,u=!1;++o<p;)if(void 0!==n[l=c[o]]&&n[l]!==i.options[l]){u=!0;break}if(!u&&e[a].apply(i,r))return!0}return!1}},function(t,e,i){"use strict";var r=i(496);t.exports=function(t){return r(t).toLowerCase()}},function(t,e,i){"use strict";var r=i(683),s=i(488),n=i(489),a=i(490),o=i(684);t.exports=h,h.escape=function(t){return h(t,{escapeOnly:!0,useNamedReferences:!0})};var l={}.hasOwnProperty,u=function(){var t,e={};for(t in r)e[r[t]]=t;return e}(),c=g(['"',"'","<",">","&","`"]),p=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g;function h(t,e){var i=e||{},r=i.subset,s=r?g(r):c,n=i.escapeOnly,a=i.omitOptionalSemicolons;return t=t.replace(s,function(t,e,r){return f(t,r.charAt(e+1),i)}),r||n?t:t.replace(p,function(t,e,i){return d(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536,i.charAt(e+2),a)}).replace(m,function(t,e,r){return f(t,r.charAt(e+1),i)})}function f(t,e,i){var r,n,c=i.useShortestReferences,p=i.omitOptionalSemicolons;return(c||i.useNamedReferences)&&l.call(u,t)&&(r=function(t,e,i,r){var n="&"+t;if(i&&l.call(s,t)&&-1===o.indexOf(t)&&(!r||e&&"="!==e&&!a(e)))return n;return n+";"}(u[t],e,p,i.attribute)),!c&&r||(n=d(t.charCodeAt(0),e,p)),r&&(!c||r.length<n.length)?r:n}function d(t,e,i){var r="&#x"+t.toString(16).toUpperCase();return i&&e&&!n(e)?r:r+";"}function g(t){return new RegExp("["+t.join("")+"]","g")}},function(t,e,i){"use strict";var r=i(504);t.exports=function(t,e){if(e||0===t.length||s.test(t)||r(t,"(")!==r(t,")"))return"<"+t+">";return t};var s=/\s/},function(t,e,i){"use strict";t.exports=function(t){var e=-1===t.indexOf('"')?'"':"'";return e+t+e}},function(t,e,i){"use strict";var r=i(514);function s(t){return function(e,i,s){var n,a=e&&e.children;if(i+=t,n=a&&a[i],!s)for(;n&&r(n);)n=a[i+=t];return n}}e.before=s(-1),e.after=s(1)},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={async:!0};Object.defineProperty(e,"async",{enumerable:!0,get:function(){return n.default}});var s,n=(s=i(555))&&s.__esModule?s:{default:s},a=i(476);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}}))})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={util:!0};e.util=void 0;var s=p(i(451)),n=p(i(452)),a=p(i(453)),o=i(557);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}}))});var l=i(431);Object.keys(l).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return l[t]}}))});var u=i(403);Object.keys(u).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}}))});var c=i(416);function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}Object.keys(c).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return c[t]}}))});var h=function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},r=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),r.forEach(function(e){m(t,e,i[e])})}return t}({},s,n,a);e.util=h},function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.dataTypeOf=e.typeOf=void 0;var s=function(t){switch(t){case void 0:return"Undefined";case null:return"Null";default:return t.constructor.name}};e.typeOf=s;e.dataTypeOf=function(t){switch(r(t)){case"string":return"String";case"object":if(Array.isArray(t))return"Array";if("Object"===s(t))return"SimpleObject";if("Null"!==s(t))return"ComplexObject";default:return"Primitive"}}},function(t,e,i){"use strict";function r(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.removeGraph=e.applyGraph=void 0;e.applyGraph=function(t,e){var i=function(t){return"@else/list+object"===t.type};return Array.isArray(t._graph)?e.find(i)&&(e.splice.apply(e,[e.findIndex(i),1].concat(r(t._graph.slice(0,-1)))),t._graph=e):t._graph=e,t};e.removeGraph=function(t){return delete t._graph,t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormatParser=e.DataParser=e.TypeParser=void 0;var r=i(403);function s(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}var u=function(){function t(e){var i,r,s;a(this,t),s=["String","Array","SimpleObject","ComplexObject","Primitive"],(r="validDataTypes")in(i=this)?Object.defineProperty(i,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[r]=s,this.data=e}return l(t,[{key:"validateDataType",value:function(){var t=this.data.dataType;if(t&&!this.validDataTypes.includes(t))throw new RangeError("dataType was ".concat(t,"; expected one of ").concat(this.validDataTypes))}},{key:"validateParseType",value:function(){var t=this.data.predicate;if(t&&!(t instanceof RegExp||"function"==typeof t))throw new TypeError("predicate was ".concat(n(t),"; expected RegExp or function"))}},{key:"validateTokenList",value:function(){var t=this.data.tokenList;if(t&&"object"!==n(t))throw new TypeError("tokenList was ".concat(n(t),"; expected object or RegExp"))}},{key:"validatePropertyConstraint",value:function(){var t=this.data.propertyConstraint;if(t&&"object"!==n(t))throw new TypeError("propertyConstraint was ".concat(n(t),"; expected array or object"))}},{key:"validateElementConstraint",value:function(){var t=this.data.elementConstraint;if(t&&"string"!=typeof t)throw new TypeError("elementConstraint was ".concat(n(t),"; expected string"))}},{key:"validateExtends",value:function(){var t=this.data.extends;if(t&&"string"!=typeof t)throw new TypeError("extends was ".concat(n(t),"; expected string"))}},{key:"validate",value:function(){if(null===this.data||"object"!==n(this.data))throw new TypeError("typeParser was ".concat(n(this.data),"; expected object"));this.validateDataType(),this.validateParseType(),this.validateTokenList(),this.validatePropertyConstraint(),this.validateElementConstraint(),this.validateExtends()}},{key:"parseTokenList",value:function(){var t=this.data.tokenList;if(!t)return[];t instanceof RegExp&&(t={token:t});var e=t,i=e.token,r=e.split,s=void 0===r?/\s+/:r,n=e.trim,a=void 0===n||n,o=e.every,l=void 0===o||o?"every":"some";return[function(t){return function(t){return a?t.trim():t}(t).split(s)[l](function(t){return i.test(t)})}]}},{key:"parsePropertyConstraint",value:function(){return[].concat(this.data.propertyConstraint||[]).map(function(t){var e=t.props,i=t.match,r=void 0===i?"every":i,s=t.value,n=void 0===s?function(){return!0}:s;return e=[].concat(e),function(t){return e[r](function(e){return e in t&&n(t[e])})}})}},{key:"parseElementConstraint",value:function(){var t=this.data.elementConstraint;return t?[function(e){return e.every(function(e){return(0,r.type)(e)===t})}]:[]}},{key:"parsePredicate",value:function(){return this.data.predicate instanceof RegExp?[this.data.predicate.test.bind(this.data.predicate)]:this.data.predicate?[this.data.predicate]:[]}},{key:"getCombinedPredicate",value:function(){var t=s(this.parsePredicate()).concat(s(this.parseTokenList()),s(this.parsePropertyConstraint()),s(this.parseElementConstraint()));return 0===t.length?function(){return!0}:1===t.length?t[0]:function(e){return t.every(function(t){return t(e)})}}},{key:"getDataType",value:function(){return this.data.dataType?this.data.dataType:this.data.predicate instanceof RegExp?"String":this.data.tokenList?"String":this.data.elementConstraint?"Array":"Primitive"}},{key:"dataType",get:function(){return this.getDataType()}},{key:"predicate",get:function(){return this.getCombinedPredicate()}},{key:"extends",get:function(){return this.data.extends}}]),t}();e.TypeParser=u;var c=function(){function t(e){var i=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).async;a(this,t),this.parser=e,this.async=i}return l(t,[{key:"validate",value:function(){var t=this.parser;if("function"!=typeof t)throw new TypeError("parser was ".concat(n(t),"; expected function"))}}]),t}();e.DataParser=c;var p=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(this,t),this.format=e,i.parseType&&(this.typeParser=new u(i.parseType)),i.parse&&(this.dataParser=new c(i.parse,{async:!1})),i.parseAsync&&(this.asyncDataParser=new c(i.parseAsync,{async:!0}))}return l(t,[{key:"validateFormat",value:function(){var t=this.format;if(!r.typeMatcher.test(t))throw new TypeError('format name was "'.concat(t,"\"; didn't match expected pattern"))}},{key:"validate",value:function(){this.validateFormat(),this.typeParser&&this.typeParser.validate(),this.dataParser&&this.dataParser.validate(),this.asyncDataParser&&this.asyncDataParser.validate()}}]),t}();e.FormatParser=p},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formats=e.parsers=e.ref=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}(i(560));var s=["fulltext_html","fulltext_xml","fulltext_pdf"];e.ref="@bibjson";var n={json:r};e.parsers=n;var a={"@bibjson/quickscrape+record+object":{parse:r.quickscrapeRecord,parseType:{propertyConstraint:{props:"link",value:function(t){return s.some(function(e){return t.find(function(t){return t.type===e})})}},extends:"@bibjson/record+object"}},"@bibjson/record+object":{parse:r.record,parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"title"},{props:["author","editor"],match:"some",value:function(t){return Array.isArray(t)&&t[0]&&"name"in t[0]}}]}},"@bibjson/collection+object":{parse:function(t){return t.records},parseType:{dataType:"SimpleObject",propertyConstraint:[{props:"metadata",value:function(t){return"collection"in t}},{props:"records",value:function(t){return Array.isArray(t)}}]}}};e.formats=a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formats=e.parsers=e.ref=void 0;var r=l(i(561)),s=l(i(563)),n=l(i(457)),a=l(i(458)),o=l(i(564));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}e.ref="@bibtex";var u={text:r,json:s,prop:n,type:a,bibtxt:o};e.parsers=u;var c={"@bibtex/text":{parse:r.parse,parseType:{dataType:"String",predicate:/@\s{0,5}[A-Za-z]{1,13}\s{0,5}\{\s{0,5}[^@{}"=,\\\s]{0,100}\s{0,5},[\s\S]*\}/}},"@bibtxt/text":{parse:o.parse,parseType:{dataType:"String",predicate:/^\s*(\[(?!\s*[{[]).*?\]\s*(\n\s*[^[]((?!:)\S)+\s*:\s*.+?\s*)*\s*)+$/}},"@bibtex/object":{parse:s.parse,parseType:{dataType:"SimpleObject",propertyConstraint:{props:["type","label","properties"]}}},"@bibtex/prop":{parse:n.parse},"@bibtex/type":{parse:a.parse}};e.formats=c},function(t,e,i){"use strict";function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.stack=e,this.index=0,this.current=this.stack[this.index]}var e,i,s;return e=t,s=[{key:"getPatternText",value:function(t){return'"'.concat(t instanceof RegExp?t.source:t,'"')}},{key:"getMatchCallback",value:function(e){if(Array.isArray(e)){var i=e.map(t.getMatchCallback);return function(t){return i.some(function(e){return e(t)})}}return e instanceof Function?e:e instanceof RegExp?function(t){return e.test(t)}:function(t){return e===t}}}],(i=[{key:"tokensLeft",value:function(){return this.stack.length-this.index}},{key:"matches",value:function(e){return t.getMatchCallback(e)(this.current,this.index,this.stack)}},{key:"matchesSequence",value:function(e){var i=this.stack.slice(this.index,this.index+e.length).join("");return"string"==typeof e?i===e:e.every(function(e,r){return t.getMatchCallback(e)(i[r])})}},{key:"consumeToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^[\s\S]$/,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=(i.inverse,i.spaced),s=void 0===r||r;s&&this.consumeWhitespace();var n=this.current;if(!t.getMatchCallback(e)(n,this.index,this.stack))throw new SyntaxError("Unexpected token at index ".concat(this.index,": Expected ").concat(t.getPatternText(e),', got "').concat(n,'"'));return this.current=this.stack[++this.index],s&&this.consumeWhitespace(),n}},{key:"consumeWhitespace",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^\s$/,e=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).optional,i=void 0===e||e;return this.consume(t,{min:+!i})}},{key:"consumeN",value:function(t){if(this.tokensLeft()<t)throw new SyntaxError("Not enough tokens left");for(var e=this.index;t--;)this.current=this.stack[++this.index];return this.stack.slice(e,this.index).join("")}},{key:"consumeSequence",value:function(t){if(this.matchesSequence(t))return this.consumeN(t.length);throw new SyntaxError('Expected "'.concat(t,'", got "').concat(this.consumeN(t.length),'"'))}},{key:"consume",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:/^[\s\S]$/,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.min,s=void 0===r?0:r,n=i.max,a=void 0===n?1/0:n,o=i.inverse,l=void 0!==o&&o,u=i.tokenMap,c=i.tokenFilter,p=this.index,m=t.getMatchCallback(e);m(this.current,this.index,this.stack)!==l;)this.current=this.stack[++this.index];var h=this.stack.slice(p,this.index);if(h.length<s)throw new SyntaxError("Not enough ".concat(t.getPatternText(e)));if(h.length>a)throw new SyntaxError("Too many ".concat(t.getPatternText(e)));return u&&(h=h.map(u)),c&&(h=h.filter(c)),h.join("")}}])&&r(e.prototype,i),s&&r(e,s),t}();e.default=s},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var r=n(i(405)),s=n(i(417));function n(t){return t&&t.__esModule?t:{default:t}}var a=[/jan(uary)?\.?/i,/feb(ruary)?\.?/i,/mar(ch)?\.?/i,/apr(il)?\.?/i,/may\.?/i,/jun(e)?\.?/i,/jul(y)?\.?/i,/aug(ust)?\.?/i,/sep(tember)?\.?/i,/oct(ober)?\.?/i,/nov(ember)?\.?/i,/dec(ember)?\.?/i],o=function(t){return/{|}/.test(t)?{literal:t.replace(/[{}]/g,"")}:(0,r.default)(t)},l={textit:"i",textbf:"b",textsc:"sc",textsuperscript:"sup",textsubscript:"sub"},u={address:"publisher-place",author:!0,booktitle:"container-title",doi:"DOI",date:"issued",edition:!0,editor:!0,isbn:"ISBN",issn:"ISSN",issue:"issue",journal:"container-title",language:!0,location:"publisher-place",note:!0,number:"issue",numpages:"number-of-pages",pages:"page",pmid:"PMID",pmcid:"PMCID",publisher:!0,series:"collection-title",title:!0,url:"URL",volume:!0,year:"issued:date-parts.0.0",month:"issued:date-parts.0.1",day:"issued:date-parts.0.2",crossref:!1,keywords:!1};e.default=e.parse=function(t,e){if(u.hasOwnProperty(t)){if(!1!==u[t]){var i=!0===u[t]?t:u[t];return[i,function(t,e){switch(i){case"author":case"editor":return p=[],e.replace(/%/g,"%0").replace(/{.*?}/g,function(t){return"%[".concat(p.push(t)-1,"]")}).split(" and ").map(function(t){return t.replace(/%\[(\d+)\]/,function(t,e){return p[+e]}).replace(/%0/g,"%")}).map(o);case"issued":return function(t){return/{|}/.test(t)?{literal:t.replace(/[{}]/g,"")}:(0,s.default)(t)}(e);case"edition":return e;case"issued:date-parts.0.1":return parseFloat(e)?e:a.findIndex(function(t){return t.test(e)})+1;case"page":return e.replace(/[—–]/,"-");case"title":return n=(r=e).split(/((?:\\text[a-z]+)?{|})/),u=[],c="{"===r[0]&&"}"===r[r.length-1],n=n.map(function(t,e){if(e%2==0)return t;if("\\"===t[0]){var i=l[t.slice(1,-1)];return u.push("</".concat(i,">")),"<".concat(i,">")}return"{"===t?(u.push("</span>"),'<span class="nocase">'):"}"===t?(1===u.length&&e!==n.length-2&&(c=!1),u.pop()):void 0}),c&&(n.splice(0,2),n.splice(-2,2)),n.join("");default:return e.replace(/[{}]/g,"")}var r,n,u,c,p}(0,e)]}}else logger.info("[set]","Unknown property: ".concat(t))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var r={article:"article-journal",book:"book",booklet:"book",proceedings:"book",manual:!1,mastersthesis:"thesis",misc:!1,inbook:"chapter",incollection:"chapter",conference:"paper-conference",inproceedings:"paper-conference",online:"website",patent:"patent",phdthesis:"thesis",techreport:"report",unpublished:"manuscript"};e.default=e.parse=function(t){return r.hasOwnProperty(t)?!1===r[t]?"book":r[t]:(logger.warn("[set]","BibTeX publication type not recognized: ".concat(t,'. Defaulting to "book".')),"book")}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formats=e.parsers=e.ref=void 0;var r=o(i(565)),s=o(i(566)),n=o(i(460)),a=o(i(461));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}e.ref="@doi";var l={id:r,api:s,json:n,type:a};e.parsers=l;var u={"@doi/api":{parse:s.parse,parseAsync:s.parseAsync,parseType:{dataType:"String",predicate:/^\s*(https?:\/\/(?:dx\.)?doi\.org\/(10.\d{4,9}\/[-._;()\/:A-Z0-9]+))\s*$/i,extends:"@else/url"}},"@doi/id":{parse:r.parse,parseType:{dataType:"String",predicate:/^\s*(10.\d{4,9}\/[-._;()\/:A-Z0-9]+)\s*$/i}},"@doi/list+text":{parse:r.parse,parseType:{dataType:"String",tokenList:/^10.\d{4,9}\/[-._;()\/:A-Z0-9]+$/i}},"@doi/list+object":{parse:r.parse,parseType:{dataType:"Array",elementConstraint:"@doi/id"}},"@doi/type":{parse:a.parse}};e.formats=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var r,s=(r=i(461))&&r.__esModule?r:{default:r};e.default=e.parse=function(t){var e={type:(0,s.default)(t.type)};return["submitted","issued","event-date","original-date","container","accessed"].forEach(function(e){var i=t[e];i&&i["date-parts"]&&"number"==typeof i["date-parts"][0]&&(i["date-parts"]=[i["date-parts"]])}),Object.assign({},t,e)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var r={"journal-article":"article-journal","book-chapter":"chapter","posted-content":"manuscript","proceedings-article":"paper-conference"};e.default=e.parse=function(t){return r[t]||t}},function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty,s=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}();e.arrayToObject=function(t,e){for(var i=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(i[r]=t[r]);return i},e.merge=function(t,i,s){if(!i)return t;if("object"!=typeof i){if(Array.isArray(t))t.push(i);else{if("object"!=typeof t)return[t,i];(s.plainObjects||s.allowPrototypes||!r.call(Object.prototype,i))&&(t[i]=!0)}return t}if("object"!=typeof t)return[t].concat(i);var n=t;return Array.isArray(t)&&!Array.isArray(i)&&(n=e.arrayToObject(t,s)),Array.isArray(t)&&Array.isArray(i)?(i.forEach(function(i,n){r.call(t,n)?t[n]&&"object"==typeof t[n]?t[n]=e.merge(t[n],i,s):t.push(i):t[n]=i}),t):Object.keys(i).reduce(function(t,n){var a=i[n];return r.call(t,n)?t[n]=e.merge(t[n],a,s):t[n]=a,t},n)},e.assign=function(t,e){return Object.keys(e).reduce(function(t,i){return t[i]=e[i],t},t)},e.decode=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},e.encode=function(t){if(0===t.length)return t;for(var e="string"==typeof t?t:String(t),i="",r=0;r<e.length;++r){var n=e.charCodeAt(r);45===n||46===n||95===n||126===n||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122?i+=e.charAt(r):n<128?i+=s[n]:n<2048?i+=s[192|n>>6]+s[128|63&n]:n<55296||n>=57344?i+=s[224|n>>12]+s[128|n>>6&63]+s[128|63&n]:(r+=1,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),i+=s[240|n>>18]+s[128|n>>12&63]+s[128|n>>6&63]+s[128|63&n])}return i},e.compact=function(t){for(var e=[{obj:{o:t},prop:"o"}],i=[],r=0;r<e.length;++r)for(var s=e[r],n=s.obj[s.prop],a=Object.keys(n),o=0;o<a.length;++o){var l=a[o],u=n[l];"object"==typeof u&&null!==u&&-1===i.indexOf(u)&&(e.push({obj:n,prop:l}),i.push(u))}return function(t){for(var e;t.length;){var i=t.pop();if(e=i.obj[i.prop],Array.isArray(e)){for(var r=[],s=0;s<e.length;++s)void 0!==e[s]&&r.push(e[s]);i.obj[i.prop]=r}}return e}(e)},e.isRegExp=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},e.isBuffer=function(t){return null!=t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}},function(t,e,i){"use strict";var r=String.prototype.replace,s=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return r.call(t,s,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formats=e.parsers=e.ref=void 0;var r=u(i(575)),s=u(i(589)),n=u(i(473)),a=u(i(474)),o=u(i(590)),l=u(i(591));function u(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}e.ref="@wikidata";var c={list:r,json:s,prop:n,type:a,url:o,api:l};e.parsers=c;var p={"@wikidata/id":{parse:r.parse,parseType:{dataType:"String",predicate:/^\s*(Q\d+)\s*$/}},"@wikidata/list+text":{parse:r.parse,parseType:{dataType:"String",predicate:/^\s*((?:Q\d+(?:\s+|,|))*Q\d+)\s*$/}},"@wikidata/api":{parse:l.parse,parseAsync:l.parseAsync,parseType:{dataType:"String",predicate:/^(https?:\/\/(?:www\.)?wikidata.org\/w\/api\.php(?:\?.*)?)$/,extends:"@else/url"}},"@wikidata/url":{parse:o.parse,parseType:{dataType:"String",predicate:/\/(Q\d+)(?:[#?\/]|\s*$)/,extends:"@else/url"}},"@wikidata/list+object":{parse:r.parse,parseType:{dataType:"Array",elementConstraint:"@wikidata/id"}},"@wikidata/object":{parse:s.parse,parseAsync:s.parseAsync,parseType:{dataType:"SimpleObject",propertyConstraint:{props:"entities"}}},"@wikidata/prop":{parse:n.parse},"@wikidata/type":{parse:a.parse}};e.formats=p},function(t,e,i){const r=i(418),{isPlainObject:s,forceArray:n,shortLang:a}=i(391);t.exports=function(t,e,i,o){if(s(t)&&({ids:t,languages:e,props:i,format:o}=t),o=o||"json",!(t&&t.length>0))throw new Error("no id provided");(t=n(t)).length>50&&console.warn("getEntities accepts 50 ids max to match Wikidata API limitations:\n      this request won't get all the desired entities.\n      You can use getManyEntities instead to generate several request urls\n      to work around this limitation");const l={action:"wbgetentities",ids:t.join("|"),format:o};return e&&(e=n(e).map(a),l.languages=e.join("|")),i&&i.length>0&&(l.props=n(i).join("|")),r(l)}},function(t,e,i){const{fixedEncodeURIComponent:r}=i(391);t.exports=function(t){return`https://query.wikidata.org/sparql?format=json&query=${r(t)}`}},function(t,e,i){const{simplifyClaims:r}=i(468),s=i(469),n=i(470),a=(t,e)=>{const i={id:t.id,type:t.type,modified:t.modified};return o(t,i,"labels"),o(t,i,"descriptions"),o(t,i,"aliases"),null!=t.claims&&(i.claims=r(t.claims,e)),null!=t.sitelinks&&(i.sitelinks=n(t.sitelinks,e)),i},o=(t,e,i)=>{null!=t[i]&&(e[i]=s[i](t[i]))};t.exports={simplifyEntity:a,simplifyEntities:(t,e={})=>{const{entityPrefix:i}=e;return Object.keys(t).reduce((r,s)=>{const n=t[s];return i&&(s=`${i}:${s}`),r[s]=a(n,e),r},{})}}},function(t,e,i){const{parse:r}=i(587),{uniq:s}=i(391),n=function(t,...e){const{propertyPrefix:i}=p(e),r={};for(let s in t){let n=t[s];i&&(s=i+":"+s),r[s]=a(n,...e)}return r},a=function(t,...e){if(null==t||0===t.length)return[];const{keepNonTruthy:i,areSubSnaks:r}=p(e);return i||r||(t=l(t)),(t=t.map(t=>c(t,...e)).filter(u))[0]&&"object"!=typeof t[0]?s(t):t},o=function(t,e){const{rank:i}=e;return t[i]||(t[i]=[]),t[i].push(e),t},l=function(t){const e=t.reduce(o,{});return e.preferred||e.normal||[]},u=t=>null!=t,c=function(t,...e){e=p(e);const{keepQualifiers:i,keepReferences:s,keepIds:a,keepHashes:o,keepTypes:l}=e,{mainsnak:u}=t;var c,h,f,d;if(u){if(c=u.datatype,!(h=u.datavalue))return null}else{if(!t||!t.datavalue)return null;h=t.datavalue,c=t.datatype,t.hash?f=!0:d=!0}const g=r(c,h,e,t.id);if(f){if(!o&&!l)return g;const e={value:g};return o&&(e.hash=t.hash),l&&(e.type=c),e}if(d)return l?{type:c,value:g}:g;if(!(i||s||a||l))return g;const b={value:g};l&&(b.type=c);const v=m(e);return v.keepHashes=o,i&&(b.qualifiers=n(t.qualifiers,v)),s&&(t.references=t.references||[],b.references=t.references.map(t=>{const e=n(t.snaks,v);return o?{snaks:e,hash:t.hash}:e})),a&&(b.id=t.id),b},p=function(t){if(null==t)return{};if(t[0]&&"object"==typeof t[0])return t[0];var[e,i,r]=t;return{entityPrefix:e,propertyPrefix:i,keepQualifiers:r}},m=t=>Object.assign({},t,{areSubSnaks:!0});t.exports={simplifyClaims:n,simplifyPropertyClaims:a,simplifyClaim:c,truthyClaims:function(t){const e={};return Object.keys(t).forEach(i=>{e[i]=l(t[i])}),e},truthyPropertyClaims:l,simplifyQualifiers:(t,e)=>n(t,m(e)),simplifyPropertyQualifiers:(t,e)=>a(t,m(e)),simplifyQualifier:c}},function(t,e){const i=t=>e=>Object.keys(e).reduce(r(e,t),{}),r=(t,e)=>(i,r)=>{const n=t[r];return i[r]=e?n.map(s):n.value,i},s=t=>t.value,n=i(!1);t.exports={labels:n,descriptions:n,aliases:i(!0)}},function(t,e,i){const{getSitelinkUrl:r}=i(471);t.exports=((t,e={})=>{const{addUrl:i}=e;return Object.keys(t).reduce(s(t,i),{})});const s=(t,e)=>(i,s)=>{const{title:n}=t[s];return i[s]=e?{title:n,url:r(s,n)}:n,i}},function(t,e,i){const{fixedEncodeURIComponent:r,replaceSpaceByUnderscores:s,isPlainObject:n}=i(391),{isPropertyId:a}=i(419),o=i(588),l=t=>e=>`https://${t}.wikimedia.org/wiki/${e}`,u={commons:l("commons"),mediawiki:t=>`https://www.mediawiki.org/wiki/${t}`,meta:l("meta"),species:l("species"),wikidata:t=>a(t)?`https://www.wikidata.org/wiki/Property:${t}`:`https://www.wikidata.org/wiki/${t}`},c=t=>{const e=p[t];if(e)return{lang:"en",project:e};const[i,r,s]=t.split("wik");if(null!=s)throw new Error(`invalid sitelink: ${t}`);if(-1===o.indexOf(i))throw new Error(`sitelink lang not found: ${i}`);const n=m[r];if(!n)throw new Error(`sitelink project not found: ${n}`);return{lang:i,project:n}},p={commonswiki:"commons",mediawikiwiki:"mediawiki",metawiki:"meta",specieswiki:"specieswiki",wikidatawiki:"wikidata"},m={i:"wikipedia",isource:"wikisource",iquote:"wikiquote",tionary:"wiktionary",ibooks:"wikibooks",iversity:"wikiversity",ivoyage:"wikivoyage",inews:"wikinews"};t.exports={getSitelinkUrl:(t,e)=>{if(n(t)&&(e=t.title,t=t.site),!t)throw new Error("missing a site");if(!e)throw new Error("missing a title");const i=t.replace(/wiki$/,""),a=u[i]||u[t];if(a)return a(e);const{lang:o,project:l}=c(t);return`https://${o}.${l}.org/wiki/${e=r(s(e))}`},getSitelinkData:c,isSitelinkKey:t=>{try{return c(t),!0}catch(t){return!1}}}},function(t,e){t.exports=function(t){"string"==typeof t&&(t=JSON.parse(t));const{vars:e}=t.head,r=t.results.bindings;if(1===e.length){const t=e[0];return r.map(e=>i(e[t])).filter(t=>null!=t)}const{richVars:s,standaloneVars:n}=c(e);return r.map(f(s,n))};const i=function(t){if(!t)return;var{datatype:e}=t;return e=e&&e.replace("http://www.w3.org/2001/XMLSchema#",""),(r[t.type]||n(e))(t)},r={uri:t=>l(t.value),bnode:()=>null},s=t=>parseFloat(t.value),n=function(t){return t=t&&t.replace("http://www.w3.org/2001/XMLSchema#",""),a[t]||o},a={decimal:s,integer:s,float:s,double:s,boolean:t=>"true"===t.value},o=t=>t.value,l=function(t){return t.startsWith("http://www.wikidata.org/entity/statement/")?u(t):t.replace("http://www.wikidata.org/entity/","").replace("http://www.wikidata.org/prop/direct/","")},u=function(t){const e=(t=t.replace("http://www.wikidata.org/entity/statement/","")).split("-");return e[0]+"$"+e.slice(1).join("-")},c=function(t){return t.reduce(p(t),{richVars:[],standaloneVars:[]})},p=t=>(e,i)=>{if(t.some(h(i)))return e.richVars.push(i),e;if(!m.test(i))return e.standaloneVars.push(i),e;let r=i.replace(m,"$1").replace(/Alt$/,"");return t.includes(r)||e.standaloneVars.push(i),e},m=/^(\w+)(Label|Description|AltLabel)$/,h=t=>e=>`${t}Label`===e||(`${t}Description`===e||`${t}AltLabel`===e),f=function(t,e){return function(r){const s={};for(let e of t){let t=i(r[e]);null!=t&&(s[e]={value:t},d(r,e,"label",s[e]),d(r,e,"description",s[e]),d(r,e,"aliases",s[e]))}for(let t of e)s[t]=i(r[t]);return s}},d=(t,e,i,r)=>{const s=t[e+g[i]];null!=s&&(r[i]=s.value)},g={label:"Label",description:"Description",aliases:"AltLabel"}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseAsync=e.default=e.parse=void 0;var r=u(i(434)),s=u(i(406)),n=u(i(407)),a=u(i(474)),o=u(i(417)),l=u(i(405));function u(t){return t&&t.__esModule?t:{default:t}}function c(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var n=t.apply(e,i);function a(t,e){try{var i=n[t](e),a=i.value}catch(t){return void s(t)}i.done?r(a):Promise.resolve(a).then(o,l)}function o(t){a("next",t)}function l(t){a("throw",t)}o()})}}var p=function(t,e){var i=Array.isArray(t)?t:"string"==typeof t?t.split("|"):"",n=r.default.getEntities(i,[e],"labels"),a=JSON.parse((0,s.default)(n)).entities||{};return Object.keys(a).map(function(t){return(a[t].labels[e]||{}).value})},m=function(t){return t.P1545?parseInt(t.P1545[0]):-1},h={P31:"type",P50:"author",P57:"director",P86:"composer",P98:"editor",P110:"illustrator",P123:"publisher",P136:"genre",P212:"ISBN",P236:"ISSN",P291:"publisher-place",P304:"page",P348:"version",P356:"DOI",P393:"edition",P433:"issue",P478:"volume",P577:"issued",P655:"translator",P698:"PMID",P932:"PMCID",P953:"URL",P957:"ISBN",P1104:"number-of-pages",P1433:"container-title",P1476:"title",P2093:"author",P2860:!1,P921:!1,P3181:!1,P364:!1},f=function(t,e,i){if(h.hasOwnProperty(t)){if(!1!==h[t]){var r=h[t];return e?[r,function(t,e){var r=e[0].value;switch(t){case"P31":var s=(0,a.default)(r);return s||(logger.warn("[set]","Wikidata entry type not recognized: ".concat(r,'. Defaulting to "book".')),"book");case"P50":case"P57":case"P86":case"P98":case"P110":case"P655":return e.map(function(t){var e=t.value,r=t.qualifiers,s=(0,l.default)(p(e,i)[0]);return s._ordinal=m(r),s});case"P577":return(0,o.default)(r);case"P123":case"P136":case"P291":case"P1433":return p(r,i)[0];case"P2093":return e.map(function(t){var e=t.value,i=t.qualifiers,r=(0,l.default)(e);return r._ordinal=m(i),r});default:return r}}(t,e)]:r}}else logger.info("[set]","Unknown property: ".concat(t))};e.default=e.parse=f;var d,g,b=(d=c(regeneratorRuntime.mark(function t(e,i){var s,a,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=Array.isArray(e)?e:"string"==typeof e?e.split("|"):"",a=r.default.getEntities(s,[i],"labels"),t.t1=JSON,t.next=5,(0,n.default)(a);case 5:if(t.t2=t.sent,t.t0=t.t1.parse.call(t.t1,t.t2).entities,t.t0){t.next=9;break}t.t0={};case 9:return o=t.t0,t.abrupt("return",Object.keys(o).map(function(t){return(o[t].labels[i]||{}).value}));case 11:case"end":return t.stop()}},t,this)})),function(t,e){return d.apply(this,arguments)}),v=(g=c(regeneratorRuntime.mark(function t(e,i,r){var s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,function(){var t=c(regeneratorRuntime.mark(function t(e,i){var s;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:s=i[0].value,t.t0=e,t.next="P50"===t.t0?4:"P57"===t.t0?4:"P86"===t.t0?4:"P98"===t.t0?4:"P110"===t.t0?4:"P655"===t.t0?4:"P123"===t.t0?5:"P136"===t.t0?5:"P291"===t.t0?5:"P1433"===t.t0?5:8;break;case 4:return t.abrupt("return",Promise.all(i.map(function(){var t=c(regeneratorRuntime.mark(function t(e){var i,s,n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=e.value,s=e.qualifiers,t.t0=l.default,t.next=4,b(i,r);case 4:return t.t1=t.sent[0],(n=(0,t.t0)(t.t1))._ordinal=m(s),t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())));case 5:return t.next=7,b(s,r);case 7:return t.abrupt("return",t.sent[0]);case 8:case"end":return t.stop()}},t,this)}));return function(e,i){return t.apply(this,arguments)}}()(e,i);case 2:if(!(s=t.sent)){t.next=7;break}return t.abrupt("return",[f(e),s]);case 7:return t.abrupt("return",f(e,i,r));case 8:case"end":return t.stop()}},t,this)})),function(t,e,i){return g.apply(this,arguments)});e.parseAsync=v},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var r={Q49848:"article",Q191067:"article",Q13442814:"article-journal",Q18918145:"article-journal",Q38926:"article-newspaper",Q5707594:"article-newspaper",Q30070590:"article-magazine",Q686822:"bill",Q3331189:"book",Q571:"book",Q1555508:"broadcast",Q15416:"broadcast",Q1980247:"chapter",Q1172284:"dataset",Q10389811:"entry",Q19389637:"entry",Q17329259:"entry-encyclopedia",Q30070753:"figure",Q1027879:"graphic",Q4502142:"graphic",Q478798:"graphic",Q838948:"graphic",Q178651:"interview",Q49371:"legislation",Q820655:"legislation",Q2334719:"legal_case",Q87167:"manuscript",Q4006:"map",Q11424:"motion_picture",Q30070675:"motion_picture",Q187947:"musical_score",Q18536349:"pamphlet",Q190399:"pamphlet",Q26973022:"paper-conference",Q23927052:"paper-conference",Q253623:"patent",Q30070565:"personal_communication",Q30070439:"personal_communication",Q133492:"personal_communication",Q628523:"personal_communication",Q7216866:"post",Q17928402:"post-blog",Q10870555:"report",Q265158:"review",Q637866:"review-book",Q7366:"song",Q3741908:"song",Q30070318:"song",Q24634210:"song",Q861911:"speech",Q1266946:"thesis",Q187685:"thesis",Q131569:"treaty",Q36774:"webpage"};e.default=e.parse=function(t){return r[t]}},function(t,e,i){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var s=[[/((?:\[|:|,)\s*)'((?:\\'|[^'])*?[^\\])?'(?=\s*(?:\]|}|,))/g,'$1"$2"'],[/((?:(?:"|]|}|\/[gmiuys]|\.|(?:\d|\.|-)*\d)\s*,|{)\s*)(?:"([^":\n]+?)"|'([^":\n]+?)'|([^":\n]+?))(\s*):/g,'$1"$2$3$4"$5:']];e.default=e.parse=function(t){try{return JSON.parse(t)}catch(e){logger.info("[set]","Input was not valid JSON, switching to experimental parser for invalid JSON");try{return s.forEach(function(e){var i=r(e,2),s=i[0],n=i[1];t=t.replace(s,n)}),JSON.parse(t)}catch(t){return void logger.error("[set]","Experimental parser failed. Please improve the JSON. If this is not JSON, please re-read the supported formats.")}}}},function(t,e,i){"use strict";function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.validateOutputOptions=e.validateOptions=void 0;var s=["real","string"],n=["json","html","string","rtf"],a=["csl","bibtex","bibtxt","citation-*"],o=["string","function"],l=function(t){if("object"!==r(t))throw new TypeError("Options not an object!");var e=t.format,i=t.type,l=t.style,u=t.lang,c=t.append,p=t.prepend;if(e&&!s.includes(e))throw new TypeError('Option format ("'.concat(e,'") should be one of: ').concat(s));if(i&&!n.includes(i))throw new TypeError('Option type ("'.concat(i,'") should be one of: ').concat(n));if(l&&!a.includes(l)&&!/^citation/.test(l))throw new TypeError('Option style ("'.concat(l,'") should be one of: ').concat(a));if(u&&"string"!=typeof u)throw new TypeError("Option lang should be a string, but is a ".concat(r(u)));if(p&&!o.includes(r(p)))throw new TypeError("Option prepend should be a string or a function, but is a ".concat(r(p)));if(c&&!o.includes(r(c)))throw new TypeError("Option append should be a string or a function, but is a ".concat(r(c)));if(/^citation/.test(l)&&"json"===i)throw new Error("Combination type/style of json/citation-* is not valid: ".concat(i,"/").concat(l));return!0};e.validateOutputOptions=l;e.validateOptions=function(t){if("object"!==r(t))throw new TypeError("Options not an object!");if(t.output)l(t.output);else{if(t.maxChainLength&&"number"!=typeof t.maxChainLength)throw new TypeError("Option maxChainLength should be a number");if(t.forceType&&"string"!=typeof t.forceType)throw new TypeError("Option forceType should be a string")}return!0}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t,e){for(var i;t.includes(i);)i="".concat(e).concat(Math.random().toString().slice(2));return i};e.default=r},function(t,e,i){(function(t){var i,r,s,n,a,o,l,u,c,p={PROCESSOR_VERSION:"1.1.210",CONDITION_LEVEL_TOP:1,CONDITION_LEVEL_BOTTOM:2,PLAIN_HYPHEN_REGEX:/(?:[^\\]-|\u2013)/,LOCATOR_LABELS_REGEXP:new RegExp("^((art|ch|subch|col|fig|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\\.)\\s+(.*)"),STATUTE_SUBDIV_GROUPED_REGEX:/((?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/g,STATUTE_SUBDIV_PLAIN_REGEX:/(?:(?:^| )(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_PLAIN_REGEX_FRONT:/(?:^\s*[.,;]*\s*(?:art|bk|ch|subch|col|fig|fol|l|n|no|op|p|pp|para|subpara|pt|r|sec|subsec|sv|sch|tit|vrs|vol)\. *)/,STATUTE_SUBDIV_STRINGS:{"art.":"article","bk.":"book","ch.":"chapter","subch.":"subchapter","p.":"page","pp.":"page","para.":"paragraph","subpara.":"subparagraph","pt.":"part","r.":"rule","sec.":"section","subsec.":"subsection","sch.":"schedule","tit.":"title","col.":"column","fig.":"figure","fol.":"folio","l.":"line","n.":"note","no.":"issue","op.":"opus","sv.":"sub-verbo","vrs.":"verse","vol.":"volume"},STATUTE_SUBDIV_STRINGS_REVERSE:{article:"art.",book:"bk.",chapter:"ch.",subchapter:"subch.",page:"p.",paragraph:"para.",subparagraph:"subpara.",part:"pt.",rule:"r.",section:"sec.",subsection:"subsec.",schedule:"sch.",title:"tit.",column:"col.",figure:"fig.",folio:"fol.",line:"l.",note:"n.",issue:"no.",opus:"op.","sub-verbo":"sv.","sub verbo":"sv.",verse:"vrs.",volume:"vol."},LOCATOR_LABELS_MAP:{art:"article",bk:"book",ch:"chapter",subch:"subchapter",col:"column",fig:"figure",fol:"folio",l:"line",n:"note",no:"issue",op:"opus",p:"page",pp:"page",para:"paragraph",subpara:"subparagraph",pt:"part",r:"rule",sec:"section",subsec:"subsection",sv:"sub-verbo",sch:"schedule",tit:"title",vrs:"verse",vol:"volume"},MODULE_MACROS:{"juris-pretitle":!0,"juris-title":!0,"juris-pretitle-short":!0,"juris-title-short":!0,"juris-main":!0,"juris-main-short":!0,"juris-tail":!0,"juris-tail-short":!0,"juris-locator":!0},MODULE_TYPES:{legal_case:!0,legislation:!0,bill:!0,hearing:!0,gazette:!0,report:!0,regulation:!0,standard:!0},NestedBraces:[["(","["],[")","]"]],checkNestedBrace:function(t){"note"===t.opt.xclass?(this.depth=0,this.update=function(t){for(var e=(t=t||"").split(/([\(\)])/),i=1,r=e.length;i<r;i+=2)"("===e[i]?(1==this.depth%2&&(e[i]="["),this.depth+=1):")"===e[i]&&(0==this.depth%2&&(e[i]="]"),this.depth-=1);return e.join("")}):this.update=function(t){return t}},MULTI_FIELDS:["event","publisher","publisher-place","event-place","title","container-title","collection-title","authority","genre","title-short","medium","country","jurisdiction","archive","archive-place"],LangPrefsMap:{title:"titles","title-short":"titles",event:"titles",genre:"titles",medium:"titles","container-title":"journals","collection-title":"journals",archive:"journals",publisher:"publishers",authority:"publishers","publisher-place":"places","event-place":"places","archive-place":"places",jurisdiction:"places",number:"number",edition:"number",issue:"number",volume:"number"},AbbreviationSegments:function(){this["container-title"]={},this["collection-title"]={},this["institution-entire"]={},this["institution-part"]={},this.nickname={},this.number={},this.title={},this.place={},this.hereinafter={},this.classic={},this["container-phrase"]={},this["title-phrase"]={}},FIELD_CATEGORY_REMAP:{title:"title","container-title":"container-title","collection-title":"collection-title",country:"place",number:"number",place:"place",archive:"collection-title","title-short":"title",genre:"title",event:"title",medium:"title","archive-place":"place","publisher-place":"place","event-place":"place",jurisdiction:"place","language-name":"place","language-name-original":"place","call-number":"number","chapter-number":"number","collection-number":"number",edition:"number",page:"number",issue:"number",locator:"number","number-of-pages":"number","number-of-volumes":"number",volume:"number","citation-number":"number",publisher:"institution-part"},parseLocator:function(t){if(this.opt.development_extensions.locator_date_and_revision&&t.locator){t.locator=""+t.locator;var e=t.locator.indexOf("|");if(e>-1){var i=t.locator;t.locator=i.slice(0,e);var r=(i=i.slice(e+1)).match(/^([0-9]{4}-[0-9]{2}-[0-9]{2}).*/);r&&(t["locator-date"]=this.fun.dateparser.parseDateToObject(r[1]),i=i.slice(r[1].length)),t["locator-extra"]=i.replace(/^\s+/,"").replace(/\s+$/,"")}}return t.locator&&(t.locator=(""+t.locator).replace(/\s+$/,"")),t},normalizeLocaleStr:function(t){if(t){var e=t.split("-");return e[0]=e[0].toLowerCase(),e[1]&&(e[1]=e[1].toUpperCase()),e.join("-")}},isDatePart:function(t,e,i){return!!(t.length>e&&t.length<i&&parseInt(t))},isDateString:function(t){if(!t)return!1;var e=t.split("-");return!(e.length>0&&!this.isDatePart(e[0],3,5))&&(!(e.length>1&&!this.isDatePart(e[1],0,3))&&(!(e.length>2&&!this.isDatePart(e[2],0,3))&&!(e.length>3)))},parseNoteFieldHacks:function(t,e,i){if("string"==typeof t.note){for(var r=[],s=t.note.split("\n"),n=0,a=s.length;n<a;n++){r=[];var o=(f=s[n]).match(p.NOTE_FIELDS_REGEXP);if(o){for(var l=f.split(p.NOTE_FIELDS_REGEXP),u=0,c=l.length-1;u<c;u++)r.push(l[u]),r.push(o[u]);r.push(l[l.length-1]);for(u=1,c=r.length;u<c&&(!r[u-1].trim()||!(n>0||u>1)||r[u-1].match(p.NOTE_FIELD_REGEXP));u+=2)r[u]="\n"+r[u].slice(2,-1).trim()+"\n";s[n]=r.join("")}}var m=0,h={};for(n=0,a=(s=s.join("\n").split("\n")).length;n<a;n++){var f,d=(f=s[n]).match(p.NOTE_FIELD_REGEXP);if(f.trim()){if(!d){if(0===n)continue;m=n;break}var g=d[1],b=d[2].replace(/^\s+/,"").replace(/\s+$/,"");if("type"===g)t.type=b,s[n]="";else if(p.DATE_VARIABLES.indexOf(g)>-1)i&&(t[g]={raw:b},(!e||e[g]&&this.isDateString(b))&&(s[n]=""));else if(!t[g]){if(p.NAME_VARIABLES.indexOf(g)>-1){h[g]||(h[g]=[]);var v=b.split(/\s*\|\|\s*/);if(1===v.length)h[g].push({literal:v[0]});else if(2===v.length){var y={family:v[0],given:v[1]};p.parseParticles(y),h[g].push(y)}}else t[g]=b;e&&!e[g]||(s[n]="")}}}for(var g in h)t[g]=h[g];if(e){s[m].trim()&&(s[m]="\n"+s[m]);for(n=m-1;n>-1;n--)s[n].trim()||(s=s.slice(0,n).concat(s.slice(n+1)))}t.note=s.join("\n").trim()}},GENDERS:["masculine","feminine"],ERROR_NO_RENDERED_FORM:1,PREVIEW:"Just for laughs.",ASSUME_ALL_ITEMS_REGISTERED:2,START:0,END:1,SINGLETON:2,SEEN:6,SUCCESSOR:3,SUCCESSOR_OF_SUCCESSOR:4,SUPPRESS:5,SINGULAR:0,PLURAL:1,LITERAL:!0,BEFORE:1,AFTER:2,DESCENDING:1,ASCENDING:2,ONLY_FIRST:1,ALWAYS:2,ONLY_LAST:3,FINISH:1,POSITION_FIRST:0,POSITION_SUBSEQUENT:1,POSITION_IBID:2,POSITION_IBID_WITH_LOCATOR:3,MARK_TRAILING_NAMES:!0,POSITION_TEST_VARS:["position","first-reference-note-number","near-note"],AREAS:["citation","citation_sort","bibliography","bibliography_sort"],CITE_FIELDS:["first-reference-note-number","locator","locator-extra"],MINIMAL_NAME_FIELDS:["literal","family"],SWAPPING_PUNCTUATION:[".","!","?",":",","],TERMINAL_PUNCTUATION:[":",".",";","!","?"," "],NONE:0,NUMERIC:1,POSITION:2,COLLAPSE_VALUES:["citation-number","year","year-suffix"],DATE_PARTS:["year","month","day"],DATE_PARTS_ALL:["year","month","day","season"],DATE_PARTS_INTERNAL:["year","month","day","year_end","month_end","day_end"],NAME_PARTS:["non-dropping-particle","family","given","dropping-particle","suffix","literal"],DECORABLE_NAME_PARTS:["given","family","suffix"],DISAMBIGUATE_OPTIONS:["disambiguate-add-names","disambiguate-add-givenname","disambiguate-add-year-suffix"],GIVENNAME_DISAMBIGUATION_RULES:["all-names","all-names-with-initials","primary-name","primary-name-with-initials","by-cite"],NAME_ATTRIBUTES:["and","delimiter-precedes-last","delimiter-precedes-et-al","initialize-with","initialize","name-as-sort-order","sort-separator","et-al-min","et-al-use-first","et-al-subsequent-min","et-al-subsequent-use-first","form","prefix","suffix","delimiter"],PARALLEL_MATCH_VARS:["container-title"],PARALLEL_TYPES:["bill","gazette","regulation","legislation","legal_case","treaty","article-magazine","article-journal"],PARALLEL_COLLAPSING_MID_VARSET:["volume","issue","container-title","section","collection-number"],LOOSE:0,STRICT:1,TOLERANT:2,PREFIX_PUNCTUATION:/[.;:]\s*$/,SUFFIX_PUNCTUATION:/^\s*[.;:,\(\)]/,NUMBER_REGEXP:/(?:^\d+|\d+$)/,NAME_INITIAL_REGEXP:/^([A-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u042f\u0590-\u05d4\u05d6-\u05ff\u0600-\u06ff\u0370\u0372\u0376\u0386\u0388-\u03ab\u03e2\u03e4\u03e6\u03e8\u03ea\u03ec\u03ee\u03f4\u03f7\u03fd-\u03ff])([a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0400-\u052f\u0600-\u06ff\u0370-\u03ff\u1f00-\u1fff]*|)/,ROMANESQUE_REGEXP:/[-0-9a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ROMANESQUE_NOT_REGEXP:/[^a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/g,STARTSWITH_ROMANESQUE_REGEXP:/^[&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]/,ENDSWITH_ROMANESQUE_REGEXP:/[.;:&a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]$/,ALL_ROMANESQUE_REGEXP:/^[a-zA-Z\u0e01-\u0e5b\u00c0-\u017f\u0370-\u03ff\u0400-\u052f\u0590-\u05d4\u05d6-\u05ff\u1f00-\u1fff\u0600-\u06ff\u200c\u200d\u200e\u0218\u0219\u021a\u021b\u202a-\u202e]+$/,VIETNAMESE_SPECIALS:/[\u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]/,VIETNAMESE_NAMES:/^(?:(?:[.AaBbCcDdEeGgHhIiKkLlMmNnOoPpQqRrSsTtUuVvXxYy \u00c0-\u00c3\u00c8-\u00ca\u00cc\u00cd\u00d2-\u00d5\u00d9\u00da\u00dd\u00e0-\u00e3\u00e8-\u00ea\u00ec\u00ed\u00f2-\u00f5\u00f9\u00fa\u00fd\u0101\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01a0\u01a1\u01af\u01b0\u1ea0-\u1ef9]{2,6})(\s+|$))+$/,NOTE_FIELDS_REGEXP:/\{:(?:[\-_a-z]+|[A-Z]+):[^\}]+\}/g,NOTE_FIELD_REGEXP:/^([\-_a-z]+|[A-Z]+):\s*([^\}]+)$/,PARTICLE_GIVEN_REGEXP:/^([^ ]+(?:\u02bb |\u2019 | |\' ) *)(.+)$/,PARTICLE_FAMILY_REGEXP:/^([^ ]+(?:\-|\u02bb|\u2019| |\') *)(.+)$/,DISPLAY_CLASSES:["block","left-margin","right-inline","indent"],NAME_VARIABLES:["author","collection-editor","composer","container-author","director","editor","editorial-director","illustrator","interviewer","original-author","recipient","reviewed-author","translator"],NUMERIC_VARIABLES:["call-number","chapter-number","collection-number","edition","page","issue","locator","number","number-of-pages","number-of-volumes","volume","citation-number"],DATE_VARIABLES:["locator-date","issued","event-date","accessed","container","original-date","publication-date","original-date","available-date","submitted"],TITLE_FIELD_SPLITS:function(t){for(var e=["title","short","main","sub"],i={},r=0,s=e.length;r<s;r++)i[e[r]]=t+"title"+("title"===e[r]?"":"-"+e[r]);return i},TAG_USEALL:function(t){var e,i,r,s;for(e=[""],i=t.indexOf("<"),r=t.indexOf(">");i>-1&&r>-1;)s=i>r?i+1:r+1,i<r&&-1===t.slice(i+1,r).indexOf("<")?(e[e.length-1]+=t.slice(0,i),e.push(t.slice(i,r+1)),e.push(""),t=t.slice(s)):(e[e.length-1]+=t.slice(0,r+1),t=t.slice(s)),i=t.indexOf("<"),r=t.indexOf(">");return e[e.length-1]+=t,e},demoteNoiseWords:function(t,e,i){var r=t.locale[t.opt.lang].opts["leading-noise-words"];if(e&&i){(e=e.split(/\s+/)).reverse();for(var s=[],n=e.length-1;n>-1&&r.indexOf(e[n].toLowerCase())>-1;n+=-1)s.push(e.pop());e.reverse();var a=e.join(" "),o=s.join(" ");"drop"!==i&&o?"demote"===i&&(e=[a,o].join(", ")):e=a}return e},extractTitleAndSubtitle:function(t){for(var e=["","container-"],i=0,r=e.length;i<r;i++){var s=e[i],n=p.TITLE_FIELD_SPLITS(s),a=[!1];if(t.multi)for(var o in t.multi._keys[n.short])a.push(o);var l=0;for(a.length;l<r;l++){var u={};if((o=a[l])?(t.multi._keys[n.title]&&(u[n.title]=t.multi._keys[n.title][o]),t.multi._keys[n.short]&&(u[n.short]=t.multi._keys[n.short][o])):(u[n.title]=t[n.title],u[n.short]=t[n.short]),u[n.main]=u[n.title],u[n.sub]=!1,u[n.title]&&u[n.short]){var c=u[n.short],m=c.length;u[n.title].slice(0,m)===c&&u[n.title].slice(m).match(/^\s*:/)&&(u[n.main]=u[n.title].slice(0,m).replace(/\s+$/,""),u[n.sub]=u[n.title].slice(m).replace(/^\s*:\s*/,""))}if(o)for(var h in u)t.multi._keys[h]||(t.multi._keys[h]={}),t.multi._keys[h][o]=u[h];else for(var h in u)t[h]=u[h]}}},titlecaseSentenceOrNormal:function(t,e,i,r,s){var n=p.TITLE_FIELD_SPLITS(i),a={};if(r&&e.multi?(e.multi._keys[n.title]&&(a[n.title]=e.multi._keys[n.title][r]),e.multi._keys[n.main]&&(a[n.main]=e.multi._keys[n.main][r]),e.multi._keys[n.sub]&&(a[n.sub]=e.multi._keys[n.sub][r])):(a[n.title]=e[n.title],a[n.main]=e[n.main],a[n.sub]=e[n.sub]),a[n.main]&&a[n.sub]){var o=a[n.main],l=a[n.sub];return s?(o=p.Output.Formatters.sentence(t,o),l=p.Output.Formatters.sentence(t,l)):l=p.Output.Formatters["capitalize-first"](t,l),[o,l].join(a[n.title].slice(o.length,-1*l.length))}return s?p.Output.Formatters.sentence(t,a[n.title]):a[n.title]},getSafeEscape:function(t){if(["bibliography","citation"].indexOf(t.tmp.area)>-1){var e=[];return t.opt.development_extensions.thin_non_breaking_space_html_hack&&"html"===t.opt.mode&&e.push(function(t){return t.replace(/\u202f/g,'<span style="white-space:nowrap">&thinsp;</span>')}),e.length?function(i){for(var r=0,s=e.length;r<s;r+=1)i=e[r](i);return p.Output.Formats[t.opt.mode].text_escape(i)}:p.Output.Formats[t.opt.mode].text_escape}return function(t){return t}},SKIP_WORDS:["about","above","across","afore","after","against","along","alongside","amid","amidst","among","amongst","anenst","apropos","apud","around","as","aside","astride","at","athwart","atop","barring","before","behind","below","beneath","beside","besides","between","beyond","but","by","circa","despite","down","during","except","for","forenenst","from","given","in","inside","into","lest","like","modulo","near","next","notwithstanding","of","off","on","onto","out","over","per","plus","pro","qua","sans","since","than","through"," thru","throughout","thruout","till","to","toward","towards","under","underneath","until","unto","up","upon","versus","vs.","v.","vs","v","via","vis-à-vis","with","within","without","according to","ahead of","apart from","as for","as of","as per","as regards","aside from","back to","because of","close to","due to","except for","far from","inside of","instead of","near to","next to","on to","out from","out of","outside of","prior to","pursuant to","rather than","regardless of","such as","that of","up to","where as","or","yet","so","for","and","nor","a","an","the","de","d'","von","van","c","et","ca"],FORMAT_KEY_SEQUENCE:["@strip-periods","@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align","@quotes"],INSTITUTION_KEYS:["font-style","font-variant","font-weight","text-decoration","text-case"],SUFFIX_CHARS:"a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z",ROMAN_NUMERALS:[["","i","ii","iii","iv","v","vi","vii","viii","ix"],["","x","xx","xxx","xl","l","lx","lxx","lxxx","xc"],["","c","cc","ccc","cd","d","dc","dcc","dccc","cm"],["","m","mm","mmm","mmmm","mmmmm"]],LANGS:{"af-ZA":"Afrikaans",ar:"Arabic","bg-BG":"Bulgarian","ca-AD":"Catalan","cs-CZ":"Czech","da-DK":"Danish","de-AT":"Austrian","de-CH":"German (CH)","de-DE":"German (DE)","el-GR":"Greek","en-GB":"English (GB)","en-US":"English (US)","es-ES":"Spanish","et-EE":"Estonian",eu:"European","fa-IR":"Persian","fi-FI":"Finnish","fr-CA":"French (CA)","fr-FR":"French (FR)","he-IL":"Hebrew","hr-HR":"Croatian","hu-HU":"Hungarian","is-IS":"Icelandic","it-IT":"Italian","ja-JP":"Japanese","km-KH":"Khmer","ko-KR":"Korean","lt-LT":"Lithuanian","lv-LV":"Latvian","mn-MN":"Mongolian","nb-NO":"Norwegian (Bokmål)","nl-NL":"Dutch","nn-NO":"Norwegian (Nynorsk)","pl-PL":"Polish","pt-BR":"Portuguese (BR)","pt-PT":"Portuguese (PT)","ro-RO":"Romanian","ru-RU":"Russian","sk-SK":"Slovak","sl-SI":"Slovenian","sr-RS":"Serbian","sv-SE":"Swedish","th-TH":"Thai","tr-TR":"Turkish","uk-UA":"Ukranian","vi-VN":"Vietnamese","zh-CN":"Chinese (CN)","zh-TW":"Chinese (TW)"},LANG_BASES:{af:"af_ZA",ar:"ar",bg:"bg_BG",ca:"ca_AD",cs:"cs_CZ",da:"da_DK",de:"de_DE",el:"el_GR",en:"en_US",es:"es_ES",et:"et_EE",eu:"eu",fa:"fa_IR",fi:"fi_FI",fr:"fr_FR",he:"he_IL",hr:"hr-HR",hu:"hu_HU",is:"is_IS",it:"it_IT",ja:"ja_JP",km:"km_KH",ko:"ko_KR",lt:"lt_LT",lv:"lv-LV",mn:"mn_MN",nb:"nb_NO",nl:"nl_NL",nn:"nn-NO",pl:"pl_PL",pt:"pt_PT",ro:"ro_RO",ru:"ru_RU",sk:"sk_SK",sl:"sl_SI",sr:"sr_RS",sv:"sv_SE",th:"th_TH",tr:"tr_TR",uk:"uk_UA",vi:"vi_VN",zh:"zh_CN"},SUPERSCRIPTS:{"ª":"a","²":"2","³":"3","¹":"1","º":"o","ʰ":"h","ʱ":"ɦ","ʲ":"j","ʳ":"r","ʴ":"ɹ","ʵ":"ɻ","ʶ":"ʁ","ʷ":"w","ʸ":"y","ˠ":"ɣ","ˡ":"l","ˢ":"s","ˣ":"x","ˤ":"ʕ","ᴬ":"A","ᴭ":"Æ","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴲ":"Ǝ","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴽ":"Ȣ","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ᵂ":"W","ᵃ":"a","ᵄ":"ɐ","ᵅ":"ɑ","ᵆ":"ᴂ","ᵇ":"b","ᵈ":"d","ᵉ":"e","ᵊ":"ə","ᵋ":"ɛ","ᵌ":"ɜ","ᵍ":"g","ᵏ":"k","ᵐ":"m","ᵑ":"ŋ","ᵒ":"o","ᵓ":"ɔ","ᵔ":"ᴖ","ᵕ":"ᴗ","ᵖ":"p","ᵗ":"t","ᵘ":"u","ᵙ":"ᴝ","ᵚ":"ɯ","ᵛ":"v","ᵜ":"ᴥ","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"φ","ᵡ":"χ","⁰":"0","ⁱ":"i","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","⁺":"+","⁻":"−","⁼":"=","⁽":"(","⁾":")","ⁿ":"n","℠":"SM","™":"TM","㆒":"一","㆓":"二","㆔":"三","㆕":"四","㆖":"上","㆗":"中","㆘":"下","㆙":"甲","㆚":"乙","㆛":"丙","㆜":"丁","㆝":"天","㆞":"地","㆟":"人","ˀ":"ʔ","ˁ":"ʕ","ۥ":"و","ۦ":"ي"},SUPERSCRIPTS_REGEXP:new RegExp("[ª²³¹ºʰʱʲʳʴʵʶʷʸˠˡˢˣˤᴬᴭᴮᴰᴱᴲᴳᴴᴵᴶᴷᴸᴹᴺᴼᴽᴾᴿᵀᵁᵂᵃᵄᵅᵆᵇᵈᵉᵊᵋᵌᵍᵏᵐᵑᵒᵓᵔᵕᵖᵗᵘᵙᵚᵛᵜᵝᵞᵟᵠᵡ⁰ⁱ⁴⁵⁶⁷⁸⁹⁺⁻⁼⁽⁾ⁿ℠™㆒㆓㆔㆕㆖㆗㆘㆙㆚㆛㆜㆝㆞㆟ˀˁۥۦ]","g"),UPDATE_GROUP_CONTEXT_CONDITION:function(t,e,i){if(t.tmp.group_context.tip.condition){if(t.tmp.group_context.tip.condition.test){var r;if("empty-label"===t.tmp.group_context.tip.condition.test)r=!e;else if("empty-label-no-decor"===t.tmp.group_context.tip.condition.test)r=!e||e.indexOf("%s")>-1;else if("comma-safe"===t.tmp.group_context.tip.condition.test){var s=!e,n=e.slice(0,1).match(p.ALL_ROMANESQUE_REGEXP);t.tmp.just_did_number;r=!!s||!(!n||i)}t.tmp.group_context.tip.force_suppress=!r,t.tmp.group_context.tip.condition.not&&(t.tmp.group_context.tip.force_suppress=!t.tmp.group_context.tip.force_suppress)}}else e.slice(-1).match(/[0-9]/)?t.tmp.just_did_number=!0:t.tmp.just_did_number=!1},locale:{},locale_opts:{},locale_dates:{}};if(void 0!==t&&"exports"in t){e.CSL=p}p.TERMINAL_PUNCTUATION_REGEXP=new RegExp("^(["+p.TERMINAL_PUNCTUATION.slice(0,-1).join("")+"])(.*)"),p.CLOSURES=new RegExp(".*[\\]\\)]"),t.exports=p,"undefined"==typeof console?(p.debug=function(t){dump("CSL: "+t+"\n")},p.error=function(t){dump("CSL error: "+t+"\n")}):(p.debug=function(t){console.log("CSL: "+t)},p.error=function(t){console.log("CSL error: "+t)}),t.exports=p,p.XmlJSON=function(t){this.dataObj=t,this.institution={name:"institution",attrs:{"institution-parts":"long",delimiter:", ","substitute-use-first":"1","use-last":"1"},children:[{name:"institution-part",attrs:{name:"long"},children:[]}]}},p.XmlJSON.prototype.clean=function(t){return t},p.XmlJSON.prototype.getStyleId=function(t,e){var i="id";e&&(i="title");for(var r="",s=t.children,n=0,a=s.length;n<a;n++)if("info"===s[n].name)for(var o=s[n].children,l=0,u=o.length;l<u;l++)o[l].name===i&&(r=o[l].children[0]);return r},p.XmlJSON.prototype.children=function(t){return!(!t||!t.children.length)&&t.children.slice()},p.XmlJSON.prototype.nodename=function(t){return t?t.name:null},p.XmlJSON.prototype.attributes=function(t){var e={};for(var i in t.attrs)e["@"+i]=t.attrs[i];return e},p.XmlJSON.prototype.content=function(t){var e="";if(!t||!t.children)return e;for(var i=0,r=t.children.length;i<r;i+=1)"string"==typeof t.children[i]&&(e+=t.children[i]);return e},p.XmlJSON.prototype.namespace={},p.XmlJSON.prototype.numberofnodes=function(t){return t&&"number"==typeof t.length?t.length:0},p.XmlJSON.prototype.getAttributeValue=function(t,e,i){var r="";return i&&(e=i+":"+e),t&&t.attrs&&(r=t.attrs[e]?t.attrs[e]:""),r},p.XmlJSON.prototype.getNodeValue=function(t,e){var i="";if(e)for(var r=0,s=t.children.length;r<s;r+=1)t.children[r].name===e&&(i=t.children[r].children.length?t.children[r]:"");else t&&(i=t);return i&&i.children&&1==i.children.length&&"string"==typeof i.children[0]&&(i=i.children[0]),i},p.XmlJSON.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,i,r,s){"@"===r.slice(0,1)&&(r=r.slice(1));for(var n=0,a=t.children.length;n<a;n+=1)t.children[n].name===e&&t.children[n].attrs.name===i&&(t.children[n].attrs[r]=s)},p.XmlJSON.prototype.deleteNodeByNameAttribute=function(t,e){var i,r;for(i=0,r=t.children.length;i<r;i+=1)t.children[i]&&"string"!=typeof t.children[i]&&t.children[i].attrs.name==e&&(t.children=t.children.slice(0,i).concat(t.children.slice(i+1)))},p.XmlJSON.prototype.deleteAttribute=function(t,e){void 0!==t.attrs[e]&&t.attrs.pop(e)},p.XmlJSON.prototype.setAttribute=function(t,e,i){return t.attrs[e]=i,!1},p.XmlJSON.prototype.nodeCopy=function(t,e){if(!e)e={};if("object"==typeof e&&void 0===e.length)for(var i in t)"string"==typeof t[i]?e[i]=t[i]:"object"==typeof t[i]&&(void 0===t[i].length?e[i]=this.nodeCopy(t[i],{}):e[i]=this.nodeCopy(t[i],[]));else for(var r=0,s=t.length;r<s;r+=1)"string"==typeof t[r]?e[r]=t[r]:e[r]=this.nodeCopy(t[r],{});return e},p.XmlJSON.prototype.getNodesByName=function(t,e,i,r){if(!r)r=[];if(!t||!t.children)return r;e===t.name&&(i?i===t.attrs.name&&r.push(t):r.push(t));for(var s=0,n=t.children.length;s<n;s+=1)"object"==typeof t.children[s]&&this.getNodesByName(t.children[s],e,i,r);return r},p.XmlJSON.prototype.nodeNameIs=function(t,e){return void 0!==t&&e==t.name},p.XmlJSON.prototype.makeXml=function(t){return"string"==typeof t&&(t="<"===t.slice(0,1)?this.jsonStringWalker.walkToObject(t):JSON.parse(t)),t},p.XmlJSON.prototype.insertChildNodeAfter=function(t,e,i,r){for(var s=0,n=t.children.length;s<n;s+=1)if(e===t.children[s]){t.children=t.children.slice(0,s).concat([r]).concat(t.children.slice(s+1));break}return t},p.XmlJSON.prototype.insertPublisherAndPlace=function(t){if("group"===t.name){for(var e=!0,i=["publisher","publisher-place"],r=0,s=t.children.length;r<s;r+=1){var n=i.indexOf(t.children[r].attrs.variable);if(!("text"===t.children[r].name&&n>-1)||t.children[r].attrs.prefix||t.children[r].attrs.suffix){e=!1;break}i=i.slice(0,n).concat(i.slice(n+1))}e&&!i.length&&(t.attrs["has-publisher-and-publisher-place"]=!0)}for(r=0,s=t.children.length;r<s;r+=1)"object"==typeof t.children[r]&&this.insertPublisherAndPlace(t.children[r])},p.XmlJSON.prototype.isChildOfSubstitute=function(t){if(t.length>0){var e=t.slice();return"substitute"===e.pop()||this.isChildOfSubstitute(e)}return!1},p.XmlJSON.prototype.addMissingNameNodes=function(t,e){if(e||(e=[]),"names"===t.name&&!this.isChildOfSubstitute(e)){for(var i=!0,r=0,s=t.children.length;r<s;r++)if("name"===t.children[r].name){i=!1;break}i&&(t.children=[{name:"name",attrs:{},children:[]}].concat(t.children))}e.push(t.name);for(r=0,s=t.children.length;r<s;r+=1)"object"==typeof t.children[r]&&this.addMissingNameNodes(t.children[r],e);e.pop()},p.XmlJSON.prototype.addInstitutionNodes=function(t){if("names"===t.name){for(var e={},i=-1,r=0,s=t.children.length;r<s;r+=1){if("name"==t.children[r].name){for(var n in t.children[r].attrs)e[n]=t.children[r].attrs[n];e.delimiter=t.children[r].attrs.delimiter,e.and=t.children[r].attrs.and,i=r;for(var a=0,o=t.children[r].children.length;a<o;a+=1)if("family"===t.children[r].children[a].attrs.name)for(var n in t.children[r].children[a].attrs)e[n]=t.children[r].children[a].attrs[n]}if("institution"==t.children[r].name){i=-1;break}}if(i>-1){var l=this.nodeCopy(this.institution);for(r=0,s=p.INSTITUTION_KEYS.length;r<s;r+=1){var u=p.INSTITUTION_KEYS[r];void 0!==e[u]&&(l.children[0].attrs[u]=e[u]),e.delimiter&&(l.attrs.delimiter=e.delimiter),e.and&&(l.attrs.and="text")}t.children=t.children.slice(0,i+1).concat([l]).concat(t.children.slice(i+1))}}for(r=0,s=t.children.length;r<s;r+=1)"string"!=typeof t.children[r]&&this.addInstitutionNodes(t.children[r])},p.XmlJSON.prototype.flagDateMacros=function(t){for(var e=0,i=t.children.length;e<i;e+=1)"macro"===t.children[e].name&&this.inspectDateMacros(t.children[e])&&(t.children[e].attrs["macro-has-date"]="true")},p.XmlJSON.prototype.inspectDateMacros=function(t){if(!t||!t.children)return!1;if("date"===t.name)return!0;for(var e=0,i=t.children.length;e<i;e+=1)if(this.inspectDateMacros(t.children[e]))return!0;return!1},p.stripXmlProcessingInstruction=function(t){return t?t=(t=(t=(t=t.replace(/^<\?[^?]+\?>/,"")).replace(/<!--[^>]+-->/g,"")).replace(/^\s+/g,"")).replace(/\s+$/g,""):t},p.parseXml=function(t){var e={children:[]},i=[e.children];function r(t){return t.split("&amp;").join("&").split("&quot;").join('"').split("&gt;").join(">").split("&lt;").join("<").replace(/&#([0-9]{1,6});/gi,function(t,e){var i=parseInt(e,10);return String.fromCharCode(i)}).replace(/&#x([a-f0-9]{1,6});/gi,function(t,e){var i=parseInt(e,16);return String.fromCharCode(i)})}function s(t,e){var i=RegExp("^.*[\t ]+"+e+"=(\"(?:[^\"]*)\"|'(?:[^']*)').*$"),r=t.match(i);return r?r[1].slice(1,-1):null}function n(t){var e=RegExp("^<([^\t />]+)"),i=t.match(e);return i?i[1]:null}function a(t){var e={};e.name=n(t),e.attrs={};var i=function(t){var e=t.match(/([^\'\"=	 ]+)=(?:\"[^\"]*\"|\'[^\']*\')/g);if(e)for(var i=0,r=e.length;i<r;i++)e[i]=e[i].replace(/=.*/,"");return e}(t);if(i)for(var a=0,o=i.length;a<o;a++){var l={name:i[a],value:s(t,i[a])};e.attrs[l.name]=r(l.value)}return e.children=[],e}function o(t){i.slice(-1)[0].push(t)}function l(t){var e;t.slice(1).indexOf("<")>-1?((e=a(t.slice(0,t.indexOf(">")+1))).children=[function(t){return r(t.match(/^.*>([^<]*)<.*$/)[1])}(t)],o(e)):"/>"===t.slice(-2)?(e=a(t),"term"===n(t)&&e.children.push(""),o(e)):"</"===t.slice(0,2)?i.pop():(o(e=a(t)),function(t){i.push(t.children)}(e))}for(var u=function(t){for(var e=(t=t.split(/(?:\r\n|\n|\r)/).join(" ").replace(/>[	 ]+</g,"><").replace(/<\!--.*?-->/g,"")).split("><"),i=null,r=0,s=e.length;r<s;r++)r>0&&(e[r]="<"+e[r]),r<e.length-1&&(e[r]=e[r]+">"),"number"!=typeof i&&("<style "!==e[r].slice(0,7)&&"<locale "!=e[r].slice(0,8)||(i=r));for(r=(e=e.slice(i)).length-2;r>-1;r--)if(-1===e[r].slice(1).indexOf("<")){var n=e[r].slice(0,5);"/>"!==e[r].slice(-2)&&("<term"===n?"</term"===e[r+1].slice(0,6)&&(e[r]=e[r]+e[r+1],e=e.slice(0,r+1).concat(e.slice(r+2))):["<sing","<mult"].indexOf(n)>-1&&"/>"!==e[r].slice(-2)&&"<"===e[r+1].slice(0,1)&&(e[r]=e[r]+e[r+1],e=e.slice(0,r+1).concat(e.slice(r+2))))}return e}(t),c=0,p=u.length;c<p;c++){l(u[c])}return e.children[0]},t.exports=p,p.XmlDOM=function(t){this.dataObj=t,"undefined"==typeof DOMParser?(DOMParser=function(){},DOMParser.prototype.parseFromString=function(t,e){var i;return"undefined"!=typeof ActiveXObject?((i=new ActiveXObject("MSXML.DomDocument")).async=!1,i.loadXML(t),i):"undefined"!=typeof XMLHttpRequest?(e||(e="text/xml"),(i=new XMLHttpRequest).open("GET","data:"+e+";charset=utf-8,"+encodeURIComponent(t),!1),i.overrideMimeType&&i.overrideMimeType(e),i.send(null),i.responseXML):"undefined"!=typeof marknote?(new marknote.Parser).parse(t):void 0},this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)}):this.hasAttributes=function(t){return!(!t.attributes||!t.attributes.length)},this.importNode=function(t,e){return void 0===t.importNode?this._importNode(t,e,!0):t.importNode(e,!0)},this._importNode=function(t,e,i){switch(e.nodeType){case 1:var r=t.createElement(e.nodeName);if(e.attributes&&e.attributes.length>0)for(var s=0,n=e.attributes.length;s<n;)r.setAttribute(e.attributes[s].nodeName,e.getAttribute(e.attributes[s++].nodeName));if(i&&e.childNodes&&e.childNodes.length>0)for(s=0,n=e.childNodes.length;s<n;)r.appendChild(this._importNode(t,e.childNodes[s++],i));return r}},this.parser=new DOMParser;var e=this.parser.parseFromString('<docco><institution institution-parts="long" delimiter=", " substitute-use-first="1" use-last="1"><institution-part name="long"/></institution></docco>',"text/xml"),i=e.getElementsByTagName("institution");this.institution=i.item(0);var r=e.getElementsByTagName("institution-part");this.institutionpart=r.item(0),this.ns="http://purl.org/net/xbiblio/csl"},p.XmlDOM.prototype.clean=function(t){return t=(t=(t=(t=(t=t.replace(/<\?[^?]+\?>/g,"")).replace(/<![^>]+>/g,"")).replace(/^\s+/,"")).replace(/\s+$/,"")).replace(/^\n*/,"")},p.XmlDOM.prototype.getStyleId=function(t,e){var i="",r="id";e&&(r="title");var s=t.getElementsByTagName(r);return s&&s.length&&(s=s.item(0)),s&&(i=s.textContent),i||(i=s.innerText),i||(i=s.innerHTML),i},p.XmlDOM.prototype.children=function(t){var e,i,r,s;if(t){for(s=[],i=0,r=(e=t.childNodes).length;i<r;i+=1)"#text"!=e[i].nodeName&&s.push(e[i]);return s}return[]},p.XmlDOM.prototype.nodename=function(t){return t.nodeName},p.XmlDOM.prototype.attributes=function(t){var e,i,r,s,n;if(e=new Object,t&&this.hasAttributes(t))for(s=0,n=(i=t.attributes).length;s<n;s+=1)e["@"+(r=i[s]).name]=r.value;return e},p.XmlDOM.prototype.content=function(t){return void 0!==t.textContent?t.textContent:void 0!==t.innerText?t.innerText:t.txt},p.XmlDOM.prototype.namespace={xml:"http://www.w3.org/XML/1998/namespace"},p.XmlDOM.prototype.numberofnodes=function(t){return t?t.length:0},p.XmlDOM.prototype.getAttributeName=function(t){return t.name},p.XmlDOM.prototype.getAttributeValue=function(t,e,i){var r="";return i&&(e=i+":"+e),t&&this.hasAttributes(t)&&t.getAttribute(e)&&(r=t.getAttribute(e)),r},p.XmlDOM.prototype.getNodeValue=function(t,e){var i=null;if(e){var r=t.getElementsByTagName(e);r.length>0&&(i=void 0!==r[0].textContent?r[0].textContent:void 0!==r[0].innerText?r[0].innerText:r[0].text)}return null===i&&t&&t.childNodes&&(0==t.childNodes.length||1==t.childNodes.length&&"#text"==t.firstChild.nodeName)&&(i=void 0!==t.textContent?t.textContent:void 0!==t.innerText?t.innerText:t.text),null===i&&(i=t),i},p.XmlDOM.prototype.setAttributeOnNodeIdentifiedByNameAttribute=function(t,e,i,r,s){var n,a,o,l;for("@"===r.slice(0,1)&&(r=r.slice(1)),n=0,a=(o=t.getElementsByTagName(e)).length;n<a;n+=1)(l=o[n]).getAttribute("name")==i&&l.setAttribute(r,s)},p.XmlDOM.prototype.deleteNodeByNameAttribute=function(t,e){var i,r,s,n;for(i=0,r=(n=t.childNodes).length;i<r;i+=1)(s=n[i])&&s.nodeType!=s.TEXT_NODE&&this.hasAttributes(s)&&s.getAttribute("name")==e&&t.removeChild(n[i])},p.XmlDOM.prototype.deleteAttribute=function(t,e){t.removeAttribute(e)},p.XmlDOM.prototype.setAttribute=function(t,e,i){return t.ownerDocument||(t=t.firstChild),["function","unknown"].indexOf(typeof t.setAttribute)>-1&&t.setAttribute(e,i),!1},p.XmlDOM.prototype.nodeCopy=function(t){return t.cloneNode(!0)},p.XmlDOM.prototype.getNodesByName=function(t,e,i){var r,s,n,a,o;for(r=[],a=0,o=(s=t.getElementsByTagName(e)).length;a<o;a+=1)n=s.item(a),(!i||this.hasAttributes(n)&&n.getAttribute("name")==i)&&r.push(n);return r},p.XmlDOM.prototype.nodeNameIs=function(t,e){return e==t.nodeName},p.XmlDOM.prototype.makeXml=function(t){return t||(t="<docco><bogus/></docco>"),t=t.replace(/\s*<\?[^>]*\?>\s*\n*/g,""),this.parser.parseFromString(t,"application/xml").firstChild},p.XmlDOM.prototype.insertChildNodeAfter=function(t,e,i,r){var s;return s=this.importNode(e.ownerDocument,r),t.replaceChild(s,e),t},p.XmlDOM.prototype.insertPublisherAndPlace=function(t){for(var e=t.getElementsByTagName("group"),i=0,r=e.length;i<r;i+=1){for(var s=e.item(i),n=[],a=0,o=s.childNodes.length;a<o;a+=1)1!==s.childNodes.item(a).nodeType&&n.push(a);if(s.childNodes.length-n.length==2){var l=[];for(a=0,o=2;a<o;a+=1)if(!(n.indexOf(a)>-1)){for(var u=s.childNodes.item(a),c=[],p=0,m=u.childNodes.length;p<m;p+=1)1!==u.childNodes.item(p).nodeType&&c.push(p);if(u.childNodes.length-c.length==0&&(l.push(u.getAttribute("variable")),u.getAttribute("suffix")||u.getAttribute("prefix"))){l=[];break}}l.indexOf("publisher")>-1&&l.indexOf("publisher-place")>-1&&s.setAttribute("has-publisher-and-publisher-place",!0)}}},p.XmlDOM.prototype.isChildOfSubstitute=function(t){return!!t.parentNode&&("substitute"===t.parentNode.tagName.toLowerCase()||this.isChildOfSubstitute(t.parentNode))},p.XmlDOM.prototype.addMissingNameNodes=function(t){for(var e=t.getElementsByTagName("names"),i=0,r=e.length;i<r;i+=1){var s=e.item(i),n=s.getElementsByTagName("name");if(!(n&&0!==n.length||this.isChildOfSubstitute(s))){var a=s.ownerDocument.createElement("name");s.appendChild(a)}}},p.XmlDOM.prototype.addInstitutionNodes=function(t){var e,i,r,s,n,a,o;for(a=0,o=(e=t.getElementsByTagName("names")).length;a<o;a+=1)if(0!=(s=(i=e.item(a)).getElementsByTagName("name")).length&&0==i.getElementsByTagName("institution").length){r=this.importNode(t.ownerDocument,this.institution),theinstitutionpart=r.getElementsByTagName("institution-part").item(0),n=s.item(0),i.insertBefore(r,n.nextSibling);for(var l=0,u=p.INSTITUTION_KEYS.length;l<u;l+=1){var c=p.INSTITUTION_KEYS[l];(d=n.getAttribute(c))&&theinstitutionpart.setAttribute(c,d)}var m=n.getElementsByTagName("name-part");for(l=0,u=m.length;l<u;l+=1)if("family"===m[l].getAttribute("name"))for(var h=0,f=p.INSTITUTION_KEYS.length;h<f;h+=1){var d;c=p.INSTITUTION_KEYS[h];(d=m[l].getAttribute(c))&&theinstitutionpart.setAttribute(c,d)}}},p.XmlDOM.prototype.flagDateMacros=function(t){var e,i,r;for(nodes=t.getElementsByTagName("macro"),e=0,i=nodes.length;e<i;e+=1)(r=nodes.item(e)).getElementsByTagName("date").length&&r.setAttribute("macro-has-date","true")},t.exports=p,t.exports=p,p.setupXml=function(t){var e={},i=null;if(void 0!==t?"string"==typeof t?(e="<"===(t=t.replace("^\ufeff","").replace(/^\s+/,"")).slice(0,1)?p.parseXml(t):JSON.parse(t),i=new p.XmlJSON(e)):i=void 0!==t.getAttribute?new p.XmlDOM(t):void 0!==t.toXMLString?new p.XmlE4X(t):new p.XmlJSON(t):p.error("unable to parse XML input"),!i)throw"citeproc-js error: unable to parse CSL style or locale object";return i},t.exports=p,p.getSortCompare=function(t){if(p.stringCompare)return p.stringCompare;var e,i={sensitivity:"base",ignorePunctuation:!0,numeric:!0};t||(t="en-US");var r=function(t){return t.replace(/^[\[\]\'\"]*/g,"")},s=!!(e=function(e,r){return e.toLocaleLowerCase().localeCompare(r.toLocaleLowerCase(),t,i)})("[x","x")&&function(t,i){return e(r(t),r(i))};return function(t,i){return s?s(t,i):e(t,i)}},t.exports=p,p.ambigConfigDiff=function(t,e){var i,r,s,n;if(t.names.length!==e.names.length)return 1;for(i=0,r=t.names.length;i<r;i+=1){if(t.names[i]!==e.names[i])return 1;for(s=0,n=t.givens[i];s<n;s+=1)if(t.givens[i][s]!==e.givens[i][s])return 1}return t.disambiguate!=e.disambiguate?1:t.year_suffix!==e.year_suffix?1:0},p.cloneAmbigConfig=function(t,e,i){var r,s,n,a,o,l={names:[],givens:[],year_suffix:!1,disambiguate:!1};for(r=0,s=t.names.length;r<s;r+=1)o=t.names[r],l.names[r]=o;for(r=0,s=t.givens.length;r<s;r+=1){for(o=[],n=0,a=t.givens[r].length;n<a;n+=1)o.push(t.givens[r][n]);l.givens.push(o)}return e?(l.year_suffix=e.year_suffix,l.disambiguate=e.disambiguate):(l.year_suffix=t.year_suffix,l.disambiguate=t.disambiguate),l},p.getAmbigConfig=function(){var t;return(t=this.tmp.disambig_request)||(t=this.tmp.disambig_settings),p.cloneAmbigConfig(t)},p.getMaxVals=function(){return this.tmp.names_max.mystack.slice()},p.getMinVal=function(){return this.tmp["et-al-min"]},t.exports=p,p.tokenExec=function(t,e,i){var r,s;r=t.next,s=!1;t.test&&(r=function(e){return e?(this.tmp.jump.replace("succeed"),t.succeed):(this.tmp.jump.replace("fail"),t.fail)}.call(this,t.test(e,i)));for(var n=0,a=t.execs.length;n<a;n++)(s=t.execs[n].call(t,this,e,i))&&(r=s);return r},p.expandMacro=function(t,e){var i,r,s;i=t.postponed_macro,t=new p.Token("group",p.START);var n=!1,a=!1;if((r=this.cslXml.getNodesByName(this.cslXml.dataObj,"macro",i)).length&&(a=this.cslXml.getAttributeValue(r[0],"cslid"),n=this.cslXml.getAttributeValue(r[0],"macro-has-date")),n&&(i=i+"@"+this.build.current_default_locale,u=function(t,e){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!0)},t.execs.push(u)),this.build.macro_stack.indexOf(i)>-1)throw'CSL processor error: call to macro "'+i+'" would cause an infinite loop';if(this.build.macro_stack.push(i),t.cslid=a,p.MODULE_MACROS[i]&&(t.juris=i,this.opt.update_mode=p.POSITION),p.Node.group.build.call(t,this,e,!0),!this.cslXml.getNodeValue(r))throw'CSL style error: undefined macro "'+i+'"';var o,l=p.getMacroTarget.call(this,i);if(l&&(p.buildMacro.call(this,l,r),p.configureMacro.call(this,l)),!this.build.extension){var u=(o=i,function(t,e,i){for(var r=0;r<t.macros[o].length;)r=p.tokenExec.call(t,t.macros[o][r],e,i)}),c=new p.Token("text",p.SINGLETON);c.execs.push(u),e.push(c)}s=new p.Token("group",p.END),n&&(u=function(t,e){t.tmp.extension&&(t.tmp["doing-macro-with-date"]=!1)},s.execs.push(u)),t.juris&&(s.juris=i),p.Node.group.build.call(s,this,e,!0),this.build.macro_stack.pop()},p.getMacroTarget=function(t){var e=!1;return this.build.extension?e=this[this.build.root+this.build.extension].tokens:this.macros[t]||(e=[],this.macros[t]=e),e},p.buildMacro=function(t,e){p.makeBuilder(this,t)(void 0===e.length?e:e[0])},p.configureMacro=function(t){this.build.extension||this.configureTokenList(t)},p.XmlToToken=function(t,e,i,r){var s,n,a,o,l,u;if(s=t.cslXml.nodename(this),!t.build.skip||t.build.skip===s)if(s){if(!p.Node[t.cslXml.nodename(this)])throw'Undefined node name "'+s+'".';if([],a=t.cslXml.attributes(this),o=p.setDecorations.call(this,t,a),l=new p.Token(s,e),e!==p.END||"if"===s||"else-if"===s||"layout"===s){for(var c in a)if(a.hasOwnProperty(c)){if(e===p.END&&"@language"!==c&&"@locale"!==c)continue;if(a.hasOwnProperty(c))if(p.Attributes[c])try{p.Attributes[c].call(l,t,""+a[c])}catch(t){throw p.error(t),"CSL processor error, "+c+" attribute: "+t}else p.debug('warning: undefined attribute "'+c+'" in style')}l.decorations=o,p.DATE_VARIABLES.indexOf(a["@variable"])>-1&&r.push(l.variables)}else e===p.END&&a["@variable"]&&(l.hasVariable=!0,p.DATE_VARIABLES.indexOf(a["@variable"])>-1&&(l.variables=r.pop()));u=i||t[t.build.area].tokens,p.Node[s].build.call(l,t,u,!0)}else(n=t.cslXml.content(this))&&(t.build.text=n)},t.exports=p,p.DateParser=new function(){for(var t=[["明治",1867],["大正",1911],["昭和",1925],["平成",1988]],e={},i=0,r=t.length;i<r;i++){var s=t[i][0],n=t[i][1];e[s]=n}var a=[];for(i=0,r=t.length;i<r;i++){n=t[i][0];a.push(n)}var o=a.join("|"),l=new RegExp("(?:"+o+")(?:[0-9]+)"),u=new RegExp("(?:"+o+")(?:[0-9]+)","g"),c=/(\u6708|\u5E74)/g,m=/\u65E5/g,h=/\u301c/g,f="([?0-9]{4}(?:%%NUMD%%[?0-9]{1,2}){0,2}(?![0-9])|(?:[?0-9]{1,2}%%NUMD%%){0,2}[?0-9]{4}(?![0-9])|[?0-9]{1,3}|[%%DATED%%]|[?~]|[^-/~?0-9]+)",d=new RegExp(f.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"-")),g=new RegExp(f.replace(/%%NUMD%%/g,"-").replace(/%%DATED%%/g,"/")),b=new RegExp(f.replace(/%%NUMD%%/g,"/").replace(/%%DATED%%/g,"-"));this.monthStrings="january february march april may june july august september october november december spring summer fall winter spring summer".split(" "),this.setOrderDayMonth=function(){this.monthGuess=1,this.dayGuess=0},this.setOrderMonthDay=function(){this.monthGuess=0,this.dayGuess=1},this.resetDateParserMonths=function(){this.monthSets=[];for(var t=0,e=this.monthStrings.length;t<e;t++)this.monthSets.push([this.monthStrings[t]]);this.monthAbbrevs=[];for(t=0,e=this.monthSets.length;t<e;t++){this.monthAbbrevs.push([]);for(var i=0,r=this.monthSets[t].length;i<r;i++)this.monthAbbrevs[t].push(this.monthSets[t][0].slice(0,3))}this.monthRexes=[];for(t=0,e=this.monthAbbrevs.length;t<e;t++)this.monthRexes.push(new RegExp("(?:"+this.monthAbbrevs[t].join("|")+")"))},this.addDateParserMonths=function(t){if("string"==typeof t&&(t=t.split(/\s+/)),12===t.length||16===t.length){for(var e=0,i=t.length;e<i;e++){for(var r=null,s=!1,n=3,a={},o=0,l=this.monthAbbrevs.length;o<l;o++){if(a[o]={},o===e){for(var u=0,c=this.monthAbbrevs[e].length;u<c;u++)if(this.monthAbbrevs[e][u]===t[e].slice(0,this.monthAbbrevs[e][u].length)){s=!0;break}}else for(u=0,c=this.monthAbbrevs[o].length;u<c;u++)if(r=this.monthAbbrevs[o][u].length,this.monthAbbrevs[o][u]===t[e].slice(0,r)){for(;this.monthSets[o][u].slice(0,r)===t[e].slice(0,r);){if(r>t[e].length||r>this.monthSets[o][u].length){p.debug("unable to disambiguate month string in date parser: "+t[e]);break}r+=1}n=r,a[o][u]=r}for(var m in a)for(kKey in a[m])r=a[m][kKey],m=parseInt(m,10),kKey=parseInt(kKey,10),this.monthAbbrevs[m][kKey]=this.monthSets[m][kKey].slice(0,r)}s||(this.monthSets[e].push(t[e]),this.monthAbbrevs[e].push(t[e].slice(0,n)))}this.monthRexes=[],this.monthRexStrs=[];for(e=0,i=this.monthAbbrevs.length;e<i;e++)this.monthRexes.push(new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")")),this.monthRexStrs.push("^(?:"+this.monthAbbrevs[e].join("|")+")");if(18===this.monthAbbrevs.length)for(e=12,i=14;e<i;e++)this.monthRexes[e+4]=new RegExp("^(?:"+this.monthAbbrevs[e].join("|")+")"),this.monthRexStrs[e+4]="^(?:"+this.monthAbbrevs[e].join("|")+")"}else p.debug("month [+season] list of "+t.length+", expected 12 or 16. Ignoring.")},this.convertDateObjectToArray=function(t){t["date-parts"]=[],t["date-parts"].push([]);for(var e,i=0,r=0,s=3;r<s&&t[e=["year","month","day"][r]];r++)i+=1,t["date-parts"][0].push(t[e]),delete t[e];t["date-parts"].push([]);for(r=0,s=i;r<s&&t[e=["year_end","month_end","day_end"][r]];r++)t["date-parts"][1].push(t[e]),delete t[e];return t["date-parts"][0].length!==t["date-parts"][1].length&&t["date-parts"].pop(),t},this.convertDateObjectToString=function(t){for(var e=[],i=0;i<3&&t[DATE_PARTS_ALL[i]];i+=1)e.push(t[DATE_PARTS_ALL[i]]);return e.join("-")},this._parseNumericDate=function(t,e,i,r){i||(i="");for(var s=r.split(e),n=0,a=s.length;n<a;n++)if(4===s[n].length){t["year"+i]=s[n].replace(/^0*/,""),s=n?s.slice(0,n):s.slice(1);break}for(n=0,a=s.length;n<a;n++)s[n]=parseInt(s[n],10);1===s.length||2===s.length&&!s[1]?t["month"+i]=""+s[0]:2===s.length&&(s[this.monthGuess]>12?(t["month"+i]=""+s[this.dayGuess],t["day"+i]=""+s[this.monthGuess]):(t["month"+i]=""+s[this.monthGuess],t["day"+i]=""+s[this.dayGuess]))},this.parseDateToObject=function(t){var e,i=t,r=-1,s=-1,n=!1;if(t){if("-"===t.slice(0,1)&&(n=!0,t=t.slice(1)),t.match(/^[0-9]{1,3}$/))for(;t.length<4;)t="0"+t;if(S=(t=(t=""+t).replace(/\s*[0-9]{2}:[0-9]{2}(?::[0-9]+)/,"")).match(c)){var a=(t=(t=(t=(t=(t=(t=t.replace(/\s+/g,"")).replace(m,"")).replace(c,"-")).replace(h,"/")).replace(/\-\//g,"/")).replace(/-$/g,"")).split(l);e=[];var o=t.match(u);if(o){for(var f=[],v=0,y=o.length;v<y;v++)f=f.concat(o[v].match(/([^0-9]+)([0-9]+)/).slice(1));for(v=0,y=a.length;v<y;v++)if(e.push(a[v]),v!==len-1){var _=2*pos;e.push(f[_]),e.push(f[_+1])}}else e=a;for(v=1,y=e.length;v<y;v+=3)e[v+1]=jiy[e[v]]+parseInt(e[v+1],10),e[v]="";r=(t=(t=(t=(t=e.join("")).replace(/\s*-\s*$/,"").replace(/\s*-\s*\//,"/")).replace(/\.\s*$/,"")).replace(/\.(?! )/,"")).indexOf("/"),s=t.indexOf("-")}}var x,A,E="",O="",w={};if('"'===(t=t.replace(/([A-Za-z])\./g,"$1")).slice(0,1)&&'"'===t.slice(-1))return w.literal=t.slice(1,-1),w;r>-1&&s>-1?t.split("/").length>3?(x="-",A="/",e=(t=t.replace(/\_/g,"-")).split(b)):(x="/",A="-",e=(t=t.replace(/\_/g,"/")).split(g)):(x="-",A="-",e=(t=(t=t.replace(/\//g,"-")).replace(/\_/g,"-")).split(d));var k=[];for(v=0,y=e.length;v<y;v++){var S;(S=e[v].match(/^\s*([\-\/]|[^\-\/\~\?0-9]+|[\-~?0-9]+)\s*$/))&&k.push(S[1])}var T=k.indexOf(x),I=[],j=!1;T>-1?(I.push([0,T]),I.push([T+1,k.length]),j=!0):I.push([0,k.length]);var N="";for(v=0,y=I.length;v<y;v++){var C=I[v],D=k.slice(C[0],C[1]);t:for(var P=0,R=D.length;P<R;P++){var L=D[P];if(L.indexOf(A)>-1)this._parseNumericDate(w,A,N,L);else if(L.match(/[0-9]{4}/))w["year"+N]=L.replace(/^0*/,"");else{for(var B=0,F=this.monthRexes.length;B<F;B++)if(L.toLocaleLowerCase().match(this.monthRexes[B])){w["month"+N]=""+(parseInt(B,10)+1);continue t}L.match(/^[0-9]+$/)&&(E=L),L.toLocaleLowerCase().match(/^bc/)&&E?(w["year"+N]=""+-1*E,E=""):L.toLocaleLowerCase().match(/^ad/)&&E?(w["year"+N]=""+E,E=""):"~"===L||"?"===L||"c"===L||L.match(/^cir/)?w.circa="1":!L.toLocaleLowerCase().match(/(?:mic|tri|hil|eas)/)||w["season"+N]||(O=L)}}E&&(w["day"+N]=E,E=""),O&&!w["season"+N]&&(w["season"+N]=O,O=""),N="_end"}if(j)for(P=0,R=p.DATE_PARTS_ALL.length;P<R;P++){var M=p.DATE_PARTS_ALL[P];w[M]&&!w[M+"_end"]?w[M+"_end"]=w[M]:!w[M]&&w[M+"_end"]&&(w[M]=w[M+"_end"])}(!w.year||w.year&&w.day&&!w.month)&&(w={literal:i});var U=["year","month","day","year_end","month_end","day_end"];for(v=0,y=U.length;v<y;v++){var z=U[v];"string"==typeof w[z]&&w[z].match(/^[0-9]+$/)&&(w[z]=parseInt(w[z],10))}return n&&Object.keys(w).indexOf("year")>-1&&(w.year=-1*w.year),w},this.parseDateToArray=function(t){return this.convertDateObjectToArray(this.parseDateToObject(t))},this.parseDateToString=function(t){return this.convertDateObjectToString(this.parseDateToObject(t))},this.parse=function(t){return this.parseDateToObject(t)},this.setOrderMonthDay(),this.resetDateParserMonths()},t.exports=p,p.Engine=function(t,e,i,r){var s,n;this.processor_version=p.PROCESSOR_VERSION,this.csl_version="1.0",this.sys=t,t.variableWrapper&&(p.VARIABLE_WRAPPER_PREPUNCT_REX=new RegExp("^(["+[" "].concat(p.SWAPPING_PUNCTUATION).join("")+"]*)(.*)")),p.retrieveStyleModule&&(this.sys.retrieveStyleModule=p.retrieveStyleModule),p.getAbbreviation&&(this.sys.getAbbreviation=p.getAbbreviation),this.sys.stringCompare&&(p.stringCompare=this.sys.stringCompare),this.sys.AbbreviationSegments=p.AbbreviationSegments,this.parallel=new p.Parallel(this),this.transform=new p.Transform(this),this.setParseNames=function(t){this.opt["parse-names"]=t},this.opt=new p.Engine.Opt,this.tmp=new p.Engine.Tmp,this.build=new p.Engine.Build,this.fun=new p.Engine.Fun(this),this.configure=new p.Engine.Configure,this.citation_sort=new p.Engine.CitationSort,this.bibliography_sort=new p.Engine.BibliographySort,this.citation=new p.Engine.Citation(this),this.bibliography=new p.Engine.Bibliography,this.output=new p.Output.Queue(this),this.dateput=new p.Output.Queue(this),this.cslXml=p.setupXml(e),(this.opt.development_extensions.csl_reverse_lookup_support||this.sys.csl_reverse_lookup_support)&&(this.build.cslNodeId=0,this.setCslNodeIds=function(t,e){var i=this.cslXml.children(t);this.cslXml.setAttribute(t,"cslid",this.build.cslNodeId),this.opt.nodenames.push(e),this.build.cslNodeId+=1;for(var r=0,s=this.cslXml.numberofnodes(i);r<s;r+=1)(e=this.cslXml.nodename(i[r]))&&this.setCslNodeIds(i[r],e)},this.setCslNodeIds(this.cslXml.dataObj,"style")),this.cslXml.addMissingNameNodes(this.cslXml.dataObj),this.cslXml.addInstitutionNodes(this.cslXml.dataObj),this.cslXml.insertPublisherAndPlace(this.cslXml.dataObj),this.cslXml.flagDateMacros(this.cslXml.dataObj),void 0===this.cslXml.attributes(this.cslXml.dataObj)["@sort-separator"]&&this.cslXml.setAttribute(this.cslXml.dataObj,"sort-separator",", "),this.opt["initialize-with-hyphen"]=!0,this.setStyleAttributes(),this.opt.xclass=this.cslXml.getAttributeValue(this.cslXml.dataObj,"class"),this.opt.class=this.opt.xclass,this.opt.styleID=this.cslXml.getStyleId(this.cslXml.dataObj),this.opt.styleName=this.cslXml.getStyleId(this.cslXml.dataObj,!0),"1.1m"===this.opt.version.slice(0,4)&&(this.opt.development_extensions.static_statute_locator=!0,this.opt.development_extensions.handle_parallel_articles=!0,this.opt.development_extensions.main_title_from_short_title=!0,this.opt.development_extensions.rtl_support=!0,this.opt.development_extensions.expect_and_symbol_form=!0,this.opt.development_extensions.require_explicit_legal_case_title_short=!0,this.opt.development_extensions.force_jurisdiction=!0),i&&(i=i.replace("_","-"),i=p.normalizeLocaleStr(i)),this.opt["default-locale"][0]&&(this.opt["default-locale"][0]=this.opt["default-locale"][0].replace("_","-"),this.opt["default-locale"][0]=p.normalizeLocaleStr(this.opt["default-locale"][0])),i&&r&&(this.opt["default-locale"]=[i]),i&&!r&&this.opt["default-locale"][0]&&(i=this.opt["default-locale"][0]),0===this.opt["default-locale"].length&&(i||(i="en-US"),this.opt["default-locale"].push("en-US")),i||(i=this.opt["default-locale"][0]),s=p.localeResolve(i),this.opt.lang=s.best,this.opt["default-locale"][0]=s.best,this.locale={},this.opt["default-locale-sort"]||(this.opt["default-locale-sort"]=this.opt["default-locale"][0]),"dale|".localeCompare("daleb",this.opt["default-locale-sort"])>-1?this.opt.sort_sep="@":this.opt.sort_sep="|",this.localeConfigure(s),this.locale[this.opt.lang].opts["skip-words-regexp"]=(n=(n=this.locale[this.opt.lang].opts["skip-words"]).slice(),new RegExp("(?:(?:[?!:]*\\s+|-|^)(?:"+n.join("|")+")(?=[!?:]*\\s+|-|$))","g")),this.output.adjust=new p.Output.Queue.adjust(this.getOpt("punctuation-in-quote")),this.registry=new p.Registry(this),this.macros={},this.build.area="citation";var a=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(a,this[this.build.area].tokens),this.build.area="bibliography";a=this.cslXml.getNodesByName(this.cslXml.dataObj,this.build.area);this.buildTokenLists(a,this[this.build.area].tokens),this.juris={},this.configureTokenLists(),this.disambiguate=new p.Disambiguation(this),this.splice_delimiter=!1,this.fun.dateparser=p.DateParser,this.fun.flipflopper=new p.Util.FlipFlopper(this),this.setCloseQuotesArray(),this.fun.ordinalizer.init(this),this.fun.long_ordinalizer.init(this),this.fun.page_mangler=p.Util.PageRangeMangler.getFunction(this,"page"),this.fun.year_mangler=p.Util.PageRangeMangler.getFunction(this,"year"),this.setOutputFormat("html")},p.Engine.prototype.setCloseQuotesArray=function(){var t;(t=[]).push(this.getTerm("close-quote")),t.push(this.getTerm("close-inner-quote")),t.push('"'),t.push("'"),this.opt.close_quotes_array=t},p.makeBuilder=function(t,e){var i=[];function r(r){p.XmlToToken.call(r,t,p.START,e,i)}function s(r){p.XmlToToken.call(r,t,p.END,e,i)}function n(r){p.XmlToToken.call(r,t,p.SINGLETON,e,i)}return function e(i){var a;if(t.cslXml.numberofnodes(t.cslXml.children(i))){r(a=i);for(var o=0;o<t.cslXml.numberofnodes(t.cslXml.children(a));o+=1)i=t.cslXml.children(a)[o],null!==t.cslXml.nodename(i)&&("date"===t.cslXml.nodename(i)&&(p.Util.fixDateNode.call(t,a,o,i),i=t.cslXml.children(a)[o]),e(i));s(a)}else n(i)}},p.Engine.prototype.buildTokenLists=function(t,e){this.cslXml.getNodeValue(t)&&p.makeBuilder(this,e)(void 0===t.length?t:t[0])},p.Engine.prototype.setStyleAttributes=function(){var t,e,i={};for(e in i.name=this.cslXml.nodename(this.cslXml.dataObj),t=this.cslXml.attributes(this.cslXml.dataObj))t.hasOwnProperty(e)&&p.Attributes[e].call(i,this,t[e])},p.Engine.prototype.getTerm=function(t,e,i,r,s,n){var a;t&&t.match(/[A-Z]/)&&t===t.toUpperCase()&&(p.debug("Warning: term key is in uppercase form: "+t),t=t.toLowerCase()),a=n?this.opt["default-locale"][0]:this.opt.lang;var o=p.Engine.getField(p.LOOSE,this.locale[a].terms,t,e,i,r);if(o||"range-delimiter"!==t||(o="–"),void 0===o){if(s===p.STRICT)throw'Error in getTerm: term "'+t+'" does not exist.';s===p.TOLERANT&&(o="")}return o&&(this.tmp.cite_renders_content=!0),o},p.Engine.prototype.getDate=function(t,e){var i;return i=e?this.opt["default-locale"]:this.opt.lang,!!this.locale[i].dates[t]&&this.locale[i].dates[t]},p.Engine.prototype.getOpt=function(t){return void 0!==this.locale[this.opt.lang].opts[t]&&this.locale[this.opt.lang].opts[t]},p.Engine.prototype.getVariable=function(t,e,i,r){return p.Engine.getField(p.LOOSE,t,e,i,r)},p.Engine.prototype.getDateNum=function(t,e){return void 0===t?0:t[e]},p.Engine.getField=function(t,e,i,r,s,n){var a,o,l,u,c,m;if(a="",void 0!==e[i]){for(m=n&&e[i][n]?e[i][n]:e[i],o=[],"symbol"===r?o=["symbol","short"]:"verb-short"===r?o=["verb-short","verb"]:"long"!==r&&(o=[r]),c=(o=o.concat(["long"])).length,u=0;u<c;u+=1)if(l=o[u],"string"==typeof m||"number"==typeof m)a=m;else if(void 0!==m[l]){a="string"==typeof m[l]||"number"==typeof m[l]?m[l]:"number"==typeof s?m[l][s]:m[l][0];break}return a}if(t===p.STRICT)throw'Error in getField: term "'+i+'" does not exist.'},p.Engine.prototype.configureTokenLists=function(){var t,e;for(e=p.AREAS.length,t=0;t<e;t+=1){var i=this[p.AREAS[t]].tokens;this.configureTokenList(i)}return this.version=p.version,this.state},p.Engine.prototype.configureTokenList=function(t){var e,i,r,s,n,a;for(e=["year","month","day"],s=t.length-1;s>-1;s+=-1){if("date"===(i=t[s]).name&&p.END===i.tokentype&&(r=[]),"date-part"===i.name&&i.strings.name)for(a=e.length,n=0;n<a;n+=1)e[n]===i.strings.name&&r.push(i.strings.name);"date"===i.name&&p.START===i.tokentype&&(r.reverse(),i.dateparts=r),i.next=s+1,i.name&&p.Node[i.name].configure&&p.Node[i.name].configure.call(i,this,s)}},p.Engine.prototype.retrieveItems=function(t){var e;e=[];for(var i=0,r=t.length;i<r;i+=1)e.push(this.retrieveItem(""+t[i]));return e},p.ITERATION=0,p.Engine.prototype.retrieveItem=function(t){var e,i;if(this.tmp.loadedItemIDs[t])return this.registry.refhash[t];if(this.tmp.loadedItemIDs[t]=!0,this.opt.development_extensions.normalize_lang_keys_to_lowercase&&"boolean"==typeof this.opt.development_extensions.normalize_lang_keys_to_lowercase){for(var r=0,s=this.opt["default-locale"].length;r<s;r+=1)this.opt["default-locale"][r]=this.opt["default-locale"][r].toLowerCase();for(r=0,s=this.opt["locale-translit"].length;r<s;r+=1)this.opt["locale-translit"][r]=this.opt["locale-translit"][r].toLowerCase();for(r=0,s=this.opt["locale-translat"].length;r<s;r+=1)this.opt["locale-translat"][r]=this.opt["locale-translat"][r].toLowerCase();this.opt.development_extensions.normalize_lang_keys_to_lowercase=100}if(p.ITERATION+=1,e=JSON.parse(JSON.stringify(this.sys.retrieveItem(""+t))),this.opt.development_extensions.normalize_lang_keys_to_lowercase){if(e.multi){if(e.multi._keys)for(var n in e.multi._keys)for(var a in e.multi._keys[n])a!==a.toLowerCase()&&(e.multi._keys[n][a.toLowerCase()]=e.multi._keys[n][a],delete e.multi._keys[n][a]);if(e.multi.main)for(var n in e.multi.main)e.multi.main[n]=e.multi.main[n].toLowerCase()}for(r=0,s=p.NAME_VARIABLES.length;r>s;r+=1){var o=p.NAME_VARIABLES[r];if(e[o]&&e[o].multi)for(var l=0,u=e[o].length;l<u;l+=1){var c=e[o][l];if(c.multi){if(c.multi._key)for(var a in c.multi._key)a!==a.toLowerCase()&&(c.multi._key[a.toLowerCase()]=c.multi._key[a],delete c.multi._key[a]);c.multi.main&&(c.multi.main=c.multi.main.toLowerCase())}}}}if(e.language){var m=e.language.split("<");m.length>0&&(e["language-name"]=m[0]),2===m.length&&(e["language-name-original"]=m[1])}e.page&&(e["page-first"]=e.page,"\\"!==(i=(""+e.page).split(/\s*(?:&|, |-|\u2013)\s*/))[0].slice(-1)&&(e["page-first"]=i[0]));this.opt.development_extensions.field_hack&&e.note&&p.parseNoteFieldHacks(e,!1,this.opt.development_extensions.allow_field_hack_date_override);for(r=1,s=p.DATE_VARIABLES.length;r<s;r+=1){var h=e[p.DATE_VARIABLES[r]];h&&(this.opt.development_extensions.raw_date_parsing&&h.raw&&(h=this.fun.dateparser.parseDateToObject(h.raw)),e[p.DATE_VARIABLES[r]]=this.dateParseArray(h))}if(this.opt.development_extensions.static_statute_locator&&e.type&&["bill","gazette","legislation","regulation","treaty"].indexOf(e.type)>-1){var f,d=["type","title","jurisdiction","genre","volume","container-title"],g=[];for(r=0,s=d.length;r<s;r+=1)e[f=d[r]]&&g.push(e[f]);for(r=0,(d=["original-date","issued"]).length;r<s;r+=1)if(e[f=d[r]]&&e[f].year){var b=e[f].year;g.push(b);break}e.legislation_id=g.join("::")}if(this.opt.development_extensions.force_jurisdiction&&"string"==typeof e.authority&&(e.authority=[{literal:e.authority,multi:{_key:{}}}],e.multi&&e.multi._keys&&e.multi._keys.authority))for(var a in e.authority[0].multi._key={},e.multi._keys.authority)e.authority[0].multi._key[a]={literal:e.multi._keys.authority[a]};e["title-short"]||(e["title-short"]=e.shortTitle),this.opt.development_extensions.main_title_from_short_title&&p.extractTitleAndSubtitle(e);var v,y=["bill","legal_case","legislation","gazette","regulation"].indexOf(e.type)>-1;if(this.opt.development_extensions.force_jurisdiction&&y&&(e.jurisdiction||(e.jurisdiction="us")),!y&&e.title&&this.sys.getAbbreviation){e.jurisdiction||!0,v=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(e.title):e.title;var _=this.transform.loadAbbreviation(e.jurisdiction,"title",v,e.type);this.transform.abbrevs[_].title&&this.transform.abbrevs[_].title[v]&&(e["title-short"]=this.transform.abbrevs[_].title[v])}if(e["container-title-short"]||(e["container-title-short"]=e.journalAbbreviation),e["container-title"]&&this.sys.getAbbreviation){v=this.sys.normalizeAbbrevsKey?this.sys.normalizeAbbrevsKey(e["container-title"]):e["container-title"];_=this.transform.loadAbbreviation(e.jurisdiction,"container-title",v);this.transform.abbrevs[_]["container-title"]&&this.transform.abbrevs[_]["container-title"][v]&&(e["container-title-short"]=this.transform.abbrevs[_]["container-title"][v])}return e.jurisdiction&&(e.country=e.jurisdiction.split(":")[0]),this.registry.refhash[t]=e,e},p.Engine.prototype.setOpt=function(t,e,i){"style"===t.name||"cslstyle"===t.name?(this.opt.inheritedAttributes[e]=i,this.citation.opt.inheritedAttributes[e]=i,this.bibliography.opt.inheritedAttributes[e]=i):["citation","bibliography"].indexOf(t.name)>-1?this[t.name].opt.inheritedAttributes[e]=i:t.strings[e]=i},p.Engine.prototype.inheritOpt=function(t,e,i,r){if(void 0!==t.strings[e])return t.strings[e];var s=this[this.tmp.root].opt.inheritedAttributes[i||e];return void 0!==s?s:r},t.exports=p,p.Engine.prototype.remapSectionVariable=function(t){for(var e=0,i=t.length;e<i;e+=1){var r=t[e][0],s=t[e][1];if(["bill","gazette","legislation","regulation","treaty"].indexOf(r.type)>-1){if(s.locator)s.locator=s.locator.trim(),(a=s.locator.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))||(s.label?s.locator=p.STATUTE_SUBDIV_STRINGS_REVERSE[s.label]+" "+s.locator:s.locator="p. "+s.locator);var n=null;if(r.section)r.section=r.section.trim(),(a=r.section.match(p.STATUTE_SUBDIV_PLAIN_REGEX_FRONT))?n=a[0].trim():(r.section="sec. "+r.section,n="sec.");if(r.section)if(s.locator){var a,o=" ";(a=s.locator.match(/^([^ ]*)\s*(.*)/))?("p."===a[1]&&"p."!==n&&(s.locator=a[2]),["[","(",".",",",";",":","?"].indexOf(s.locator.slice(0,1))>-1&&(o="")):o="",s.locator=r.section+o+s.locator}else s.locator=r.section;s.label=""}}},p.Engine.prototype.setNumberLabels=function(t){if(t.number&&["bill","gazette","legislation","regulation","treaty"].indexOf(t.type)>-1&&this.opt.development_extensions.static_statute_locator&&!this.tmp.shadow_numbers.number){this.tmp.shadow_numbers.number={},this.tmp.shadow_numbers.number.values=[],this.tmp.shadow_numbers.number.plural=0,this.tmp.shadow_numbers.number.numeric=!1,this.tmp.shadow_numbers.number.label=!1;var e=""+t.number,i=(e=e.split("\\").join("")).split(/\s+/)[0],r=p.STATUTE_SUBDIV_STRINGS[i];if(r){var s=e.match(p.STATUTE_SUBDIV_GROUPED_REGEX),n=e.split(p.STATUTE_SUBDIV_PLAIN_REGEX);if(n.length>1){for(var a=[],o=1,l=n.length;o<l;o+=1){s[o-1].replace(/^\s*/,"");a.push(n[o].replace(/\s*$/,"").replace(/^\s*/,""))}e=a.join(" ")}else e=n[0];this.tmp.shadow_numbers.number.label=r,this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!1}else this.tmp.shadow_numbers.number.values.push(["Blob",e,!1]),this.tmp.shadow_numbers.number.numeric=!0}},t.exports=p,p.substituteOne=function(t){return function(e,i){return i?t.replace("%%STRING%%",i):""}},p.substituteTwo=function(t){return function(e){var i=t.replace("%%PARAM%%",e);return function(t,e){return e?i.replace("%%STRING%%",e):""}}},p.Mode=function(t){var e,i,r,s,n,a;for(r in e={},i=p.Output.Formats[t])if("@"===r.slice(0,1)){if(s=!1,n=i[r],a=r.split("/"),"string"==typeof n&&n.indexOf("%%STRING%%")>-1)s=n.indexOf("%%PARAM%%")>-1?p.substituteTwo(n):p.substituteOne(n);else if("boolean"!=typeof n||n){if("function"!=typeof n)throw"CSL.Compiler: Bad "+t+" config entry for "+r+": "+n;s=n}else s=p.Output.Formatters.passthrough;1===a.length?e[a[0]]=s:2===a.length&&(e[a[0]]||(e[a[0]]={}),e[a[0]][a[1]]=s)}else e[r]=i[r];return e},p.setDecorations=function(t,e){var i,r;for(r in i=[],p.FORMAT_KEY_SEQUENCE){var s;e[s=p.FORMAT_KEY_SEQUENCE[r]]&&(i.push([s,e[s]]),delete e[s])}return i},p.Doppeler=function(t,e){this.split=function(t){e&&(t=e(t));var s=t.match(i);if(!s)return{tags:[],strings:[t]};for(var n=t.split(r),a=s.length-1;a>-1;a--){var o=s[a];"'"===o&&n[a+1].length>0&&(n[a+1]=s[a]+n[a+1],s[a]="")}return{tags:s,strings:n,origStrings:n.slice()}},this.join=function(t){for(var e=t.strings.slice(-1),i=t.tags.length-1;i>-1;i--)e.push(t.tags[i]),e.push(t.strings[i]);return e.reverse(),e.join("")};var i=new RegExp("("+t+")","g"),r=new RegExp(t,"g")},p.Engine.prototype.normalDecorIsOrphan=function(t,e){if("normal"===e[1]){for(var i,r=!1,s=(i="citation"===this.tmp.area?[this.citation.opt.layout_decorations].concat(t.alldecor):t.alldecor).length-1;s>-1;s+=-1)for(var n=i[s].length-1;n>-1;n+=-1)i[s][n][0]===e[0]&&"normal"!==i[s][n][1]&&(r=!0);if(!r)return!0}return!1},t.exports=p,p.Engine.prototype.getCitationLabel=function(t){var e="",i=this.getTrigraphParams(),r=i[0],s=this.getTerm("reference","short",0);void 0===s&&(s="reference"),s=(s=s.replace(".","")).slice(0,1).toUpperCase()+s.slice(1);for(var n=0,a=p.NAME_VARIABLES.length;n<a;n+=1){var o=p.NAME_VARIABLES[n];if(t[o]){var l=t[o];r=l.length>i.length?i[i.length-1]:i[l.length-1];for(var u=0,c=l.length;u<c&&u!==r.authors.length;u+=1){var m=this.nameOutput.getName(l[u],"locale-translit",!0).name;m&&m.family?s=(s=m.family).replace(/^([ \'\u2019a-z]+\s+)/,""):m&&m.literal&&(s=m.literal);var h=s.toLowerCase().match(/^(a\s+|the\s+|an\s+)/);if(h&&(s=s.slice(h[1].length)),!(s=s.replace(p.ROMANESQUE_NOT_REGEXP,"")))break;(s=s.slice(0,r.authors[u])).length>1?s=s.slice(0,1).toUpperCase()+s.slice(1).toLowerCase():1===s.length&&(s=s.toUpperCase()),e+=s}break}}if(!e&&t.title){var f=this.locale[this.opt.lang].opts["skip-words"],d=t.title.split(/\s+/);for(n=d.length-1;n>-1;n--)f.indexOf(d[n])>-1&&(d=d.slice(0,n).concat(d.slice(n+1)));var g=d.join("");(g=g.slice(0,i[0].authors[0])).length>1?g=g.slice(0,1).toUpperCase()+g.slice(1).toLowerCase():1===g.length&&(g=g.toUpperCase()),e=g}var b="0000";return t.issued&&t.issued.year&&(b=""+t.issued.year),e+=b=b.slice(-1*r.year)},p.Engine.prototype.getTrigraphParams=function(){var t=[],e=this.opt.trigraph.split(":");if(!this.opt.trigraph||"A"!==this.opt.trigraph.slice(0,1))throw"Bad trigraph definition: "+this.opt.trigraph;for(var i=0,r=e.length;i<r;i+=1){for(var s=e[i],n={authors:[],year:0},a=0,o=s.length;a<o;a+=1)switch(s.slice(a,a+1)){case"A":n.authors.push(1);break;case"a":n.authors[n.authors.length-1]+=1;break;case"0":n.year+=1;break;default:throw"Invalid character in trigraph definition: "+this.opt.trigraph}t.push(n)}return t},t.exports=p,p.Engine.prototype.setOutputFormat=function(t){this.opt.mode=t,this.fun.decorate=p.Mode(t),this.output[t]||(this.output[t]={},this.output[t].tmp={})},p.Engine.prototype.getSortFunc=function(){return function(t,e){return t=t.split("-"),e=e.split("-"),t.length<e.length?1:t.length>e.length?-1:(t=t.slice(-1)[0],e=e.slice(-1)[0],t.length<e.length?1:t.length>e.length?-1:0)}},p.Engine.prototype.setLangTagsForCslSort=function(t){var e,i;if(t)for(this.opt["locale-sort"]=[],e=0,i=t.length;e<i;e+=1)this.opt["locale-sort"].push(t[e]);this.opt["locale-sort"].sort(this.getSortFunc())},p.Engine.prototype.setLangTagsForCslTransliteration=function(t){var e,i;if(this.opt["locale-translit"]=[],t)for(e=0,i=t.length;e<i;e+=1)this.opt["locale-translit"].push(t[e]);this.opt["locale-translit"].sort(this.getSortFunc())},p.Engine.prototype.setLangTagsForCslTranslation=function(t){var e,i;if(this.opt["locale-translat"]=[],t)for(e=0,i=t.length;e<i;e+=1)this.opt["locale-translat"].push(t[e]);this.opt["locale-translat"].sort(this.getSortFunc())},p.Engine.prototype.setLangPrefsForCites=function(t,e){var i=this.opt["cite-lang-prefs"];e||(e=function(t){return t.toLowerCase()});for(var r=["Persons","Institutions","Titles","Journals","Publishers","Places"],s=0,n=r.length;s<n;s+=1){var a=e(r[s]),o=r[s].toLowerCase();if(t[a]){for(var l=[];t[a].length>1;)l.push(t[a].pop());var u={orig:1,translit:2,translat:3};for(2===l.length&&u[l[0]]<u[l[1]]&&l.reverse();l.length;)t[a].push(l.pop());for(var c=i[o];c.length;)c.pop();for(var p=0,m=t[a].length;p<m;p+=1)c.push(t[a][p])}}},p.Engine.prototype.setLangPrefsForCiteAffixes=function(t){if(t&&48===t.length){for(var e,i=this.opt.citeAffixes,r=0,s=["persons","institutions","titles","journals","publishers","places"],n=["translit","orig","translit","translat"],a=0,o=s.length;a<o;a+=1)for(var l=0,u=n.length;l<u;l+=1)e="",r%8==4&&(i[s[a]]["locale-"+n[l]].prefix||i[s[a]]["locale-"+n[l]].suffix)||(e=t[r]?t[r]:"",i[s[a]]["locale-"+n[l]].prefix=e,e=t[r]?t[r+1]:"",i[s[a]]["locale-"+n[l]].suffix=e),r+=2;this.opt.citeAffixes=i}},p.Engine.prototype.setAutoVietnameseNamesOption=function(t){this.opt["auto-vietnamese-names"]=!!t},p.Engine.prototype.setAbbreviations=function(t){this.sys.setAbbreviations&&this.sys.setAbbreviations(t)},p.Engine.prototype.setSuppressTrailingPunctuation=function(t){this.citation.opt.suppressTrailingPunctuation=!!t},t.exports=p,p.Output={},p.Output.Queue=function(t){this.levelname=["top"],this.state=t,this.queue=[],this.empty=new p.Token("empty");var e={};e.empty=this.empty,this.formats=new p.Stack(e),this.current=new p.Stack(this.queue)},p.Output.Queue.prototype.pop=function(){var t=this.current.value();return t.length?t.pop():t.blobs.pop()},p.Output.Queue.prototype.getToken=function(t){return this.formats.value()[t]},p.Output.Queue.prototype.mergeTokenStrings=function(t,e){var i,r,s;if(s=i=this.formats.value()[t],r=this.formats.value()[e]){i||((i=new p.Token(t,p.SINGLETON)).decorations=[]),s=new p.Token(t,p.SINGLETON);var n="";for(var n in i.strings)i.strings.hasOwnProperty(n)&&(s.strings[n]=i.strings[n]);for(var n in r.strings)r.strings.hasOwnProperty(n)&&(s.strings[n]=r.strings[n]);s.decorations=i.decorations.concat(r.decorations)}return s},p.Output.Queue.prototype.addToken=function(t,e,i){var r,s;if(r=new p.Token("output"),"string"==typeof i&&(i=this.formats.value()[i]),i&&i.strings){for(s in i.strings)i.strings.hasOwnProperty(s)&&(r.strings[s]=i.strings[s]);r.decorations=i.decorations}"string"==typeof e&&(r.strings.delimiter=e),this.formats.value()[t]=r},p.Output.Queue.prototype.pushFormats=function(t){t||(t={}),t.empty=this.empty,this.formats.push(t)},p.Output.Queue.prototype.popFormats=function(t){this.formats.pop()},p.Output.Queue.prototype.startTag=function(t,e){var i={};this.state.tmp["doing-macro-with-date"]&&this.state.tmp.extension&&(e=this.empty,t="empty"),i[t]=e,this.pushFormats(i),this.openLevel(t)},p.Output.Queue.prototype.endTag=function(t){this.closeLevel(t),this.popFormats()},p.Output.Queue.prototype.openLevel=function(t,e){var i,r;if("object"==typeof t)i=new p.Blob(void 0,t);else if(void 0===t)i=new p.Blob(void 0,this.formats.value().empty,"empty");else{if(!this.formats.value()||!this.formats.value()[t])throw'CSL processor error: call to nonexistent format token "'+t+'"';i=new p.Blob(void 0,this.formats.value()[t],t)}r=this.current.value(),!this.state.tmp.just_looking&&this.checkNestedBrace&&(i.strings.prefix=this.checkNestedBrace.update(i.strings.prefix)),r.push(i),this.current.push(i)},p.Output.Queue.prototype.closeLevel=function(t){t&&t!==this.current.value().levelname&&p.error("Level mismatch error:  wanted "+t+" but found "+this.current.value().levelname);var e=this.current.pop();!this.state.tmp.just_looking&&this.checkNestedBrace&&(e.strings.suffix=this.checkNestedBrace.update(e.strings.suffix))},p.Output.Queue.prototype.append=function(t,e,i,r,s){var n,a,o,l=!0;if(i&&(r=!0),this.state.tmp["doing-macro-with-date"]&&!i){if("macro-with-date"!==e)return!1;"macro-with-date"===e&&(e="empty")}if(void 0===t)return!1;if("number"==typeof t&&(t=""+t),!i&&this.state.tmp.element_trace&&"suppress-me"===this.state.tmp.element_trace.value())return!1;if(a=!1,e?"literal"===e?(n=!0,l=!1):n="string"==typeof e?this.formats.value()[e]:e:n=this.formats.value().empty,!n)throw"CSL processor error: unknown format token name: "+e;if(n.strings&&void 0===n.strings.delimiter&&(n.strings.delimiter=""),"string"==typeof t&&t.length&&(t=t.replace(/ ([:;?!\u00bb])/g," $1").replace(/\u00ab /g,"« "),this.last_char_rendered=t.slice(-1),t=t.replace(/\s+'/g," '"),i||(t=t.replace(/^'/g," '")),r?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),a=new p.Blob(t,n),void 0===(o=this.current.value())&&0===this.current.mystack.length&&(this.current.mystack.push([]),o=this.current.value()),"string"==typeof a.blobs&&(r?i&&(this.state.tmp.term_predecessor_name=!0):(this.state.tmp.term_predecessor=!0,this.state.tmp.in_cite_predecessor=!0)),i||this.state.parallel.AppendBlobPointer(o),"string"==typeof t){if("string"==typeof a.blobs&&" "!==a.blobs.slice(0,1)){for(var u="",c=a.blobs;p.TERMINAL_PUNCTUATION.indexOf(c.slice(0,1))>-1;)u+=c.slice(0,1),c=c.slice(1);c&&u&&(a.strings.prefix=a.strings.prefix+u,a.blobs=c)}a.strings["text-case"]&&(a.blobs=p.Output.Formatters[a.strings["text-case"]](this.state,t)),this.state.tmp.strip_periods&&!s&&(a.blobs=a.blobs.replace(/\.([^a-z]|$)/g,"$1"));for(var m=a.decorations.length-1;m>-1;m+=-1)"@quotes"===a.decorations[m][0]&&"false"!==a.decorations[m][1]&&(a.punctuation_in_quote=this.state.getOpt("punctuation-in-quote")),a.blobs.match(p.ROMANESQUE_REGEXP)||"@font-style"===a.decorations[m][0]&&(a.decorations=a.decorations.slice(0,m).concat(a.decorations.slice(m+1)));o.push(a),this.state.fun.flipflopper.processTags(a)}else l?o.push(a):o.push(t);return!0},p.Output.Queue.prototype.string=function(t,e,i){var r,s=p.getSafeEscape(this.state),n=e.slice(),a=[];if(0===n.length)return a;var o,l,u,c,m="";i?m=i.strings.delimiter:(t.tmp.count_offset_characters=!1,t.tmp.offset_characters=0),i&&i.new_locale&&(i.old_locale=t.opt.lang,t.opt.lang=i.new_locale);for(var h=0,f=n.length;h<f;h+=1){if((o=n[h]).strings.first_blob&&(t.tmp.count_offset_characters=o.strings.first_blob),"string"==typeof o.blobs){if("number"==typeof o.num)a.push(o);else if(o.blobs){o.particle&&(o.blobs=o.particle+o.blobs,o.particle="");var d=(r=s(o.blobs)).length;if(!t.tmp.suppress_decorations)for(v=0,y=o.decorations.length;v<y;v+=1)"@showid"!==(c=o.decorations[v])[0]&&(t.normalDecorIsOrphan(o,c)||(r=t.fun.decorate[c[0]][c[1]].call(o,t,r,c[2])));if(r&&r.length){if(r=s(o.strings.prefix)+r+s(o.strings.suffix),(t.opt.development_extensions.csl_reverse_lookup_support||t.sys.csl_reverse_lookup_support)&&!t.tmp.suppress_decorations)for(v=0,y=o.decorations.length;v<y;v+=1)"@showid"===(c=o.decorations[v])[0]&&(r=t.fun.decorate[c[0]][c[1]].call(o,t,r,c[2]));a.push(r),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=d+o.strings.suffix.length+o.strings.prefix.length)}}}else if(o.blobs.length){var g=t.output.string(t,o.blobs,o);if(i&&"string"!==g&&g.length>1&&o.strings.delimiter)for(var b=!1,v=0,y=g.length;v<y;v++)"string"!=typeof g[v]?b=!0:b&&(g[v]=o.strings.delimiter+g[v]);a=a.concat(g)}o.strings.first_blob&&t.registry.registry[o.strings.first_blob]&&(t.registry.registry[o.strings.first_blob].offset=t.tmp.offset_characters,t.tmp.count_offset_characters=!1)}for(h=0,f=a.length-1;h<f;h+=1)"number"!=typeof a[h].num||"number"!=typeof a[h+1].num||a[h+1].UGLY_DELIMITER_SUPPRESS_HACK||(a[h].strings.suffix=a[h].strings.suffix+(m||""),a[h+1].successor_prefix="",a[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0);var _=0;for(h=0,f=a.length;h<f;h+=1)"string"==typeof a[h]&&(_=parseInt(h,10)+1,h<a.length-1&&"object"==typeof a[h+1]&&(m&&!a[h+1].UGLY_DELIMITER_SUPPRESS_HACK&&(a[h]+=s(m)),a[h+1].UGLY_DELIMITER_SUPPRESS_HACK=!0));if(i&&(i.decorations.length||i.strings.suffix))_=a.length;else if(i&&i.strings.prefix)for(h=0,f=a.length;h<f;h++)if(void 0!==a[h].num){_=h,0===h&&(a[h].strings.prefix=i.strings.prefix+a[h].strings.prefix);break}var x=t.output.renderBlobs(a.slice(0,_),m,!1,i);if(x&&i&&(i.decorations.length||i.strings.suffix||i.strings.prefix)){if(!t.tmp.suppress_decorations)for(h=0,f=i.decorations.length;h<f;h+=1)c=i.decorations[h],["@cite","@bibliography","@display","@showid"].indexOf(c[0])>-1||t.normalDecorIsOrphan(o,c)||"string"==typeof x&&(x=t.fun.decorate[c[0]][c[1]].call(i,t,x,c[2]));if(r=x,l=i.strings.suffix,r&&r.length&&(r=s(u=i.strings.prefix)+r+s(l),t.tmp.count_offset_characters&&(t.tmp.offset_characters+=u.length+l.length)),x=r,!t.tmp.suppress_decorations)for(h=0,f=i.decorations.length;h<f;h+=1)c=i.decorations[h],-1!==["@cite","@bibliography","@display","@showid"].indexOf(c[0])&&"string"==typeof x&&(x=t.fun.decorate[c[0]][c[1]].call(i,t,x,c[2]))}var A=a.slice(_,a.length);return!A.length&&x?a=[x]:A.length&&!x?a=A:x&&A.length&&(a=[x].concat(A)),void 0===i?(this.queue=[],this.current.mystack=[],this.current.mystack.push(this.queue),t.tmp.suppress_decorations&&(a=t.output.renderBlobs(a,void 0,!1))):"boolean"==typeof i&&(a=t.output.renderBlobs(a,void 0,!0)),i&&i.new_locale&&(t.opt.lang=i.old_locale),a},p.Output.Queue.prototype.clearlevel=function(){var t,e,i;for(i=(t=this.current.value()).blobs.length,e=0;e<i;e+=1)t.blobs.pop()},p.Output.Queue.prototype.renderBlobs=function(t,e,i,r){var s,n,a,o,l,u,c,m,h,f,d;if(d=p.getSafeEscape(this.state),e||(e=""),s=this.state,n="",[],a="",u=t.length,"citation"===this.state.tmp.area&&!this.state.tmp.just_looking&&1===u&&"object"==typeof t[0]&&r)return t[0].strings.prefix=r.strings.prefix+t[0].strings.prefix,t[0].strings.suffix=t[0].strings.suffix+r.strings.suffix,t[0].decorations=t[0].decorations.concat(r.decorations),t[0].params=r.params,t[0];var g=!0;for(l=0;l<u;l+=1)t[l].checkNext?(t[l].checkNext(t[l+1],g),g=!1):g=!t[l+1]||!t[l+1].splice_prefix;var b=!0;for(l=t.length-1;l>0;l+=-1)t[l].checkLast?b&&t[l].checkLast(t[l-1])&&(b=!1):b=!0;for(u=t.length,l=0;l<u;l+=1)if(n&&(a=e),"string"==typeof(o=t[l]))n+=d(a),n+=o,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=a.length);else if(i)n=n?[n,o]:[o];else if(o.status!==p.SUPPRESS){var v=(h=o.particle?o.particle+o.num:o.formatter.format(o.num,o.gender)).replace(/<[^>]*>/g,"").length;this.append(h,"empty",!0);var y=this.pop(),_=s.tmp.count_offset_characters;if(h=this.string(s,[y],!1),s.tmp.count_offset_characters=_,o.strings["text-case"]&&(h=p.Output.Formatters[o.strings["text-case"]](this.state,h)),h&&this.state.tmp.strip_periods&&(h=h.replace(/\.([^a-z]|$)/g,"$1")),!s.tmp.suppress_decorations)for(m=o.decorations.length,c=0;c<m;c+=1)f=o.decorations[c],s.normalDecorIsOrphan(o,f)||(h=s.fun.decorate[f[0]][f[1]].call(o,s,h,f[2]));h=d(o.strings.prefix)+h+d(o.strings.suffix);var x="";o.status===p.END?x=d(o.range_prefix):o.status===p.SUCCESSOR?x=d(o.successor_prefix):o.status===p.START?x=l>0&&!o.suppress_splice_prefix?d(o.splice_prefix):"":o.status===p.SEEN&&(x=d(o.splice_prefix)),n+=x,n+=h,s.tmp.count_offset_characters&&(s.tmp.offset_characters+=x.length+o.strings.prefix.length+v+o.strings.suffix.length)}return n},p.Output.Queue.purgeEmptyBlobs=function(t){if("object"==typeof t&&"object"==typeof t.blobs&&t.blobs.length)for(var e=t.blobs.length-1;e>-1;e--){p.Output.Queue.purgeEmptyBlobs(t.blobs[e]);var i=t.blobs[e];if(!i||!i.blobs||!i.blobs.length){for(var r=[];t.blobs.length-1>e;)r.push(t.blobs.pop());for(t.blobs.pop();r.length;)t.blobs.push(r.pop())}}},p.Output.Queue.adjust=function(t){var e={";":!0,":":!0},i={".":!0,"!":!0,"?":!0};this.upward=function(t){if(t.blobs&&"string"==typeof t.blobs)return void(a[t.strings.suffix.slice(0,1)]&&t.strings.suffix.slice(0,1)===t.blobs.slice(-1)&&(t.strings.suffix=t.strings.suffix.slice(1)));if("object"!=typeof t||"object"!=typeof t.blobs||!t.blobs.length)return;for(var e=h(t,!0),i=t.blobs.length-1;i>-1;i--){t.blobs.length;this.upward(t.blobs[i]);var r=t.strings,s=t.blobs[i].strings;if(0===i){" "===r.prefix.slice(-1)&&" "===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1));var n=s.prefix.slice(0,1);e||!o[n]||r.prefix||(r.prefix+=n,s.prefix=s.prefix.slice(1))}if(i===t.blobs.length-1){var n=s.suffix.slice(-1);!e&&[" "].indexOf(n)>-1&&(r.suffix.slice(0,1)!==n&&(r.suffix=n+r.suffix),s.suffix=s.suffix.slice(0,-1))}r.delimiter&&i>0&&o[r.delimiter.slice(-1)]&&r.delimiter.slice(-1)===s.prefix.slice(0,1)&&(s.prefix=s.prefix.slice(1))}},this.leftward=function(t){if("object"!=typeof t||"object"!=typeof t.blobs||!t.blobs.length)return;for(var e=t.blobs.length-1;e>-1;e--)if(this.leftward(t.blobs[e]),e<t.blobs.length-1&&!t.strings.delimiter){var i=t.blobs[e],r=i.strings.suffix.slice(-1),s=t.blobs[e+1],n=s.strings.prefix.slice(0,1),o=h(i)||h(s),l="number"==typeof r||"number"==typeof n;if(!o&&!l&&a[n]&&!l){var u=n===i.strings.suffix.slice(-1),c=!i.strings.suffix&&"string"==typeof i.blobs&&i.blobs.slice(-1)===n;u||c?s.strings.prefix=s.strings.prefix.slice(1):b(i,"suffix",s,"prefix")}}},this.downward=function(e,i){if(e.blobs&&"string"==typeof e.blobs)return void(a[e.strings.suffix.slice(0,1)]&&e.strings.suffix.slice(0,1)===e.blobs.slice(-1)&&(e.strings.suffix=e.strings.suffix.slice(1)));if("object"!=typeof e||"object"!=typeof e.blobs||!e.blobs.length)return;for(var r=e.strings,s=0,n=e.blobs.length;s<n;s++)if(p(e.blobs[s])){!0;break}if(r.delimiter&&a[r.delimiter.slice(0,1)]){for(var l=r.delimiter.slice(0,1),s=e.blobs.length-2;s>-1;s--){var u=e.blobs[s].strings;u.suffix.slice(-1)!==l&&(u.suffix+=l)}r.delimiter=r.delimiter.slice(1)}h(e,!0),p(e);for(var s=e.blobs.length-1;s>-1;s--){var c=e.blobs[s],u=e.blobs[s].strings,v=h(c,!0),y=p(c);if(s===e.blobs.length-1){var _=r.suffix.slice(0,1),x=!1;a[_]&&!(x=d(_,c))&&t&&(x=f(c)),x&&a[_]&&(m(c)||("string"==typeof c.blobs?b(c,"blobs",e,"suffix"):b(c,"suffix",e,"suffix"),"."===r.suffix.slice(0,1)&&(u.suffix+=r.suffix.slice(0,1),r.suffix=r.suffix.slice(1))))," "===u.suffix.slice(-1)&&" "===r.suffix.slice(0,1)&&(r.suffix=r.suffix.slice(1)),o[u.suffix.slice(0,1)]&&("string"==typeof c.blobs&&c.blobs.slice(-1)===u.suffix.slice(0,1)&&(u.suffix=u.suffix.slice(1)),u.suffix.slice(-1)===r.suffix.slice(0,1)&&(r.suffix=r.suffix.slice(0,-1))),g(e,e.strings.suffix.slice(0,1))&&(e.strings.suffix=e.strings.suffix.slice(1))}else if(r.delimiter)o[r.delimiter.slice(0,1)]&&r.delimiter.slice(0,1)===u.suffix.slice(-1)&&(e.blobs[s].strings.suffix=e.blobs[s].strings.suffix.slice(0,-1));else{var A=e.blobs[s+1].strings;p(c)||v||!o[u.suffix.slice(-1)]||u.suffix.slice(-1)!==A.prefix.slice(0,1)||(A.prefix=A.prefix.slice(1))}y||v||!a[u.suffix.slice(0,1)]||"string"!=typeof c.blobs||b(c,"blobs",c,"suffix"),this.downward(e.blobs[s])}},this.fix=function(e){if("object"!=typeof e||"object"!=typeof e.blobs||!e.blobs.length)return;for(var i,r=0,s=e.blobs.length;r<s;r++){for(var n=e.blobs[r],a=!1,o=0,l=n.decorations.length;o<l;o++){var u=n.decorations[o];"@quotes"===u[0]&&"false"!==u[1]&&(a=!0)}a&&(t?v(n):y(n)),i=this.fix(e.blobs[r]),n.blobs&&"string"==typeof n.blobs&&(i=n.blobs.slice(-1))}return i};var r={"!":{".":"!","?":"!?",":":"!",",":"!,",";":"!;"},"?":{"!":"?!",".":"?",":":"?",",":"?,",";":"?;"},".":{"!":".!","?":".?",":":".:",",":".,",";":".;"},":":{"!":"!","?":"?",".":":",",":":,",";":":;"},",":{"!":",!","?":",?",":":",:",".":",.",";":",;"},";":{"!":"!","?":"?",":":";",",":";,",".":";"}},s={},n={},a={},o={};for(var l in r)a[l]=!0,o[l]=!0,e[l]||(s[l]=!0),i[l]||(n[l]=!0);o[" "]=!0,o[" "]=!0;var u={};for(var l in r)for(var c in r[l])u[c]||(u[c]={}),u[c][l]=r[l][c];function p(t){return"number"==typeof t.num||t.blobs&&1===t.blobs.length&&"number"==typeof t.blobs[0].num}function m(t){return"number"==typeof t.num||!(!t.blobs||"object"!=typeof t.blobs)&&(!!m(t.blobs[t.blobs.length-1])||void 0)}function h(t,e){var i=!1,r=["@font-style","@font-variant","@font-weight","@text-decoration","@vertical-align"];if(e&&r.push("@quotes"),t.decorations)for(var s=0,n=t.decorations.length;s<n;s++)if(r.indexOf(t.decorations[s][0])>-1){i=!0;break}return i}function f(t){if(t.decorations)for(var e=0,i=t.decorations.length;e<i;e++)if("@quotes"===t.decorations[e][0]&&"false"!==t.decorations[e][1])return!0;return"object"==typeof t.blobs&&f(t.blobs[t.blobs.length-1])}function d(t,e){var i=e.strings.suffix.slice(-1);i||"string"!=typeof e.blobs||(i=e.blobs.slice(-1));var r=u[t][i];return!(!r||1!==r.length)||"object"==typeof e.blobs&&!!d(t,e.blobs[e.blobs.length-1])}function g(t,e){if(!a[e])return!1;if("string"==typeof t.blobs)return t.blobs.slice(-1)===e;var i=t.blobs[t.blobs.length-1];return!!i&&(i.strings.suffix.slice(-1)?i.strings.suffix.slice(-1)==e:g(i,e))}function b(t,e,i,s,n){var a="blobs"===e?t:t.strings,o="blobs"===s?i:i.strings,l=a[e].slice(-1),c=o[s].slice(0,1);function p(){o[s]=o[s].slice(1)}function m(){a[e]=a[e].slice(0,-1)}function h(t){o[s]=t+o[s]}function f(t){a[e]+=t}var d=n?function(){return r[l]}:function(){return u[c]};var g=n?function(){var t=r[l][c];"string"==typeof t?(m(),p(),h(t)):(h(l),m())}:function(){var t=u[c][l];"string"==typeof t?(m(),p(),f(t)):(f(c),p())};l===c?(n?m:p)():d()&&g()}function v(t){var e=t.strings.suffix.slice(0,1);if("string"==typeof t.blobs)for(;s[e];)b(t,"blobs",t,"suffix"),e=t.strings.suffix.slice(0,1);else for(;s[e];)b(t.blobs[t.blobs.length-1],"suffix",t,"suffix"),e=t.strings.suffix.slice(0,1)}function y(t){if("string"==typeof t.blobs)for(var e=t.blobs.slice(-1);n[e];)b(t,"blobs",t,"suffix",!0),e=t.blobs.slice(-1);else for(e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1);n[e];)b(t.blobs[t.blobs.length-1],"suffix",t,"suffix",!0),e=t.blobs[t.blobs.length-1].strings.suffix.slice(-1)}},t.exports=p,p.Engine.Opt=function(){this.has_disambiguate=!1,this.mode="html",this.dates={},this.jurisdictions_seen={},this.suppressedJurisdictions={},this.inheritedAttributes={},this["locale-sort"]=[],this["locale-translit"]=[],this["locale-translat"]=[],this.citeAffixes={persons:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},institutions:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},titles:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},journals:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},publishers:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}},places:{"locale-orig":{prefix:"",suffix:""},"locale-translit":{prefix:"",suffix:""},"locale-translat":{prefix:"",suffix:""}}},this["default-locale"]=[],this.update_mode=p.NONE,this.bib_mode=p.NONE,this.sort_citations=!1,this["et-al-min"]=0,this["et-al-use-first"]=1,this["et-al-use-last"]=!1,this["et-al-subsequent-min"]=!1,this["et-al-subsequent-use-first"]=!1,this["demote-non-dropping-particle"]="display-and-sort",this["parse-names"]=!0,this.citation_number_slug=!1,this.trigraph="Aaaa00:AaAa00:AaAA00:AAAA00",this.nodenames=[],this.gender={},this["cite-lang-prefs"]={persons:["orig"],institutions:["orig"],titles:["orig"],journals:["orig"],publishers:["orig"],places:["orig"],number:["orig"]},this.has_layout_locale=!1,this.development_extensions={},this.development_extensions.field_hack=!0,this.development_extensions.allow_field_hack_date_override=!0,this.development_extensions.locator_date_and_revision=!0,this.development_extensions.locator_parsing_for_plurals=!0,this.development_extensions.locator_label_parse=!0,this.development_extensions.raw_date_parsing=!0,this.development_extensions.clean_up_csl_flaws=!0,this.development_extensions.flip_parentheses_to_braces=!0,this.development_extensions.jurisdiction_subfield=!0,this.development_extensions.static_statute_locator=!1,this.development_extensions.csl_reverse_lookup_support=!1,this.development_extensions.clobber_locator_if_no_statute_section=!1,this.development_extensions.wrap_url_and_doi=!1,this.development_extensions.allow_force_lowercase=!1,this.development_extensions.handle_parallel_articles=!1,this.development_extensions.thin_non_breaking_space_html_hack=!1,this.development_extensions.apply_citation_wrapper=!1,this.development_extensions.main_title_from_short_title=!1,this.development_extensions.uppercase_subtitles=!1,this.development_extensions.normalize_lang_keys_to_lowercase=!1,this.development_extensions.strict_text_case_locales=!1,this.development_extensions.rtl_support=!1,this.development_extensions.expect_and_symbol_form=!1,this.development_extensions.require_explicit_legal_case_title_short=!1,this.development_extensions.spoof_institutional_affiliations=!1,this.development_extensions.force_jurisdiction=!1,this.development_extensions.parse_names=!0},p.Engine.Tmp=function(){this.names_max=new p.Stack,this.names_base=new p.Stack,this.givens_base=new p.Stack,this.value=[],this.namepart_decorations={},this.namepart_type=!1,this.area="citation",this.root="citation",this.extension="",this.can_substitute=new p.Stack(0,p.LITERAL),this.element_rendered_ok=!1,this.element_trace=new p.Stack("style"),this.nameset_counter=0,this.group_context=new p.Stack({term_intended:!1,variable_attempt:!1,variable_success:!1,output_tip:void 0,label_form:void 0,parallel_conditions:void 0,condition:!1,force_suppress:!1,done_vars:[]}),this.term_predecessor=!1,this.in_cite_predecessor=!1,this.jump=new p.Stack(0,p.LITERAL),this.decorations=new p.Stack,this.tokenstore_stack=new p.Stack,this.last_suffix_used="",this.last_names_used=[],this.last_years_used=[],this.years_used=[],this.names_used=[],this.taintedItemIDs={},this.taintedCitationIDs={},this.initialize_with=new p.Stack,this.disambig_request=!1,this["name-as-sort-order"]=!1,this.suppress_decorations=!1,this.disambig_settings=new p.AmbigConfig,this.bib_sort_keys=[],this.prefix=new p.Stack("",p.LITERAL),this.suffix=new p.Stack("",p.LITERAL),this.delimiter=new p.Stack("",p.LITERAL),this.cite_locales=[],this.cite_affixes={citation:!1,bibliography:!1,citation_sort:!1,bibliography_sort:!1},this.strip_periods=0,this.shadow_numbers={},this.authority_stop_last=0,this.loadedItemIDs={}},p.Engine.Fun=function(t){this.match=new p.Util.Match,this.suffixator=new p.Util.Suffixator(p.SUFFIX_CHARS),this.romanizer=new p.Util.Romanizer,this.ordinalizer=new p.Util.Ordinalizer(t),this.long_ordinalizer=new p.Util.LongOrdinalizer},p.Engine.Build=function(){this["alternate-term"]=!1,this.in_bibliography=!1,this.in_style=!1,this.skip=!1,this.postponed_macro=!1,this.layout_flag=!1,this.name=!1,this.form=!1,this.term=!1,this.macro={},this.macro_stack=[],this.text=!1,this.lang=!1,this.area="citation",this.root="citation",this.extension="",this.substitute_level=new p.Stack(0,p.LITERAL),this.names_level=0,this.render_nesting_level=0,this.render_seen=!1},p.Engine.Configure=function(){this.fail=[],this.succeed=[]},p.Engine.Citation=function(t){this.opt={inheritedAttributes:{}},this.tokens=[],this.srt=new p.Registry.Comparifier(t,"citation_sort"),this.opt.collapse=[],this.opt["disambiguate-add-names"]=!1,this.opt["disambiguate-add-givenname"]=!1,this.opt["disambiguate-add-year-suffix"]=!1,this.opt["givenname-disambiguation-rule"]="by-cite",this.opt["near-note-distance"]=5,this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="citation"},p.Engine.Bibliography=function(){this.opt={inheritedAttributes:{}},this.tokens=[],this.opt.collapse=[],this.opt.topdecor=[],this.opt.layout_decorations=[],this.opt.layout_prefix="",this.opt.layout_suffix="",this.opt.layout_delimiter="",this.opt["line-spacing"]=1,this.opt["entry-spacing"]=1,this.opt.sort_locales=[],this.opt.max_number_of_names=0,this.root="bibliography"},p.Engine.BibliographySort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="bibliography"},p.Engine.CitationSort=function(){this.tokens=[],this.opt={},this.opt.sort_directions=[],this.keys=[],this.opt.topdecor=[],this.root="citation"},t.exports=p,p.Engine.prototype.previewCitationCluster=function(t,e,i,r){var s=this.opt.mode;this.setOutputFormat(r);var n=this.processCitationCluster(t,e,i,p.PREVIEW);return this.setOutputFormat(s),n[1]},p.Engine.prototype.appendCitationCluster=function(t){for(var e=[],i=this.registry.citationreg.citationByIndex.length,r=0;r<i;r+=1){var s=this.registry.citationreg.citationByIndex[r];e.push([""+s.citationID,s.properties.noteIndex])}return this.processCitationCluster(t,e,[])[1]},p.Engine.prototype.processCitationCluster=function(t,e,i,r){var s,n,a,o,l,u,c,m,h,f,d,g;this.debug=!1,this.tmp.loadedItemIDs={},this.tmp.citation_errors=[];var b,v,y,_={bibchange:!1};if(this.setCitationId(t),r===p.PREVIEW){b=this.registry.citationreg.citationByIndex.slice(),v=this.registry.reflist.slice();for(var x=e.concat([[""+t.citationID,t.properties.noteIndex]]).concat(i),A={},E=[],O=0,w=x.length;O<w;O+=1)for(n=0,a=(s=this.registry.citationreg.citationById[x[O][0]]).citationItems.length;n<a;n+=1)A[s.citationItems[n].id]=!0,E.push(""+s.citationItems[n].id);y={};for(O=0,w=v.length;O<w;O+=1)if(!A[v[O].id]){var k=this.registry.registry[v[O].id].ambig,S=this.registry.ambigcites[k];if(S)for(n=0,a=S.length;n<a;n+=1)y[S[n]]=p.cloneAmbigConfig(this.registry.registry[S[n]].disambig)}}this.tmp.taintedCitationIDs={};var T=[],I={};for(O=0,w=t.citationItems.length;O<w;O+=1){for(var j in h={},t.citationItems[O])h[j]=t.citationItems[O][j];var N;if((m=this.retrieveItem(""+h.id)).id&&this.transform.loadAbbreviation("default","hereinafter",m.id),h=p.parseLocator.call(this,h),this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable([[m,h]]),this.opt.development_extensions.locator_label_parse)if(h.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(m.type)&&(!h.label||"page"===h.label))if(N=p.LOCATOR_LABELS_REGEXP.exec(h.locator)){var C=p.LOCATOR_LABELS_MAP[N[2]];this.getTerm(C)&&(h.label=C,h.locator=N[3])}var D=[m,h];T.push(D),t.citationItems[O].item=m}t.sortedItems=T;var P=[];for(O=0,w=e.length;O<w;O+=1){s=e[O];try{this.registry.citationreg.citationById[s[0]].properties.noteIndex=s[1]}catch(t){var R="CSL error\n";throw R+="  "+t+"\n",R+="  citationID="+s[0]+"\n",R+="  noteIndex="+s[1]+"\n",R+="  atarray citationsPre index "+O+", from citation at document position "+e.length}P.push(this.registry.citationreg.citationById[s[0]])}P.push(t);for(O=0,w=i.length;O<w;O+=1){s=i[O];try{this.registry.citationreg.citationById[s[0]].properties.noteIndex=s[1]}catch(t){R="CSL error\n";throw R+="  "+t+"\n",R+="  citationID="+s[0]+"\n",R+="  noteIndex="+s[1]+"\n",R+="  at array citationsPost index "+O+", from citation at document position "+e.length}P.push(this.registry.citationreg.citationById[s[0]])}this.registry.citationreg.citationByIndex=P,this.registry.citationreg.citationsByItemId={},this.opt.update_mode===p.POSITION&&(d=[],f=[],g={});var L,B=[];for(O=0,w=P.length;O<w;O+=1){for(P[O].properties||(P[O].properties={}),P[O].properties.index=O,n=0,a=P[O].sortedItems.length;n<a;n+=1)h=P[O].sortedItems[n],this.registry.citationreg.citationsByItemId[h[1].id]||(this.registry.citationreg.citationsByItemId[h[1].id]=[],B.push(""+h[1].id)),-1===this.registry.citationreg.citationsByItemId[h[1].id].indexOf(P[O])&&this.registry.citationreg.citationsByItemId[h[1].id].push(P[O]);this.opt.update_mode===p.POSITION&&(P[O].properties.noteIndex?f.push(P[O]):(P[O].properties.noteIndex=0,d.push(P[O])))}if(r!==p.ASSUME_ALL_ITEMS_REGISTERED&&this.updateItems(B,null,null,!0),!this.opt.citation_number_sort&&T&&T.length>1&&this.citation_sort.tokens.length>0){for(O=0,w=T.length;O<w;O+=1)T[O][1].sortkeys=p.getSortKeys.call(this,T[O][0],"citation_sort");if(this.opt.grouped_sort&&!t.properties.unsorted){for(O=0,w=T.length;O<w;O+=1){var F=T[O][1].sortkeys;this.tmp.authorstring_request=!0;var M=this.registry.registry[T[O][0].id].disambig;this.tmp.authorstring_request=!0,p.getAmbiguousCite.call(this,T[O][0],M);var U=this.registry.authorstrings[T[O][0].id];this.tmp.authorstring_request=!1,T[O][1].sortkeys=[U].concat(F)}T.sort(this.citation.srt.compareCompositeKeys);var z=!1,q=!1,$=!1;for(O=0,w=T.length;O<w;O+=1)T[O][1].sortkeys[0]!==z&&($=T[O][1].sortkeys[0],q=T[O][1].sortkeys[1]),T[O][1].sortkeys[0]=""+q+O,z=$}t.properties.unsorted||T.sort(this.citation.srt.compareCompositeKeys)}if(this.opt.update_mode===p.POSITION)for(O=0;O<2;O+=1){var V={},X={};for(n=0,a=(L=[d,f][O]).length;n<a;n+=1){var G=L[n];for(L[n].properties.noteIndex||(L[n].properties.noteIndex=0),L[n].properties.noteIndex=parseInt(L[n].properties.noteIndex,10),n>0&&L[n-1].properties.noteIndex>L[n].properties.noteIndex&&(g={},V={},X={}),o=0,l=G.sortedItems.length;o<l;o+=1)this.registry.registry[G.sortedItems[o][1].id].parallel||(g[G.properties.noteIndex]?g[G.properties.noteIndex]+=1:g[G.properties.noteIndex]=1);for(o=0,l=L[n].sortedItems.length;o<l;o+=1){var Q,H=(h=L[n].sortedItems[o])[0].id,W=h[1].locator,J=h[1].label;if(h[0].legislation_id&&(H=h[0].legislation_id),o>0&&(Q=G.sortedItems[o-1][0].legislation_id?G.sortedItems[o-1][0].legislation_id:G.sortedItems[o-1][1].id),r!==p.PREVIEW||G.citationID==t.citationID){var K,Z={};if(Z.position=h[1].position,Z["first-reference-note-number"]=h[1]["first-reference-note-number"],Z["near-note"]=h[1]["near-note"],h[1]["first-reference-note-number"]=0,h[1]["near-note"]=!1,this.registry.citationreg.citationsByItemId[H]&&"note"===this.opt.xclass&&this.opt.has_disambiguate){var Y=this.registry.registry[H]["citation-count"],tt=this.registry.citationreg.citationsByItemId[H].length;if(this.registry.registry[H]["citation-count"]=this.registry.citationreg.citationsByItemId[H].length,"number"==typeof Y){if(Y<2!==tt<2)for(var et=0,it=this.registry.citationreg.citationsByItemId[H].length;et<it;et++)I[this.registry.registry[H].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[H][et].citationID]=!0}else for(et=0,it=this.registry.citationreg.citationsByItemId[H].length;et<it;et++)I[this.registry.registry[H].ambig]=!0,this.tmp.taintedCitationIDs[this.registry.citationreg.citationsByItemId[H][et].citationID]=!0}if(void 0===V[H])V[H]=G.properties.noteIndex,this.registry.registry[H]&&(this.registry.registry[H]["first-reference-note-number"]=G.properties.noteIndex),X[H]=G.properties.noteIndex,h[1].position=p.POSITION_FIRST;else{var rt,st,nt,at,ot=!1,lt=!1;if(n>0){try{K=L[n-1].sortedItems.slice(-1)[0][1].id}catch(t){R="CSL Error\n";throw R+="  "+t,R+="  in citation object "+L[n-1].citationID+" at index "+(n-1)}L[n-1].sortedItems[0].slice(-1)[0].legislation_id&&(K=L[n-1].sortedItems[0].slice(-1)[0].legislation_id)}if(n>0&&0===parseInt(o,10)&&L[n-1].properties.noteIndex!==L[n].properties.noteIndex){var ut=L[n-1].sortedItems,ct=!1,pt=L[n-1].sortedItems[0][0].id;for(L[n-1].sortedItems[0][0].legislation_id&&(pt=L[n-1].sortedItems[0][0].legislation_id),(pt==H&&L[n-1].properties.noteIndex>=L[n].properties.noteIndex-1||L[n-1].sortedItems[0][1].id==this.registry.registry[h[1].id].parallel)&&(1!==g[L[n-1].properties.noteIndex]&&0!==L[n-1].properties.noteIndex||(ct=!0)),u=0,c=ut.slice(1).length;u<c;u+=1){var mt=ut.slice(1)[u];this.registry.registry[mt[1].id].parallel&&this.registry.registry[mt[1].id].parallel!=this.registry.registry[mt[1].id]||(ct=!1)}ct?ot=!0:lt=!0}else o>0&&Q==H?ot=!0:0===o&&L[n-1].properties.noteIndex==L[n].properties.noteIndex&&L[n-1].sortedItems.length&&K==H?ot=!0:lt=!0;if(ot&&((rt=o>0?G.sortedItems[o-1][1]:L[n-1].sortedItems[0][1]).locator?(nt=rt.label?rt.label:"",st=""+rt.locator+nt):st=rt.locator,at=W?""+W+(J||""):W),ot&&st&&!at&&(ot=!1,lt=!0),ot&&(!st&&at?h[1].position=p.POSITION_IBID_WITH_LOCATOR:st||at?st&&at===st?h[1].position=p.POSITION_IBID:st&&at&&at!==st?h[1].position=p.POSITION_IBID_WITH_LOCATOR:(ot=!1,lt=!0):h[1].position=p.POSITION_IBID),lt&&(h[1].position=p.POSITION_SUBSEQUENT),(lt||ot)&&V[H]!=G.properties.noteIndex&&(h[1]["first-reference-note-number"]=V[H],this.registry.registry[H])){var ht=this.registry.citationreg.citationsByItemId[H][0].properties.noteIndex,ft=G.properties.noteIndex;this.registry.registry[H]["first-reference-note-number"]=ft<ht?ft:ht}}if(G.properties.noteIndex){var dt=parseInt(G.properties.noteIndex,10)-parseInt(X[H],10);h[1].position!==p.POSITION_FIRST&&dt<=this.citation.opt["near-note-distance"]&&(h[1]["near-note"]=!0),X[H]=G.properties.noteIndex}if(G.citationID!=t.citationID)for(u=0,c=p.POSITION_TEST_VARS.length;u<c;u+=1){var gt=p.POSITION_TEST_VARS[u];h[1][gt]!==Z[gt]&&(this.registry.registry[H]&&"first-reference-note-number"===gt&&(I[this.registry.registry[H].ambig]=!0,this.tmp.taintedItemIDs[H]=!0),this.tmp.taintedCitationIDs[G.citationID]=!0)}this.sys.variableWrapper&&(h[1].index=G.properties.index,h[1].noteIndex=G.properties.noteIndex)}else void 0===V[h[1].id]?(V[H]=G.properties.noteIndex,X[H]=G.properties.noteIndex):X[H]=G.properties.noteIndex}}}if(this.opt.citation_number_sort&&T&&T.length>1&&this.citation_sort.tokens.length>0&&!t.properties.unsorted){for(O=0,w=T.length;O<w;O+=1)T[O][1].sortkeys=p.getSortKeys.call(this,T[O][0],"citation_sort");T.sort(this.citation.srt.compareCompositeKeys)}for(var j in this.tmp.taintedItemIDs)if(this.tmp.taintedItemIDs.hasOwnProperty(j)&&(L=this.registry.citationreg.citationsByItemId[j]))for(O=0,w=L.length;O<w;O+=1)this.tmp.taintedCitationIDs[L[O].citationID]=!0;var bt=[];if(r===p.PREVIEW){try{bt=this.process_CitationCluster.call(this,t.sortedItems,t.citationID)}catch(t){p.error("Error running CSL processor for preview: "+t)}this.registry.citationreg.citationByIndex=b,this.registry.citationreg.citationById={};for(O=0,w=b.length;O<w;O+=1)this.registry.citationreg.citationById[b[O].citationID]=b[O];var vt=[];for(O=0,w=v.length;O<w;O+=1)vt.push(""+v[O].id);for(var j in this.updateItems(vt,null,null,!0),y)y.hasOwnProperty(j)&&(this.registry.registry[j].disambig=y[j])}else{for(var yt in I)this.disambiguate.run(yt,t);var _t;for(var j in this.tmp.taintedCitationIDs)if(j!=t.citationID){var xt=this.registry.citationreg.citationById[j];if(!xt.properties.unsorted){for(O=0,w=xt.sortedItems.length;O<w;O+=1)xt.sortedItems[O][1].sortkeys=p.getSortKeys.call(this,xt.sortedItems[O][0],"citation_sort");xt.sortedItems.sort(this.citation.srt.compareCompositeKeys)}this.tmp.citation_pos=xt.properties.index,this.tmp.citation_note_index=xt.properties.noteIndex,this.tmp.citation_id=""+xt.citationID,(_t=[]).push(xt.properties.index),_t.push(this.process_CitationCluster.call(this,xt.sortedItems,xt.citationID)),_t.push(xt.citationID),bt.push(_t)}this.tmp.taintedItemIDs={},this.tmp.taintedCitationIDs={},this.tmp.citation_pos=t.properties.index,this.tmp.citation_note_index=t.properties.noteIndex,this.tmp.citation_id=""+t.citationID,(_t=[]).push(e.length),_t.push(this.process_CitationCluster.call(this,T,t.citationID)),_t.push(t.citationID),bt.push(_t),bt.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:0})}return _.citation_errors=this.tmp.citation_errors.slice(),[_,bt]},p.Engine.prototype.process_CitationCluster=function(t,e){return this.parallel.StartCitation(t),p.getCitationCluster.call(this,t,e)},p.Engine.prototype.makeCitationCluster=function(t){var e,i,r,s,n,a;for(e=[],s=t.length,r=0;r<s;r+=1){for(var o in n={},t[r])n[o]=t[r][o];if(a=this.retrieveItem(""+n.id),this.opt.development_extensions.locator_label_parse&&n.locator&&-1===["bill","gazette","legislation","regulation","treaty"].indexOf(a.type)&&(!n.label||"page"===n.label)){var l=p.LOCATOR_LABELS_REGEXP.exec(n.locator);if(l){var u=p.LOCATOR_LABELS_MAP[l[2]];this.getTerm(u)&&(n.label=u,n.locator=l[3])}}n.locator&&(n.locator=(""+n.locator).replace(/\s+$/,"")),i=[a,n],e.push(i)}if(this.opt.development_extensions.static_statute_locator&&this.remapSectionVariable(e),e&&e.length>1&&this.citation_sort.tokens.length>0){for(s=e.length,r=0;r<s;r+=1)e[r][1].sortkeys=p.getSortKeys.call(this,e[r][0],"citation_sort");e.sort(this.citation.srt.compareCompositeKeys)}return this.tmp.citation_errors=[],this.parallel.StartCitation(e),p.getCitationCluster.call(this,e)},p.getAmbiguousCite=function(t,e,i,r){var s=this.tmp.group_context.tip,n={term_intended:s.term_intended,variable_attempt:s.variable_attempt,variable_success:s.variable_success,output_tip:s.output_tip,label_form:s.label_form,parallel_conditions:s.parallel_conditions,condition:s.condition,force_suppress:s.force_suppress,done_vars:s.done_vars.slice()};this.tmp.disambig_request=e||!1;var a={position:1,"near-note":!0};r&&(a.locator=r.locator,a.label=r.label),this.registry.registry[t.id]&&this.registry.citationreg.citationsByItemId&&this.registry.citationreg.citationsByItemId[t.id]&&this.registry.citationreg.citationsByItemId[t.id].length&&i&&"by-cite"===this.citation.opt["givenname-disambiguation-rule"]&&(a["first-reference-note-number"]=this.registry.registry[t.id]["first-reference-note-number"]),this.tmp.area="citation",this.tmp.root="citation",this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null,this.tmp.suppress_decorations=!0,this.tmp.just_looking=!0,p.getCite.call(this,t,a,null,!1);for(var o=0,l=this.output.queue.length;o<l;o+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[o]);if(this.opt.development_extensions.clean_up_csl_flaws)for(var u=0,c=this.output.queue.length;u<c;u+=1)this.output.adjust.upward(this.output.queue[u]),this.output.adjust.leftward(this.output.queue[u]),this.output.adjust.downward(this.output.queue[u]),this.output.adjust.fix(this.output.queue[u]);var m=this.output.string(this,this.output.queue);return this.tmp.just_looking=!1,this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.group_context.replace(n),m},p.getSpliceDelimiter=function(t,e,i){if(void 0!==this.citation.opt["after-collapse-delimiter"])t?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:e&&!this.tmp.have_collapsed?this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"]:e||this.tmp.have_collapsed||"year-suffix"===this.citation.opt.collapse?this.tmp.splice_delimiter=this.citation.opt.layout_delimiter:this.tmp.splice_delimiter=this.citation.opt["after-collapse-delimiter"];else if(this.tmp.use_cite_group_delimiter)this.tmp.splice_delimiter=this.citation.opt.cite_group_delimiter;else if(this.tmp.have_collapsed&&"in-text"===this.opt.xclass&&this.opt.update_mode!==p.NUMERIC)this.tmp.splice_delimiter=", ";else if(this.tmp.cite_locales[i-1]){var r=this.tmp.cite_affixes[this.tmp.area][this.tmp.cite_locales[i-1]];r&&r.delimiter&&(this.tmp.splice_delimiter=r.delimiter)}else this.tmp.splice_delimiter||(this.tmp.splice_delimiter="");return this.tmp.splice_delimiter},p.getCitationCluster=function(t,e){var i,r,s,n,a,o,l,u,c,m,h,f,d,g,b,v,y,_;t=t||[],this.tmp.last_primary_names_string=!1,y=p.getSafeEscape(this),this.tmp.area="citation",this.tmp.root="citation",i="",r=[],this.tmp.last_suffix_used="",this.tmp.last_names_used=[],this.tmp.last_years_used=[],this.tmp.backref_index=[],this.tmp.cite_locales=[],this.output.checkNestedBrace=new p.checkNestedBrace(this);var x=this.output.checkNestedBrace.update(this.citation.opt.layout_prefix),A=!1;if("note"===this.opt.xclass&&this.citation.opt.suppressTrailingPunctuation&&(A=!0),e&&this.registry.citationreg.citationById[e].properties["suppress-trailing-punctuation"]&&(A=!0),"note"===this.opt.xclass){for(var E=[],O=!1,w=!1,k=[],S=0,T=t.length;S<T;S+=1){var I=t[S][0].type,j=t[S][0].title,N=t[S][1].position,C=t[S][0].id;j&&"legal_case"===I&&C!==w&&N&&(j===O&&0!==E.length||(k=[],E.push(k)),k.push(t[S][1])),O=j,N,w=C}for(S=0,T=E.length;S<T;S+=1)if(!((k=E[S]).length<2)){var D=k.slice(-1)[0].locator;if(D)for(var P=0,R=k.length-1;P<R;P+=1)k[P].locator&&(D=!1);D&&(k[0].locator=D,delete k.slice(-1)[0].locator,k[0].label=k.slice(-1)[0].label,k.slice(-1)[0].label&&delete k.slice(-1)[0].label)}}for(s=[],n=t.length,a=0;a<n;a+=1){f=t[a][0],o=t[a][1],o=p.parseLocator.call(this,o),l=this.tmp.have_collapsed;var L=!1;if(a>0&&t[a-1][1]&&(L=!!t[a-1][1].locator),u={},this.tmp.shadow_numbers={},!this.tmp.just_looking&&this.opt.hasPlaceholderTerm){var B=this.output;this.output=new p.Output.Queue(this),this.output.adjust=new p.Output.Queue.adjust,p.getAmbiguousCite.call(this,f,null,!1,o),this.output=B}if(this.tmp.in_cite_predecessor=!1,a>0?p.getCite.call(this,f,o,""+t[a-1][0].id,!0):(this.tmp.term_predecessor=!1,p.getCite.call(this,f,o,null,!0)),this.tmp.cite_renders_content||(_={citationID:""+this.tmp.citation_id,index:this.tmp.citation_pos,noteIndex:this.tmp.citation_note_index,itemID:""+f.id,citationItems_pos:a,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.citation_errors.push(_)),a===t.length-1&&this.parallel.ComposeSet(),u.splice_delimiter=p.getSpliceDelimiter.call(this,L,l,a),o&&o["author-only"]&&(this.tmp.suppress_decorations=!0),a>0){var F=(v=t[a-1][1]).suffix&&[".",","].indexOf(v.suffix.slice(-1))>-1,M=!v.suffix&&o.prefix&&[".",","].indexOf(o.prefix.slice(0,1))>-1;if(F||M){var U=u.splice_delimiter.indexOf(" ");u.splice_delimiter=U>-1&&!M?u.splice_delimiter.slice(U):""}}u.suppress_decorations=this.tmp.suppress_decorations,u.have_collapsed=this.tmp.have_collapsed,s.push(u)}this.tmp.has_purged_parallel=!1,this.parallel.PruneOutputQueue(this),h=this.output.queue.slice();this.citation.opt.layout_suffix,this.citation.opt.layout_delimiter;var z=this.citation.opt.layout_suffix,q=this.tmp.cite_locales[this.tmp.cite_locales.length-1];q&&this.tmp.cite_affixes[this.tmp.area][q]&&this.tmp.cite_affixes[this.tmp.area][q].suffix&&(z=this.tmp.cite_affixes[this.tmp.area][q].suffix),p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(z.slice(0,1))>-1&&(z=z.slice(0,1));var $=this.citation.opt.layout_delimiter;$||($=""),p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf($.slice(0,1))>-1&&($=$.slice(0,1)),z=this.output.checkNestedBrace.update(z);for(S=0,T=this.output.queue.length;S<T;S+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[S]);if(!this.tmp.suppress_decorations&&this.output.queue.length&&(this.opt.development_extensions.apply_citation_wrapper&&this.sys.wrapCitationEntry&&!this.tmp.just_looking&&"citation"===this.tmp.area||(A||(this.output.queue[this.output.queue.length-1].strings.suffix=z),this.output.queue[0].strings.prefix=x)),this.opt.development_extensions.clean_up_csl_flaws)for(P=0,R=this.output.queue.length;P<R;P+=1)this.output.adjust.upward(this.output.queue[P]),this.output.adjust.leftward(this.output.queue[P]),this.output.adjust.downward(this.output.queue[P]),this.tmp.last_chr=this.output.adjust.fix(this.output.queue[P]);for(a=0,n=h.length;a<n;a+=1){var V=[];if(this.output.queue=[h[a]],this.tmp.suppress_decorations=s[a].suppress_decorations,this.tmp.splice_delimiter=s[a].splice_delimiter,h[a].parallel_delimiter&&(this.tmp.splice_delimiter=h[a].parallel_delimiter),this.tmp.have_collapsed=s[a].have_collapsed,c=this.output.string(this,this.output.queue),this.tmp.suppress_decorations=!1,"string"==typeof c)return this.tmp.suppress_decorations=!1,c;if("object"==typeof c&&0===c.length&&!o["suppress-author"])if(this.tmp.has_purged_parallel)c.push("");else{var X=0===a?y(this.citation.opt.layout_prefix):"",G=a===h.length-1?y(this.citation.opt.layout_suffix):"";c.push(X+"[CSL STYLE ERROR: reference with no printed form.]"+G)}if(V.length&&"string"==typeof c[0]){c.reverse();var Q=c.pop();Q&&","===Q.slice(0,1)?V.push(Q):"string"==typeof V.slice(-1)[0]&&","===V.slice(-1)[0].slice(-1)?V.push(" "+Q):Q&&V.push(y(this.tmp.splice_delimiter)+Q)}else c.reverse(),void 0!==(m=c.pop())&&(V.length&&"string"==typeof V[V.length-1]&&(V[V.length-1]+=m.successor_prefix),V.push(m));for(d=c.length,g=0;g<d;g+=1)"string"!=typeof(b=c[g])?void 0!==(m=c.pop())&&V.push(m):V.push(y(this.tmp.splice_delimiter)+b);0!==V.length||t[a][1]["suppress-author"]||1,V.length>1&&"string"!=typeof V[0]&&(V=[this.output.renderBlobs(V)]),V.length&&("string"==typeof V[0]?a>0&&(V[0]=y(this.tmp.splice_delimiter)+V[0]):V[0].splice_prefix=a>0?this.tmp.splice_delimiter:""),r=r.concat(V)}if((i+=this.output.renderBlobs(r))&&!this.tmp.suppress_decorations)for(n=this.citation.opt.layout_decorations.length,a=0;a<n;a+=1)"normal"!==(u=this.citation.opt.layout_decorations[a])[1]&&(o&&o["author-only"]||(i=this.fun.decorate[u[0]][u[1]](this,i)));return this.tmp.suppress_decorations=!1,i},p.getCite=function(t,e,i,r){var s,n;for(this.tmp.cite_renders_content=!1,this.parallel.StartCite(t,e,i),p.citeStart.call(this,t,e,r),s=0,this.tmp.name_node={},this.nameOutput=new p.NameOutput(this,t,e);s<this[this.tmp.area].tokens.length;)s=p.tokenExec.call(this,this[this.tmp.area].tokens[s],t,e);return p.citeEnd.call(this,t,e),this.parallel.CloseCite(this),this.tmp.cite_renders_content||this.tmp.just_looking||"bibliography"===this.tmp.area&&(n={index:this.tmp.bibliography_pos,itemID:""+t.id,error_code:p.ERROR_NO_RENDERED_FORM},this.tmp.bibliography_errors.push(n)),""+t.id},p.citeStart=function(t,e,i){if(i||(this.tmp.shadow_numbers={}),this.tmp.disambiguate_count=0,this.tmp.disambiguate_maxMax=0,this.tmp.same_author_as_previous_cite=!1,this.tmp.suppress_decorations?this.tmp.subsequent_author_substitute_ok=!1:this.tmp.subsequent_author_substitute_ok=!0,this.tmp.lastchr="","citation"===this.tmp.area&&this.citation.opt.collapse&&this.citation.opt.collapse.length?this.tmp.have_collapsed=!0:this.tmp.have_collapsed=!1,this.tmp.render_seen=!1,this.tmp.disambig_request&&!this.tmp.disambig_override?this.tmp.disambig_settings=this.tmp.disambig_request:this.registry.registry[t.id]&&!this.tmp.disambig_override?(this.tmp.disambig_request=this.registry.registry[t.id].disambig,this.tmp.disambig_settings=this.registry.registry[t.id].disambig):this.tmp.disambig_settings=new p.AmbigConfig,"citation"!==this.tmp.area)if(this.registry.registry[t.id]){if(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[t.id].disambig),"bibliography"===this.tmp.area&&this.tmp.disambig_settings&&this.tmp.disambig_override&&(this.opt["disambiguate-add-names"]&&(this.tmp.disambig_settings.names=this.registry.registry[t.id].disambig.names.slice(),this.tmp.disambig_request&&(this.tmp.disambig_request.names=this.registry.registry[t.id].disambig.names.slice())),this.opt["disambiguate-add-givenname"])){this.tmp.disambig_request=this.tmp.disambig_settings,this.tmp.disambig_settings.givens=this.registry.registry[t.id].disambig.givens.slice(),this.tmp.disambig_request.givens=this.registry.registry[t.id].disambig.givens.slice();for(var r=0,s=this.tmp.disambig_settings.givens.length;r<s;r+=1)this.tmp.disambig_settings.givens[r]=this.registry.registry[t.id].disambig.givens[r].slice();for(r=0,s=this.tmp.disambig_request.givens.length;r<s;r+=1)this.tmp.disambig_request.givens[r]=this.registry.registry[t.id].disambig.givens[r].slice()}}else this.tmp.disambig_restore=new p.AmbigConfig;this.tmp.names_used=[],this.tmp.nameset_counter=0,this.tmp.years_used=[],this.tmp.names_max.clear(),this.tmp.splice_delimiter=this[this.tmp.area].opt.layout_delimiter,this.bibliography_sort.keys=[],this.citation_sort.keys=[],this.tmp.has_done_year_suffix=!1,this.tmp.last_cite_locale=!1,!this.tmp.just_looking&&e&&!e.position&&this.registry.registry[t.id]&&(this.tmp.disambig_restore=p.cloneAmbigConfig(this.registry.registry[t.id].disambig)),this.tmp.first_name_string=!1,this.tmp.authority_stop_last=0},p.citeEnd=function(t,e){if(this.tmp.disambig_restore&&this.registry.registry[t.id]){this.registry.registry[t.id].disambig.names=this.tmp.disambig_restore.names.slice(),this.registry.registry[t.id].disambig.givens=this.tmp.disambig_restore.givens.slice();for(var i=0,r=this.registry.registry[t.id].disambig.givens.length;i<r;i+=1)this.registry.registry[t.id].disambig.givens[i]=this.tmp.disambig_restore.givens[i].slice()}if(this.tmp.disambig_restore=!1,e&&e.suffix?this.tmp.last_suffix_used=e.suffix:this.tmp.last_suffix_used="",this.tmp.last_years_used=this.tmp.years_used.slice(),this.tmp.last_names_used=this.tmp.names_used.slice(),this.tmp.cut_var=!1,this.tmp.disambig_request=!1,this.tmp.cite_locales.push(this.tmp.last_cite_locale),this.tmp.issued_date&&this.tmp.renders_collection_number){var s=[];for(i=this.tmp.issued_date.list.length-1;i>this.tmp.issued_date.pos;i+=-1)s.push(this.tmp.issued_date.list.pop());for(this.tmp.issued_date.list.pop(),i=s.length-1;i>-1;i+=-1)this.tmp.issued_date.list.push(s.pop());this.parallel.use_parallels&&(this.parallel.cite.issued=!1)}this.tmp.issued_date=!1,this.tmp.renders_collection_number=!1},t.exports=p,p.Engine.prototype.makeBibliography=function(t){var e,i,r,s,n,a,o;if(!1,!this.bibliography.tokens.length)return!1;"string"==typeof t&&(this.opt.citation_number_slug=t,t=!1),a=(e=p.getBibliographyEntries.call(this,t))[0],o=e[1];var l=e[2];for(i={maxoffset:0,entryspacing:this.bibliography.opt["entry-spacing"],linespacing:this.bibliography.opt["line-spacing"],"second-field-align":!1,entry_ids:a,bibliography_errors:this.tmp.bibliography_errors.slice(),done:l},this.bibliography.opt["second-field-align"]&&(i["second-field-align"]=this.bibliography.opt["second-field-align"]),0,s=this.registry.reflist.length,n=0;n<s;n+=1)(r=this.registry.reflist[n]).offset>i.maxoffset&&(i.maxoffset=r.offset);return this.bibliography.opt.hangingindent&&(i.hangingindent=this.bibliography.opt.hangingindent),i.bibstart=this.fun.decorate.bibstart,i.bibend=this.fun.decorate.bibend,this.opt.citation_number_slug=!1,[i,o]},p.getBibliographyEntries=function(t){var e,i,r,s,n,a,o,l,u,c,m,h,f,d,g,b,v,y;function _(t,e){return t===e}function x(t,e){return!("none"!==t&&t||e)||("string"==typeof e?_(t,e):!!e&&function(t,e){for(u=e.length,c=0;c<u;c+=1)if(_(t,e[c]))return!0;return!1}(t,e))}if(e=[],v=[],this.tmp.area="bibliography",this.tmp.root="bibliography",this.tmp.last_rendered_name=!1,this.tmp.bibliography_errors=[],this.tmp.bibliography_pos=0,i=t&&t.page_start&&t.page_length?this.registry.getSortedIds():this.retrieveItems(this.registry.getSortedIds()),this.tmp.disambig_override=!0,d={},t&&t.page_start&&t.page_length&&(y=0,!0!==t.page_start))for(var A=0,E=i.length;A<E&&(d[i[A]]=!0,t.page_start!=i[A]);A+=1);var O=[];for(A=0,E=i.length;A<E;A+=1){if(t&&t.page_start&&t.page_length){if(d[i[A]])continue;if(o=this.retrieveItem(i[A]),y===t.page_length)break}else if(d[(o=i[A]).id])continue;if(t){if(r=!0,t.include){for(r=!1,k=0,S=t.include.length;k<S;k+=1)if(x((l=t.include[k]).value,o[l.field])){r=!0;break}}else if(t.exclude){for(s=!1,k=0,S=t.exclude.length;k<S;k+=1)if(x((l=t.exclude[k]).value,o[l.field])){s=!0;break}s&&(r=!1)}else if(t.select){for(r=!1,n=!0,k=0,S=t.select.length;k<S;k+=1)x((l=t.select[k]).value,o[l.field])||(n=!1);n&&(r=!0)}if(t.quash){for(n=!0,k=0,S=t.quash.length;k<S;k+=1)x((l=t.quash[k]).value,o[l.field])||(n=!1);n&&(r=!1)}if(!r)continue}if((a=new p.Token("group",p.START)).decorations=[["@bibliography","entry"]].concat(this.bibliography.opt.layout_decorations),this.output.startTag("bib_entry",a),o.system_id&&this.sys.embedBibliographyEntry?this.output.current.value().item_id=o.system_id:this.output.current.value().system_id=o.id,g=[[{id:""+o.id},o]],h=[],!this.registry.registry[o.id].master||t&&t.page_start&&t.page_length)this.registry.registry[o.id].siblings||(this.parallel.StartCitation(g),this.tmp.term_predecessor=!1,h.push(""+p.getCite.call(this,o)),t&&t.page_start&&t.page_length&&(y+=1));else{for(f=!0,this.parallel.StartCitation(g),this.output.queue[0].strings.delimiter=", ",this.tmp.term_predecessor=!1,h.push(""+p.getCite.call(this,o)),d[o.id]=!0,k=0,S=this.registry.registry[o.id].siblings.length;k<S;k+=1){var w=this.registry.registry[o.id].siblings[k];b=this.retrieveItem(w),h.push(""+p.getCite.call(this,b)),d[b.id]=!0}this.parallel.ComposeSet(),this.parallel.PruneOutputQueue()}v.push(""),this.tmp.bibliography_pos+=1,O.push(h),this.output.endTag("bib_entry"),this.output.queue[0].blobs.length&&this.output.queue[0].blobs[0].blobs.length&&(f||!this.output.queue[0].blobs[0].blobs[0].strings?(m=this.output.queue[0].blobs,f=!1):m=this.output.queue[0].blobs[0].blobs,m[0].strings.prefix=this.bibliography.opt.layout_prefix+m[0].strings.prefix);for(var k=0,S=this.output.queue.length;k<S;k+=1)p.Output.Queue.purgeEmptyBlobs(this.output.queue[k]);for(k=0,S=this.output.queue.length;k<S;k+=1)this.output.adjust.upward(this.output.queue[k]),this.output.adjust.leftward(this.output.queue[k]),this.output.adjust.downward(this.output.queue[k],!0),this.output.adjust.fix(this.output.queue[k]);var T;if(!(T=this.output.string(this,this.output.queue)[0])&&this.opt.update_mode===p.NUMERIC){var I=e.length+1+". [CSL STYLE ERROR: reference with no printed form.]";T=p.Output.Formats[this.opt.mode]["@bibliography/entry"](this,I)}T&&e.push(T)}var j=!1;if(t&&t.page_start&&t.page_length){var N=i.slice(-1)[0],C=O.slice(-1)[0];N&&C&&N!=C||(j=!0)}return this.tmp.disambig_override=!1,[O,e,j]},t.exports=p,p.Engine.prototype.setCitationId=function(t,e){var i,r,s;if(i=!1,!t.citationID||e){for(r=Math.floor(1e14*Math.random());;){if(s=0,!this.registry.citationreg.citationById[r]){t.citationID="a"+r.toString(32);break}r+=1===(s=!s&&r<5e13?1:-1)?1:-1}i=""+r}return this.registry.citationreg.citationById[t.citationID]=t,i},t.exports=p,p.Engine.prototype.rebuildProcessorState=function(t,e,i){t||(t=[]),e||(e="html");for(var r={},s=[],n=0,a=t.length;n<a;n+=1)for(var o=0,l=t[n].citationItems.length;o<l;o+=1){var u=""+t[n].citationItems[o].id;r[u]||s.push(u),r[u]=!0}this.updateItems(s);var c=[],m=[],h=[],f=this.opt.mode;this.setOutputFormat(e);for(n=0,a=t.length;n<a;n+=1){var d=this.processCitationCluster(t[n],c,m,p.ASSUME_ALL_ITEMS_REGISTERED);c.push([t[n].citationID,t[n].properties.noteIndex]);for(o=0,l=d[1].length;o<l;o+=1){var g=d[1][o][0];h[g]=[c[g][0],c[g][1],d[1][o][1]]}}return this.updateUncitedItems(i),this.setOutputFormat(f),h},p.Engine.prototype.restoreProcessorState=function(t){var e,i,r,s,n,a,o,l,u,c;l=[],u=[],t||(t=[]);var m=[],h={};for(e=0,i=t.length;e<i;e+=1)h[t[e].citationID]&&this.setCitationId(t[e],!0),h[t[e].citationID]=!0,m.push(t[e].properties.index);var f=t.slice();for(f.sort(function(t,e){return t.properties.index<e.properties.index?-1:t.properties.index>e.properties.index?1:0}),e=0,i=f.length;e<i;e+=1)f[e].properties.index=e;for(e=0,i=f.length;e<i;e+=1){for(c=[],r=0,s=f[e].citationItems.length;r<s;r+=1)void 0===(n=f[e].citationItems[r]).sortkeys&&(n.sortkeys=[]),o=[a=this.retrieveItem(""+n.id),n],c.push(o),f[e].citationItems[r].item=a,u.push(""+n.id);f[e].properties.unsorted||c.sort(this.citation.srt.compareCompositeKeys),f[e].sortedItems=c,this.registry.citationreg.citationById[f[e].citationID]=f[e]}for(this.updateItems(u),e=0,i=t.length;e<i;e+=1)l.push([""+t[e].citationID,t[e].properties.noteIndex]);var d=[];return t&&t.length?d=this.processCitationCluster(t[0],[],l.slice(1)):(this.registry=new p.Registry(this),this.tmp=new p.Engine.Tmp,this.disambiguate=new p.Disambiguation(this)),d},p.Engine.prototype.updateItems=function(t,e,i,r){var s=this.tmp.area,n=this.tmp.root,a=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(e=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",r||(this.tmp.loadedItemIDs={}),this.registry.init(t),i)for(var o in this.registry.ambigcites)this.registry.ambigsTouched[o]=!0;return this.registry.dodeletes(this.registry.myhash),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(e),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(e),this.registry.renumber(),this.tmp.extension=a,this.tmp.area=s,this.tmp.root=n,this.registry.getSortedIds()},p.Engine.prototype.updateUncitedItems=function(t,e){var i,r=this.tmp.area,s=this.tmp.root,n=this.tmp.extension;if(0===this.bibliography_sort.tokens.length&&(e=!0),this.tmp.area="citation",this.tmp.root="citation",this.tmp.extension="",this.tmp.loadedItemIDs={},t||(t=[]),"object"==typeof t)if(void 0===t.length)for(var a in i=t,t=[],i)t.push(a);else if("number"==typeof t.length){i={};for(var o=0,l=t.length;o<l;o+=1)i[t[o]]=!0}return this.registry.init(t,!0),this.registry.dopurge(i),this.registry.doinserts(this.registry.mylist),this.registry.dorefreshes(),this.registry.rebuildlist(e),this.registry.setsortkeys(),this.registry.setdisambigs(),this.registry.sorttokens(e),this.registry.renumber(),this.tmp.extension=n,this.tmp.area=r,this.tmp.root=s,this.registry.getSortedIds()},t.exports=p,p.localeResolve=function(t,e){var i,r;return e||(e="en-US"),t||(t=e),i={},r=t.split(/[\-_]/),i.base=p.LANG_BASES[r[0]],void 0===i.base?{base:e,best:t,bare:r[0]}:(1===r.length&&(i.generic=!0),1===r.length||"x"===r[1]?i.best=i.base.replace("_","-"):i.best=r.slice(0,2).join("-"),i.base=i.base.replace("_","-"),i.bare=r[0],i)},p.Engine.prototype.localeConfigure=function(t,e){var i;if((!e||!this.locale[t.best])&&("en-US"===t.best?(i=p.setupXml(this.sys.retrieveLocale("en-US")),this.localeSet(i,"en-US",t.best)):"en-US"!==t.best&&(t.base!==t.best&&(i=p.setupXml(this.sys.retrieveLocale(t.base)),this.localeSet(i,t.base,t.best)),i=p.setupXml(this.sys.retrieveLocale(t.best)),this.localeSet(i,t.best,t.best)),this.localeSet(this.cslXml,"",t.best),this.localeSet(this.cslXml,t.bare,t.best),t.base!==t.best&&this.localeSet(this.cslXml,t.base,t.best),this.localeSet(this.cslXml,t.best,t.best),void 0===this.locale[t.best].terms["page-range-delimiter"]&&(["fr","pt"].indexOf(t.best.slice(0,2).toLowerCase())>-1?this.locale[t.best].terms["page-range-delimiter"]="-":this.locale[t.best].terms["page-range-delimiter"]="–"),void 0===this.locale[t.best].terms["year-range-delimiter"]&&(this.locale[t.best].terms["year-range-delimiter"]="–"),void 0===this.locale[t.best].terms["citation-range-delimiter"]&&(this.locale[t.best].terms["citation-range-delimiter"]="–"),this.opt.development_extensions.normalize_lang_keys_to_lowercase)){for(var r=["default-locale","locale-sort","locale-translit","locale-translat"],s=0,n=r.length;s<n;s+=1)for(var a=0,o=this.opt[r[s]].length;a<o;a+=1)this.opt[r[s]][a]=this.opt[r[s]][a].toLowerCase();this.opt.lang=this.opt.lang.toLowerCase()}},p.Engine.prototype.localeSet=function(t,e,i){var r,s,n,a,o,l,u,c,m,h,f,d;if(e=e.replace("_","-"),i=i.replace("_","-"),this.opt.development_extensions.normalize_lang_keys_to_lowercase&&(e=e.toLowerCase(),i=i.toLowerCase()),this.locale[i]||(this.locale[i]={},this.locale[i].terms={},this.locale[i].opts={},this.locale[i].opts["skip-words"]=p.SKIP_WORDS,this.locale[i].opts["leading-noise-words"]||(this.locale[i].opts["leading-noise-words"]=[]),this.locale[i].dates={},this.locale[i].ord={"1.0.1":!1,keys:{}},this.locale[i]["noun-genders"]={}),s=t.makeXml(),t.nodeNameIs(t.dataObj,"locale"))s=t.dataObj;else for(n=t.getNodesByName(t.dataObj,"locale"),o=0,f=t.numberofnodes(n);o<f;o+=1)if(r=n[o],t.getAttributeValue(r,"lang","xml")===e){s=r;break}for(n=t.getNodesByName(s,"type"),D=0,P=t.numberofnodes(n);D<P;D+=1){var g=n[D],b=t.getAttributeValue(g,"name"),v=t.getAttributeValue(g,"gender");this.opt.gender[b]=v}if(t.getNodesByName(s,"term","ordinal").length){for(var y in this.locale[i].ord.keys)delete this.locale[i].terms[y];this.locale[i].ord={"1.0.1":!1,keys:{}}}n=t.getNodesByName(s,"term");var _={"last-digit":{},"last-two-digits":{},"whole-number":{}},x=!1,A={};for(o=0,f=t.numberofnodes(n);o<f;o+=1){if(l=n[o],"sub verbo"===(c=t.getAttributeValue(l,"name"))&&(c="sub-verbo"),"ordinal"===c.slice(0,7)){t.getNodeValue(l);if("ordinal"===c)x=!0;else{var E,O=t.getAttributeValue(l,"match"),w=c.slice(8);(E=t.getAttributeValue(l,"gender-form"))||(E="neuter"),O||(O="last-two-digits","0"===w.slice(0,1)&&(O="last-digit")),"0"===w.slice(0,1)&&(w=w.slice(1)),_[O][w]||(_[O][w]={}),_[O][w][E]=c}this.locale[i].ord.keys[c]=!0}void 0===this.locale[i].terms[c]&&(this.locale[i].terms[c]={}),u="long",E=!1,t.getAttributeValue(l,"form")&&(u=t.getAttributeValue(l,"form")),t.getAttributeValue(l,"gender-form")&&(E=t.getAttributeValue(l,"gender-form")),t.getAttributeValue(l,"gender")&&(this.locale[i]["noun-genders"][c]=t.getAttributeValue(l,"gender")),E?(this.locale[i].terms[c][E]={},this.locale[i].terms[c][E][u]=[],d=this.locale[i].terms[c][E],A[c]=!0):(this.locale[i].terms[c][u]=[],d=this.locale[i].terms[c]),t.numberofnodes(t.getNodesByName(l,"multiple"))?(d[u][0]=t.getNodeValue(l,"single"),d[u][0].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0),d[u][1]=t.getNodeValue(l,"multiple"),d[u][1].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0)):(d[u]=t.getNodeValue(l),d[u].indexOf("%s")>-1&&(this.opt.hasPlaceholderTerm=!0))}if(x){for(var k in A){var S={},T=0;for(var I in this.locale[i].terms[k])["masculine","feminine"].indexOf(I)>-1?S[I]=this.locale[i].terms[k][I]:T+=1;if(!T)if(S.feminine)for(var I in S.feminine)this.locale[i].terms[k][I]=S.feminine[I];else if(S.masculine)for(var I in S.masculine)this.locale[i].terms[k][I]=S.masculine[I]}this.locale[i].ord["1.0.1"]=_}for(c in this.locale[i].terms)for(D=0,P=2;D<P;D+=1)if(E=p.GENDERS[D],this.locale[i].terms[c][E])for(u in this.locale[i].terms[c])this.locale[i].terms[c][E][u]||(this.locale[i].terms[c][E][u]=this.locale[i].terms[c][u]);for(n=t.getNodesByName(s,"style-options"),o=0,f=t.numberofnodes(n);o<f;o+=1)for(h in m=n[o],a=t.attributes(m))if(a.hasOwnProperty(h))if("@punctuation-in-quote"===h||"@limit-day-ordinals-to-day-1"===h)"true"===a[h]?this.locale[i].opts[h.slice(1)]=!0:this.locale[i].opts[h.slice(1)]=!1;else if("@jurisdiction-preference"===h){var j=a[h].split(/\s*,\s*/);this.locale[i].opts[h.slice(1)]=j}else if("@skip-words"===h){var N=a[h].split(/\s*,\s*/);this.locale[i].opts[h.slice(1)]=N}else if("@leading-noise-words"===h){var C=a[h].split(/\s*,\s*/);this.locale[i].opts["leading-noise-words"]=C}else if("@name-as-sort-order"===h){this.locale[i].opts["name-as-sort-order"]={};for(var D=0,P=(R=a[h].split(/\s+/)).length;D<P;D+=1)this.locale[i].opts["name-as-sort-order"][R[D]]=!0}else if("@name-as-reverse-order"===h){this.locale[i].opts["name-as-reverse-order"]={};for(D=0,P=(R=a[h].split(/\s+/)).length;D<P;D+=1)this.locale[i].opts["name-as-reverse-order"][R[D]]=!0}else if("@name-never-short"===h){this.locale[i].opts["name-never-short"]={};var R;for(D=0,P=(R=a[h].split(/\s+/)).length;D<P;D+=1)this.locale[i].opts["name-never-short"][R[D]]=!0}for(n=t.getNodesByName(s,"date"),o=0,f=t.numberofnodes(n);o<f;o+=1){var L=n[o];this.locale[i].dates[t.getAttributeValue(L,"form")]=L}},t.exports=p,p.getLocaleNames=function(t,e){var i=p.setupXml(t);function r(t,e){var i=["base","best"];if(e){normalizedLocale=p.localeResolve(e);for(var r=0,s=i.length;r<s;r++)normalizedLocale[i[r]]&&-1===t.indexOf(normalizedLocale[i[r]])&&t.push(normalizedLocale[i[r]])}}function s(t){for(var e=i.getNodesByName(i.dataObj,t),r=0,s=e.length;r<s;r++){var a=i.getAttributeValue(e[r],"locale");if(a)for(var o=0,l=(a=a.split(/ +/)).length;o<l;o++)this.extendLocaleList(n,a[o])}}var n=["en-US"];r(n,e);var a=i.getNodesByName(i.dataObj,"style")[0],o=i.getAttributeValue(a,"default-locale");r(n,o);for(var l=["layout","if","else-if","condition"],u=0,c=l.length;u<c;u++)s(i);return n},t.exports=p,p.Node={},p.Node.bibliography={build:function(t,e){if(this.tokentype===p.START){t.build.area="bibliography",t.build.root="bibliography",t.build.extension="";this.execs.push(function(t,e){t.tmp.area="bibliography",t.tmp.root="bibliography",t.tmp.extension=""})}e.push(this)}},t.exports=p,p.Node.choose={build:function(t,e){var i;this.tokentype===p.START&&(i=function(t,e){t.tmp.jump.push(void 0,p.LITERAL)}),this.tokentype===p.END&&(i=function(t,e){t.tmp.jump.pop()}),this.execs.push(i),e.push(this)},configure:function(t,e){this.tokentype===p.END?(t.configure.fail.push(e),t.configure.succeed.push(e)):(t.configure.fail.pop(),t.configure.succeed.pop())}},t.exports=p,p.Node.citation={build:function(t,e){if(this.tokentype===p.START){t.build.area="citation",t.build.root="citation",t.build.extension="";this.execs.push(function(t,e){t.tmp.area="citation",t.tmp.root="citation",t.tmp.extension=""})}if(this.tokentype===p.END){if(t.opt.grouped_sort="in-text"===t.opt.xclass&&t.citation.opt.collapse&&t.citation.opt.collapse.length||t.citation.opt.cite_group_delimiter&&t.citation.opt.cite_group_delimiter.length&&t.opt.update_mode!==p.POSITION&&t.opt.update_mode!==p.NUMERIC,t.opt.grouped_sort&&t.citation_sort.opt.sort_directions.length){var i=t.citation_sort.opt.sort_directions[0].slice();t.citation_sort.opt.sort_directions=[i].concat(t.citation_sort.opt.sort_directions)}t.citation.srt=new p.Registry.Comparifier(t,"citation_sort")}e.push(this)}},t.exports=p,p.Node["#comment"]={build:function(t,e){}},t.exports=p,p.Node.date={build:function(t,e){var i,r,s,n,a,o,l,u,c,m;this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(t.build.date_parts=[],t.build.date_variables=this.variables,t.build.extension||p.Util.substituteStart.call(this,t,e),i=t.build.extension?p.dateMacroAsSortKey:function(t,e,i){var p;if(t.tmp.element_rendered_ok=!1,t.tmp.donesies=[],t.tmp.dateparts=[],p=[],!this.variables.length||t.tmp.just_looking&&"accessed"===this.variables[0])t.tmp.date_object=!1;else{for(void 0===(r=e[this.variables[0]])&&(r={"date-parts":[[0]]},t.opt.development_extensions.locator_date_and_revision&&i&&"locator-date"===this.variables[0]&&i["locator-date"]&&(r=i["locator-date"])),t.tmp.date_object=r,s=this.dateparts.length,n=0;n<s;n+=1)a=this.dateparts[n],void 0!==t.tmp.date_object[a+"_end"]?p.push(a):"month"===a&&void 0!==t.tmp.date_object.season_end&&p.push(a);for(o=[],s=(l=["year","month","day"]).length,n=0;n<s;n+=1)p.indexOf(l[n])>-1&&o.push(l[n]);for(p=o.slice(),u=2,s=p.length,n=0;n<s;n+=1)if(a=p[n],c=t.tmp.date_object[a],m=t.tmp.date_object[a+"_end"],c!==m){u=n;break}t.tmp.date_collapse_at=p.slice(u)}},this.execs.push(i),i=function(t,e){if(e[this.variables[0]]&&(t.parallel.StartVariable(this.variables[0]),t.output.startTag("date",this),"issued"===this.variables[0]&&"legal_case"===e.type&&!t.tmp.extension&&""+e["collection-number"]==""+t.tmp.date_object.year&&1===this.dateparts.length&&"year"===this.dateparts[0]))for(var i in t.tmp.date_object)if(t.tmp.date_object.hasOwnProperty(i)&&"year"===i.slice(0,4)){t.tmp.issued_date={};var r=t.output.current.mystack.slice(-2)[0].blobs;t.tmp.issued_date.list=r,t.tmp.issued_date.pos=r.length-1}},this.execs.push(i)),t.build.extension||this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||(i=function(t,e){e[this.variables[0]]&&(t.output.endTag(),t.parallel.CloseVariable(this.variables[0]))},this.execs.push(i)),e.push(this),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||t.build.extension||p.Util.substituteEnd.call(this,t,e)}},t.exports=p,p.Node["date-part"]={build:function(t,e){var i,r,s,n,a,o,l,u,c,m,h,f,d,g,b,v,y,_,x;this.strings.form||(this.strings.form="long"),t.build.date_parts.push(this.strings.name);var A=t.build.date_variables[0];i=function(t,e){if(t.tmp.date_object){if(n=!0,a="",o="",t.tmp.donesies.push(this.strings.name),t.tmp.date_object.literal&&"year"===this.strings.name&&(t.parallel.AppendToVariable(t.tmp.date_object.literal),t.output.append(t.tmp.date_object.literal,this)),t.tmp.date_object&&(a=t.tmp.date_object[this.strings.name],o=t.tmp.date_object[this.strings.name+"_end"]),"year"!==this.strings.name||0!==a||t.tmp.suppress_decorations||(a=!1),l=!t.tmp.suppress_decorations,u=t.tmp.have_collapsed,c="year-suffix"===t[t.tmp.area].opt.collapse||"year-suffix-ranged"===t[t.tmp.area].opt.collapse,m=t.opt["disambiguate-add-year-suffix"],l&&m&&c&&(t.tmp.years_used.push(a),t.tmp.last_years_used.length>=t.tmp.years_used.length&&u&&t.tmp.last_years_used[t.tmp.years_used.length-1]===a&&(a=!1)),void 0!==a){h=!1,f=!1,!1,!1,"year"===this.strings.name&&(parseInt(a,10)<500&&parseInt(a,10)>0&&(f=t.getTerm("ad")),parseInt(a,10)<0&&(h=t.getTerm("bc"),a=-1*parseInt(a,10)),o&&(parseInt(o,10)<500&&parseInt(o,10)>0&&t.getTerm("ad"),parseInt(o,10)<0&&(t.getTerm("bc"),o=-1*parseInt(o,10)))),t.parallel.AppendToVariable(a);for(var i=""+t.tmp.date_object.month;i.length<2;)i="0"+i;i="month-"+i;var E=t.locale[t.opt.lang]["noun-genders"][i];if(this.strings.form){var O=this.strings.form;if("day"===this.strings.name&&"ordinal"===O&&t.locale[t.opt.lang].opts["limit-day-ordinals-to-day-1"]&&""+a!="1"&&(O="numeric"),a=p.Util.Dates[this.strings.name][O](t,a,E,this.default_locale),"month"===this.strings.name)if(t.tmp.strip_periods)a=a.replace(/\./g,"");else for(var w=0,k=this.decorations.length;w<k;w+=1)if("@strip-periods"===this.decorations[w][0]&&"true"===this.decorations[w][1]){a=a.replace(/\./g,"");break}if(o)if(o=p.Util.Dates[this.strings.name][O](t,o,E,"accessed"===A,"_end"),t.tmp.strip_periods)o=o.replace(/\./g,"");else for(w=0,k=this.decorations.length;w<k;w+=1)if("@strip-periods"===this.decorations[w][0]&&"true"===this.decorations[w][1]){o=o.replace(/\./g,"");break}}if(t.output.openLevel("empty"),t.tmp.date_collapse_at.length){for(d=!0,s=t.tmp.date_collapse_at.length,r=0;r<s;r+=1)if(x=t.tmp.date_collapse_at[r],-1===t.tmp.donesies.indexOf(x)){d=!1;break}if(d){if(""+o!="0"){if(0===t.dateput.queue.length&&(n=!0),t.opt["year-range-format"]&&"expanded"!==t.opt["year-range-format"]&&!t.tmp.date_object.day&&!t.tmp.date_object.month&&!t.tmp.date_object.season&&"year"===this.strings.name&&a&&o){o=t.fun.year_mangler(a+"-"+o,!0);var S=t.getTerm("year-range-delimiter");o=o.slice(o.indexOf(S)+1)}t.dateput.append(o,this),n&&(t.dateput.current.value()[0].strings.prefix="")}t.output.append(a,this),(g=t.output.current.value()).blobs[g.blobs.length-1].strings.suffix="",t.output.append(t.getTerm("year-range-delimiter"),"empty"),b=t.dateput.current.value(),g.blobs=g.blobs.concat(b),t.dateput.string(t,t.dateput.queue),t.tmp.date_collapse_at=[]}else t.output.append(a,this),t.tmp.date_collapse_at.indexOf(this.strings.name)>-1&&""+o!="0"&&(0===t.dateput.queue.length&&(n=!0),t.dateput.openLevel("empty"),t.dateput.append(o,this),n&&(t.dateput.current.value().blobs[0].strings.prefix=""),h&&t.dateput.append(h),f&&t.dateput.append(f),t.dateput.closeLevel())}else t.output.append(a,this);h&&t.output.append(h),f&&t.output.append(f),t.output.closeLevel()}else"month"===this.strings.name&&t.tmp.date_object.season&&((a=""+t.tmp.date_object.season)&&a.match(/^[1-4]$/)?(t.tmp.group_context.tip.variable_success=!0,t.output.append(t.getTerm("season-0"+a),this)):a&&t.output.append(a,this));t.tmp.value=[],!e[A]||!a&&!t.tmp.have_collapsed||t.opt.has_year_suffix||"year"!==this.strings.name||t.tmp.just_looking||t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.has_done_year_suffix&&(t.tmp.has_done_year_suffix=!0,y=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),v=new p.NumericBlob(!1,y,this,e.id),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,_=new p.Util.Suffixator(p.SUFFIX_CHARS),v.setFormatter(_),"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(v.range_prefix=t.getTerm("citation-range-delimiter")),t[t.tmp.area].opt.cite_group_delimiter?v.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter:t[t.tmp.area].opt["year-suffix-delimiter"]?v.successor_prefix=t[t.tmp.area].opt["year-suffix-delimiter"]:v.successor_prefix=t[t.tmp.area].opt.layout_delimiter,v.UGLY_DELIMITER_SUPPRESS_HACK=!0,t.output.append(v,"literal"))}},this.execs.push(i),e.push(this)}},t.exports=p,p.Node["else-if"]={build:function(t,e){p.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){p.Conditions.Configure.call(this,t,e)}},t.exports=p,p.Node.else={build:function(t,e){e.push(this)},configure:function(t,e){this.tokentype===p.START&&(t.configure.fail[t.configure.fail.length-1]=e)}},t.exports=p,p.Node["et-al"]={build:function(t,e){if("citation"===t.build.area||"bibliography"===t.build.area){this.execs.push(function(t,e,i){t.tmp.etal_node=this,"string"==typeof this.strings.term&&(t.tmp.etal_term=this.strings.term)})}e.push(this)}},t.exports=p,p.Node.group={build:function(t,e,i){var r,s,n;if(this.realGroup=i,this.tokentype===p.START&&(p.Util.substituteStart.call(this,t,e),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()+1),this.juris||e.push(this),(s=[]).push(r=function(t,e){if(t.output.startTag("group",this),this.strings.label_form_override&&(t.tmp.group_context.tip.label_form||(t.tmp.group_context.tip.label_form=this.strings.label_form_override)),this.strings.label_capitalize_if_first_override&&(t.tmp.group_context.tip.label_capitalize_if_first||(t.tmp.group_context.tip.label_capitalize_if_first=this.strings.label_capitalize_if_first_override)),this.realGroup){var i=!1,r=!1;t.tmp.group_context.mystack.length&&(t.output.current.value().parent=t.tmp.group_context.tip.output_tip);var s=t.tmp.group_context.tip.label_form;s||(s=this.strings.label_form_override);var n=t.tmp.group_context.tip.label_capitalize_if_first;n||(n=this.strings.label_capitalize_if_first),t.tmp.group_context.tip.condition?(i=t.tmp.group_context.tip.condition,r=t.tmp.group_context.tip.force_suppress):this.strings.reject?(i={test:this.strings.reject,not:!0},r=!0,[]):this.strings.require&&(i={test:this.strings.require,not:!1},[]),t.tmp.group_context.push({old_term_predecessor:t.tmp.term_predecessor,term_intended:!1,variable_attempt:!1,variable_success:!1,variable_success_parent:t.tmp.group_context.tip.variable_success,output_tip:t.output.current.tip,label_form:s,label_capitalize_if_first:n,parallel_conditions:this.strings.set_parallel_condition,condition:i,force_suppress:r,done_vars:t.tmp.group_context.tip.done_vars.slice()})}}),this.execs=s.concat(this.execs),this.strings["has-publisher-and-publisher-place"]&&(t.build["publisher-special"]=!0,r=function(t,e){if(this.strings["subgroup-delimiter"]&&e.publisher&&e["publisher-place"]){var i=e.publisher.split(/;\s*/),r=e["publisher-place"].split(/;\s*/);i.length>1&&i.length===r.length&&(t.publisherOutput=new p.PublisherOutput(t,this),t.publisherOutput["publisher-list"]=i,t.publisherOutput["publisher-place-list"]=r)}},this.execs.push(r)),this.juris)){for(var a=0,o=e.length;a<o;a++)e[a];var l=new p.Token("choose",p.START);p.Node.choose.build.call(l,t,e);var u=new p.Token("if",p.START);n=this.juris,r=function(e){if(!t.sys.retrieveStyleModule||!p.MODULE_MACROS[n]||!e.jurisdiction)return!1;var i=t.getJurisdictionList(e.jurisdiction);if(!t.opt.jurisdictions_seen[i[0]]){var r=t.retrieveAllStyleModules(i);for(var s in r){t.juris[s]={};for(var a=p.setupXml(r[s]),o=0,l=(h=a.getNodesByName(a.dataObj,"law-module")).length;o<l;o++){var u=a.getAttributeValue(h[o],"types");if(u){t.juris[s].types={};for(var c=0,m=(u=u.split(/\s+/)).length;c<m;c++)t.juris[s].types[u[c]]=!0}}var h;for(t.juris[s].types||(t.juris[s].types=p.MODULE_TYPES),o=0,l=(h=a.getNodesByName(a.dataObj,"macro")).length;o<l;o++){var f=a.getAttributeValue(h[o],"name");p.MODULE_MACROS[f]?(t.juris[s][f]=[],t.buildTokenLists(h[o],t.juris[s][f]),t.configureTokenList(t.juris[s][f])):p.debug('CSL: skipping non-modular macro name "'+f+'" in module context')}}}for(o=0,l=i.length;o<l;o++)if(s=i[o],t.juris[s]&&t.juris[s].types[e.type])return e["best-jurisdiction"]=s,!0;return!1},u.tests.push(r),u.test=t.fun.match.any(u,t,u.tests),e.push(u);var c=new p.Token("text",p.SINGLETON);r=function(t,e,i){var r=0;if(t.juris[e["best-jurisdiction"]][this.juris])for(;r<t.juris[e["best-jurisdiction"]][this.juris].length;)r=p.tokenExec.call(t,t.juris[e["best-jurisdiction"]][this.juris][r],e,i)},c.juris=this.juris,c.execs.push(r),e.push(c);var m=new p.Token("if",p.END);p.Node.if.build.call(m,t,e);var h=new p.Token("else",p.START);p.Node.else.build.call(h,t,e)}if(this.tokentype===p.END&&(t.build["publisher-special"]&&(t.build["publisher-special"]=!1,"string"==typeof t[t.build.root].opt["name-delimiter"]&&(r=function(t,e){t.publisherOutput&&(t.publisherOutput.render(),t.publisherOutput=!1)},this.execs.push(r))),r=function(t,e){if(t.output.endTag(),this.realGroup){var i=t.tmp.group_context.pop();if(t.tmp.group_context.tip.condition&&(t.tmp.group_context.tip.force_suppress=i.force_suppress),!i.force_suppress&&(i.variable_success||i.term_intended&&!i.variable_attempt)){this.isJurisLocatorLabel||(t.tmp.group_context.tip.variable_success=!0);var r=t.output.current.value().blobs,s=t.output.current.value().blobs.length-1;if(!t.tmp.just_looking&&void 0!==i.parallel_conditions){var n={blobs:r,conditions:i.parallel_conditions,id:e.id,pos:s};t.parallel.parallel_conditional_blobs_list.push(n)}}else{if(t.tmp.term_predecessor=i.old_term_predecessor,t.tmp.group_context.tip.variable_attempt=i.variable_attempt,i.force_suppress&&!t.tmp.group_context.tip.condition){t.tmp.group_context.tip.variable_attempt=!0,t.tmp.group_context.tip.variable_success=i.variable_success_parent;for(var a=0,o=i.done_vars.length;a<o;a++)t.tmp.done_vars.indexOf(i.done_vars[a])>-1&&(t.tmp.done_vars=t.tmp.done_vars.slice(0,a).concat(t.tmp.done_vars.slice(a+1)))}t.output.current.value().blobs&&t.output.current.value().blobs.pop()}}},this.execs.push(r),this.juris)){var f=new p.Token("else",p.END);p.Node.else.build.call(f,t,e);var d=new p.Token("choose",p.END);p.Node.choose.build.call(d,t,e)}this.tokentype===p.END&&(this.juris||e.push(this),t.build.substitute_level.value()&&t.build.substitute_level.replace(t.build.substitute_level.value()-1),p.Util.substituteEnd.call(this,t,e))}},t.exports=p,p.Node.if={build:function(t,e){p.Conditions.TopNode.call(this,t,e),e.push(this)},configure:function(t,e){p.Conditions.Configure.call(this,t,e)}},t.exports=p,p.Node.conditions={build:function(t,e){this.tokentype===p.START&&t.tmp.conditions.addMatch(this.match),this.tokentype===p.END&&t.tmp.conditions.matchCombine()}},t.exports=p,p.Node.condition={build:function(t,e){if(this.tokentype===p.SINGLETON){var i=t.fun.match[this.match](this,t,this.tests);t.tmp.conditions.addTest(i)}}},t.exports=p,p.Conditions={},p.Conditions.TopNode=function(t,e){var i;this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(this.locale&&(t.opt.lang=this.locale),this.tests&&this.tests.length?this.test=t.fun.match[this.match](this,t,this.tests):t.tmp.conditions=new p.Conditions.Engine(t,this)),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||(i=function(t,e){return this.locale_default&&(t.output.current.value().old_locale=this.locale_default,t.output.closeLevel("empty"),t.opt.lang=this.locale_default),this[t.tmp.jump.value()]},this.execs.push(i),this.locale_default&&(t.opt.lang=this.locale_default))},p.Conditions.Configure=function(t,e){this.tokentype===p.START?(this.fail=t.configure.fail.slice(-1)[0],this.succeed=this.next,t.configure.fail[t.configure.fail.length-1]=e):this.tokentype===p.SINGLETON?(this.fail=this.next,this.succeed=t.configure.succeed.slice(-1)[0],t.configure.fail[t.configure.fail.length-1]=e):(this.succeed=t.configure.succeed.slice(-1)[0],this.fail=this.next)},p.Conditions.Engine=function(t,e){this.token=e,this.state=t},p.Conditions.Engine.prototype.addTest=function(t){this.token.tests.push(t)},p.Conditions.Engine.prototype.addMatch=function(t){this.token.match=t},p.Conditions.Engine.prototype.matchCombine=function(){this.token.test=this.state.fun.match[this.token.match](this.token,this.state,this.token.tests)},t.exports=p,p.Node.info={build:function(t,e){this.tokentype===p.START?t.build.skip="info":t.build.skip=!1}},t.exports=p,p.Node.institution={build:function(t,e){if([p.SINGLETON,p.START].indexOf(this.tokentype)>-1){this.execs.push(function(t,e){"string"==typeof this.strings.delimiter?t.tmp.institution_delimiter=this.strings.delimiter:t.tmp.institution_delimiter=t.tmp.name_delimiter,"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")?t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&":"none"===t.inheritOpt(this,"and")&&(this.and_term=t.tmp.institution_delimiter),void 0===this.and_term&&t.tmp.and_term&&(this.and_term=t.getTerm("and","long",0)),p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.institution_delimiter&&(this.and_prefix_multiple=t.tmp.institution_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.institution_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")&&this.and_prefix_multiple&&(this.and_prefix_multiple=" "),this.and={},void 0!==this.and_term?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):"undefined"!==this.strings.delimiter&&(this.and.single=new p.Blob(t.tmp.institution_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(t.tmp.institution_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),t.nameOutput.institution=this})}e.push(this)},configure:function(t,e){[p.SINGLETON,p.START].indexOf(this.tokentype)>-1&&(t.build.has_institution=!0)}},t.exports=p,p.Node["institution-part"]={build:function(t,e){var i;"long"===this.strings.name?i=this.strings["if-short"]?function(t,e){t.nameOutput.institutionpart["long-with-short"]=this}:function(t,e){t.nameOutput.institutionpart.long=this}:"short"===this.strings.name&&(i=function(t,e){t.nameOutput.institutionpart.short=this}),this.execs.push(i),e.push(this)}},t.exports=p,p.Node.key={build:function(t,e){var i;e=t[t.build.root+"_sort"].tokens;var r=new p.Token("key",p.START);t.tmp.root=t.build.root,r.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),r.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),r.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),i=function(t,e){t.tmp.done_vars=[]},r.execs.push(i),t.opt.citation_number_sort_direction=this.strings.sort_direction,i=function(t,e){t.output.openLevel("empty")},r.execs.push(i);var s=[];if(this.strings.sort_direction===p.DESCENDING?(s.push(1),s.push(-1)):(s.push(-1),s.push(1)),t[t.build.area].opt.sort_directions.push(s),p.DATE_VARIABLES.indexOf(this.variables[0])>-1&&(t.build.date_key=!0),i=function(t,e){t.tmp.sort_key_flag=!0,t.inheritOpt(this,"et-al-min")&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),t.inheritOpt(this,"et-al-use-first")&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),"boolean"==typeof t.inheritOpt(this,"et-al-use-last")&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"))},r.execs.push(i),e.push(r),this.variables.length){var n=this.variables[0];if("citation-number"===n&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t.opt.citation_number_sort=!1),"bibliography"===t.build.root&&"_sort"===t.build.extension&&(t.opt.citation_number_sort_used=!1)),p.NAME_VARIABLES.indexOf(n)>-1){var a=new p.Token("names",p.START);a.tokentype=p.START,a.variables=this.variables,p.Node.names.build.call(a,t,e);var o=new p.Token("name",p.SINGLETON);o.tokentype=p.SINGLETON,o.strings["name-as-sort-order"]="all",o.strings["sort-separator"]=" ",o.strings["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last"),o.strings["et-al-min"]=t.inheritOpt(this,"et-al-min"),o.strings["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first"),p.Node.name.build.call(o,t,e);var l=new p.Token("institution",p.SINGLETON);l.tokentype=p.SINGLETON,p.Node.institution.build.call(l,t,e);var u=new p.Token("names",p.END);u.tokentype=p.END,p.Node.names.build.call(u,t,e)}else{var c=new p.Token("text",p.SINGLETON);if(c.dateparts=this.dateparts,p.NUMERIC_VARIABLES.indexOf(n)>-1)i=function(t,e){var i;i=!1,(i="citation-number"===n?t.registry.registry[e.id].seq.toString():e[n])&&(i=p.Util.padding(i)),t.output.append(i,this)};else if("citation-label"===n)i=function(t,e){var i=t.getCitationLabel(e);t.output.append(i,this)};else if(p.DATE_VARIABLES.indexOf(n)>-1)i=p.dateAsSortKey,c.variables=this.variables;else if("title"===n){i=t.transform.getOutputFunction(this.variables,"title",!1,!1,!0)}else i=function(t,e){var i=e[n];t.output.append(i,"empty")};c.execs.push(i),e.push(c)}}else{var m=new p.Token("text",p.SINGLETON);m.postponed_macro=this.postponed_macro,p.expandMacro.call(t,m,e)}var h=new p.Token("key",p.END);i=function(t,e){var i=t.output.string(t,t.output.queue);t.sys.normalizeUnicode&&(i=t.sys.normalizeUnicode(i)),""===(i=i?i.split(" ").join(t.opt.sort_sep)+t.opt.sort_sep:"")&&(i=void 0),("string"!=typeof i||t.tmp.empty_date)&&(i=void 0,t.tmp.empty_date=!1),t[t[t.tmp.area].root+"_sort"].keys.push(i),t.tmp.value=[]},h.execs.push(i),t.build.date_key&&("citation"===t.build.area&&"_sort"===t.build.extension&&(t[t.build.area].opt.sort_directions.push([-1,1]),i=function(t,e){var i=t.registry.registry[e.id].disambig.year_suffix;i||(i=0);var r=p.Util.padding(""+i);t[t.tmp.area].keys.push(r)},h.execs.push(i)),t.build.date_key=!1),i=function(t,e){t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-use-last"]=void 0,t.tmp.sort_key_flag=!1},h.execs.push(i),e.push(h)}},t.exports=p,p.Node.label={build:function(t,e){if(this.strings.term){this.strings.form;this.execs.push(function(t,e,i){var r=p.evaluateLabel(this,t,e,i);i&&"locator"===this.strings.term&&(t.parallel.StartVariable("label"),t.parallel.AppendToVariable(i.label),i.section_form_override=this.strings.form),r&&(t.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(t,r),-1===r.indexOf("%s")&&(this.strings.capitalize_if_first&&(t.tmp.term_predecessor||"in-text"===t.opt.class&&"citation"===t.tmp.area||(r=p.Output.Formatters["capitalize-first"](t,r))),t.output.append(r,this)),i&&"locator"===this.strings.term&&t.parallel.CloseVariable()})}else{var i=t.build.names_variables.slice(-1)[0];t.build.name_label||(t.build.name_label={});for(var r=0,s=i.length;r<s;r+=1)t.build.name_label[i[r]]||(t.build.name_label[i[r]]={});if(t.build.name_flag)for(r=0,s=i.length;r<s;r+=1)t.build.name_label[i[r]].after=this;else for(var r=0,s=i.length;r<s;r+=1)t.build.name_label[i[r]].before=this}e.push(this)}},t.exports=p,p.Node.layout={build:function(t,e){var i,r,s,n,a;function o(){"bibliography"===t.build.area&&(s=new p.Token("text",p.SINGLETON),i=function(t,e,i){var r;t.tmp.cite_locales[t.tmp.cite_locales.length-1];r=t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale]?t.tmp.cite_affixes[t.tmp.area][t.tmp.last_cite_locale].suffix:t.bibliography.opt.layout_suffix;var s=t.output.current.value();t.opt.using_display?s.blobs[s.blobs.length-1].strings.suffix=r:s.strings.suffix=r,t.bibliography.opt["second-field-align"]&&t.output.endTag("bib_other")},s.execs.push(i),e.push(s))}if(this.tokentype===p.START&&(this.locale_raw?t.build.current_default_locale=this.locale_raw:t.build.current_default_locale=t.opt["default-locale"],i=function(t,e,i){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&(cite_entry=new p.Token("group",p.START),cite_entry.decorations=[["@cite","entry"]],t.output.startTag("cite_entry",cite_entry),t.output.current.value().item_id=e.system_id,i&&(t.output.current.value().locator_txt=i.locator_txt,t.output.current.value().suffix_txt=i.suffix_txt))},this.execs.push(i)),this.tokentype!==p.START||t.tmp.cite_affixes[t.build.area]||(i=function(t,e){t.tmp.done_vars=[],t.opt.suppressedJurisdictions[e.country]&&e.country&&-1===["treaty","patent"].indexOf(e.type)&&t.tmp.done_vars.push("country"),!t.tmp.just_looking&&t.registry.registry[e.id]&&t.registry.registry[e.id].parallel&&t.tmp.done_vars.push("first-reference-note-number"),t.tmp.rendered_name=!1},this.execs.push(i),i=function(t,e){t.tmp.sort_key_flag=!1},this.execs.push(i),i=function(t,e){t.tmp.nameset_counter=0},this.execs.push(i),i=function(t,e){var i=new p.Token;t.opt.development_extensions.rtl_support&&["ar","he","fa","ur","yi","ps","syr"].indexOf(e.language)>-1&&((i=new p.Token).strings.prefix="‫",i.strings.suffix="‬"),t.output.openLevel(i)},this.execs.push(i),e.push(this),t.opt.development_extensions.rtl_support,"citation"===t.build.area&&(r=new p.Token("text",p.SINGLETON),i=function(t,e,i){var r;if(i&&i.prefix){r="";var s=i.prefix.replace(/<[^>]+>/g,"").replace(/["'\u201d\u2019\u00bb\u202f\u00a0 ]+$/g,""),n=s.slice(-1);s.match(p.ENDSWITH_ROMANESQUE_REGEXP)?r=" ":p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(n)>-1?r=" ":n.match(/[\)\],0-9]/)&&(r=" ");var a=!1;p.TERMINAL_PUNCTUATION.slice(0,-1).indexOf(n)>-1&&i.prefix.trim().indexOf(" ")>-1&&(t.tmp.term_predecessor=!1,a=!0);var o=(i.prefix+r).replace(/\s+/g," ");t.tmp.just_looking||(o=t.output.checkNestedBrace.update(o)),t.output.append(o,this,!1,a)}},r.execs.push(i),e.push(r))),this.locale_raw&&((a=new p.Token("dummy",p.START)).locale=this.locale_raw,a.strings.delimiter=this.strings.delimiter,a.strings.suffix=this.strings.suffix,t.tmp.cite_affixes[t.build.area]||(t.tmp.cite_affixes[t.build.area]={})),this.tokentype===p.START&&(t.build.layout_flag=!0,this.locale_raw||(t[t.tmp.area].opt.topdecor=[this.decorations],t[t.tmp.area+"_sort"].opt.topdecor=[this.decorations],t[t.build.area].opt.layout_prefix=this.strings.prefix,t[t.build.area].opt.layout_suffix=this.strings.suffix,t[t.build.area].opt.layout_delimiter=this.strings.delimiter,t[t.build.area].opt.layout_decorations=this.decorations,t.tmp.cite_affixes[t.build.area]&&(n=new p.Token("else",p.START),p.Node.else.build.call(n,t,e))),this.locale_raw)){if(t.build.layout_locale_flag)a.name="else-if",p.Attributes["@locale-internal"].call(a,t,this.locale_raw),p.Node["else-if"].build.call(a,t,e);else{var l=new p.Token("choose",p.START);p.Node.choose.build.call(l,t,e),a.name="if",p.Attributes["@locale-internal"].call(a,t,this.locale_raw),p.Node.if.build.call(a,t,e)}t.tmp.cite_affixes[t.build.area][a.locale]={},t.tmp.cite_affixes[t.build.area][a.locale].delimiter=this.strings.delimiter,t.tmp.cite_affixes[t.build.area][a.locale].suffix=this.strings.suffix}this.tokentype===p.END&&(this.locale_raw&&(o(),t.build.layout_locale_flag?(a.name="else-if",a.tokentype=p.END,p.Attributes["@locale-internal"].call(a,t,this.locale_raw),p.Node["else-if"].build.call(a,t,e)):(a.name="if",a.tokentype=p.END,p.Attributes["@locale-internal"].call(a,t,this.locale_raw),p.Node.if.build.call(a,t,e),t.build.layout_locale_flag=!0)),this.locale_raw||(o(),t.tmp.cite_affixes[t.build.area]&&t.build.layout_locale_flag&&(n=new p.Token("else",p.END),p.Node.else.build.call(n,t,e),n=new p.Token("choose",p.END),p.Node.choose.build.call(n,t,e)),t.build_layout_locale_flag=!0,"citation"===t.build.area&&(s=new p.Token("text",p.SINGLETON),i=function(t,e,i){var r;if(i&&i.suffix){r="",(i.suffix.match(p.STARTSWITH_ROMANESQUE_REGEXP)||["[","("].indexOf(i.suffix.slice(0,1))>-1)&&(r=" ");var s=i.suffix;t.tmp.just_looking||(s=t.output.checkNestedBrace.update(s)),t.output.append(r+s,this)}},s.execs.push(i),e.push(s)),i=function(t,e){t.output.closeLevel()},this.execs.push(i),i=function(t,e){t.opt.development_extensions.apply_citation_wrapper&&t.sys.wrapCitationEntry&&!t.tmp.just_looking&&e.system_id&&"citation"===t.tmp.area&&t.output.endTag()},this.execs.push(i),e.push(this),t.build.layout_flag=!1,t.build.layout_locale_flag=!1))}},t.exports=p,p.Node.macro={build:function(t,e){}},t.exports=p,p.NameOutput=function(t,e,i,r){this.debug=!1,this.state=t,this.Item=e,this.item=i,this.nameset_base=0,this.etal_spec={},this._first_creator_variable=!1,this._please_chop=!1},p.NameOutput.prototype.init=function(t){this.state.tmp.term_predecessor&&(this.state.tmp.subsequent_author_substitute_ok=!1),this.nameset_offset&&(this.nameset_base=this.nameset_base+this.nameset_offset),this.nameset_offset=0,this.names=t,this.variables=t.variables,this.state.tmp.value=[],this.state.tmp.rendered_name=[],this.state.tmp.label_blob=!1,this.state.tmp.etal_node=!1,this.state.tmp.etal_term=!1;for(var e=0,i=this.variables.length;e<i;e+=1)this.Item[this.variables[e]]&&this.Item[this.variables[e]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[e]]));this["et-al"]=void 0,this.with=void 0,this.name=void 0,this.institutionpart={},this.state.tmp.group_context.tip.variable_attempt=!0,this.labelVariable=this.variables[0],this.state.tmp.value.length},p.NameOutput.prototype.reinit=function(t,e){if(this.labelVariable=e,this.state.tmp.can_substitute.value()){this.nameset_offset=0,this.variables=t.variables;var i=this.state.tmp.value.slice();this.state.tmp.value=[];for(var r=0,s=this.variables.length;r<s;r+=1)this.Item[this.variables[r]]&&this.Item[this.variables[r]].length&&(this.state.tmp.value=this.state.tmp.value.concat(this.Item[this.variables[r]]));this.state.tmp.value.length&&this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.value=i}},p.NameOutput.prototype.outputNames=function(){var t=this.variables;if(this.institution.and&&(this.institution.and.single.blobs&&this.institution.and.single.blobs.length||(this.institution.and.single.blobs=this.name.and.single.blobs),this.institution.and.multiple.blobs&&this.institution.and.multiple.blobs.length||(this.institution.and.multiple.blobs=this.name.and.multiple.blobs)),this.variable_offset={},this.family)for(this.family_decor=p.Util.cloneToken(this.family),this.family_decor.strings.prefix="",this.family_decor.strings.suffix="",f=0,d=this.family.execs.length;f<d;f+=1)this.family.execs[f].call(this.family_decor,this.state,this.Item);else this.family_decor=!1;if(this.given)for(this.given_decor=p.Util.cloneToken(this.given),this.given_decor.strings.prefix="",this.given_decor.strings.suffix="",f=0,d=this.given.execs.length;f<d;f+=1)this.given.execs[f].call(this.given_decor,this.state,this.Item);else this.given_decor=!1;if(this.getEtAlConfig(),this.divideAndTransliterateNames(),this.truncatePersonalNameLists(),this.disambigNames(),this.constrainNames(),"count"!==this.name.strings.form){this.setEtAlParameters(),this.setCommonTerm(),this.state.tmp.name_node={},this.state.tmp.name_node.children=[],this.renderAllNames();var e=[];for(f=0,d=t.length;f<d;f+=1){var i=t[f],r=[],s=!1,n=null;if(this.state.opt.development_extensions.spoof_institutional_affiliations){for(var a=0,o=this.institutions[i].length;a<o;a+=1)r.push(this.joinPersonsAndInstitutions([this.persons[i][a],this.institutions[i][a]]));if(this.institutions[i].length){var l=this.nameset_base+this.variable_offset[i];this.freeters[i].length&&(l+=1),s=this.joinInstitutionSets(r,l)}n=this.joinFreetersAndInstitutionSets([this.freeters[i],s])}else n=this._join([this.freeters[i]],"");if(n&&(this.state.tmp.extension||(n=this._applyLabels(n,i)),e.push(n)),this.common_term)break}for(this.state.output.openLevel("empty"),this.state.output.current.value().strings.delimiter=this.state.inheritOpt(this.names,"delimiter","names-delimiter"),f=0,d=e.length;f<d;f+=1)this.state.output.append(e[f],"literal",!0);this.state.output.closeLevel("empty");var u=this.state.output.pop(),c=p.Util.cloneToken(this.names);if(this.state.output.append(u,c),this.state.tmp.term_predecessor_name&&(this.state.tmp.term_predecessor=!0),this.state.tmp.name_node.top=this.state.output.current.value(),"authority"!==t[0]){var m=[],h=this.Item[t[0]];if(h)for(var f=0,d=h.length;f<d;f+=1){var g=p.Util.Names.getRawName(h[f]);g&&m.push(g)}(m=m.join(", "))&&(this.state.tmp.name_node.string=m)}if(this.state.tmp.name_node.string&&!this.state.tmp.first_name_string&&(this.state.tmp.first_name_string=this.state.tmp.name_node.string),"classic"===this.Item.type){var b=[];this.state.tmp.first_name_string&&b.push(this.state.tmp.first_name_string),this.Item.title&&b.push(this.Item.title),(b=b.join(", "))&&this.state.sys.getAbbreviation&&(this.state.transform.loadAbbreviation("default","classic",b),this.state.transform.abbrevs.default.classic[b]&&(this.state.tmp.done_vars.push("title"),this.state.output.append(this.state.transform.abbrevs.default.classic[b],"empty",!0),u=this.state.output.pop(),this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.top.blobs.push(u)))}this._collapseAuthor(),this.variables=[]}else(this.state.tmp.extension||0!=this.names_count)&&(this.state.output.append(this.names_count,"empty"),this.state.tmp.group_context.tip.variable_success=!0)},p.NameOutput.prototype._applyLabels=function(t,e){var i;if(!this.label||!this.label[this.labelVariable])return t;var r=0,s=this.freeters_count[e]+this.institutions_count[e];if(s>1)r=1;else{for(var n=0,a=this.persons[e].length;n<a;n+=1)s+=this.persons_count[e][n];s>1&&(r=1)}return this.label[this.labelVariable].before?("number"==typeof this.label[this.labelVariable].before.strings.plural&&(r=this.label[this.labelVariable].before.strings.plural),i=this._buildLabel(e,r,"before",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(i,this.label[this.labelVariable].before,!0),this.state.output.append(t,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()):this.label[this.labelVariable].after&&("number"==typeof this.label[this.labelVariable].after.strings.plural&&(r=this.label[this.labelVariable].after.strings.plural),i=this._buildLabel(e,r,"after",this.labelVariable),this.state.output.openLevel("empty"),this.state.output.append(t,"literal",!0),this.state.output.append(i,this.label[this.labelVariable].after,!0),this.state.tmp.label_blob=this.state.output.pop(),this.state.output.append(this.state.tmp.label_blob,"literal",!0),this.state.output.closeLevel("empty"),t=this.state.output.pop()),t},p.NameOutput.prototype._buildLabel=function(t,e,i,r){this.common_term&&(t=this.common_term);var s=!1,n=this.label[r][i];return n&&(s=p.castLabel(this.state,n,t,e,p.TOLERANT)),s},p.NameOutput.prototype._collapseAuthor=function(){var t,e,i;0===this.nameset_base&&this.Item[this.variables[0]]&&!this._first_creator_variable&&(this._first_creator_variable=this.variables[0]),(this.item&&this.item["suppress-author"]&&this._first_creator_variable==this.variables[0]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter.length)&&(this.state.tmp.authorstring_request?(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),this.state.tmp.offset_characters=i,this.state.registry.authorstrings[this.Item.id]=e):this.state.tmp.just_looking||this.state.tmp.suppress_decorations||!(this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length||this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter)||(e="",t=this.state.tmp.name_node.top.blobs.slice(-1)[0].blobs,i=this.state.tmp.offset_characters,t&&(e=this.state.output.string(this.state,t,!1)),e===this.state.tmp.last_primary_names_string?((this.item["suppress-author"]||this.state[this.state.tmp.area].opt.collapse&&this.state[this.state.tmp.area].opt.collapse.length)&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i),this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!0)):(this.state.tmp.last_primary_names_string=e,this.variables.indexOf(this._first_creator_variable)>-1&&this.item&&this.item["suppress-author"]&&"legal_case"!==this.Item.type&&(this.state.tmp.name_node.top.blobs.pop(),this.state.tmp.name_node.children=[],this.state.tmp.offset_characters=i,this.state.tmp.term_predecessor=!1),this.state.tmp.have_collapsed=!1,this.state[this.state.tmp.area].opt.cite_group_delimiter&&this.state[this.state.tmp.area].opt.cite_group_delimiter&&(this.state.tmp.use_cite_group_delimiter=!1))))},t.exports=p,p.NameOutput.prototype.isPerson=function(t){return!(t.literal||!t.given&&t.family&&t.isInstitution)},t.exports=p,p.NameOutput.prototype.truncatePersonalNameLists=function(){var t,e,i,r;for(t in this.freeters_count={},this.persons_count={},this.institutions_count={},this.freeters)this.freeters.hasOwnProperty(t)&&(this.freeters_count[t]=this.freeters[t].length,this.freeters[t]=this._truncateNameList(this.freeters,t));for(t in this.persons)if(this.persons.hasOwnProperty(t))for(this.institutions_count[t]=this.institutions[t].length,this._truncateNameList(this.institutions,t),this.persons[t]=this.persons[t].slice(0,this.institutions[t].length),this.persons_count[t]=[],s=0,n=this.persons[t].length;s<n;s+=1)this.persons_count[t][s]=this.persons[t][s].length,this.persons[t][s]=this._truncateNameList(this.persons,t,s);if((r=1===this.etal_min&&1===this.etal_use_first&&!this.state.tmp.extension&&!this.state.tmp.just_looking&&t)||this._please_chop)for(e=0,i=this.variables.length;e<i;e+=1){t=this.variables[e],this.freeters[t].length&&(this._please_chop===t?(this.freeters[t]=this.freeters[t].slice(1),this.freeters_count[t]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.freeters[t]=this.freeters[t].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],this._please_chop=r));for(var s=0,n=this.persons[t].length;s<n;s++)if(this.persons[t][s].length){if(this._please_chop===t){this.persons[t][s]=this.persons[t][s].slice(1),this.persons_count[t][s]+=-1,this._please_chop=!1;break}if(r&&!this._please_chop){this.freeters[t]=this.persons[t][s].slice(0,1),this.freeters_count[t]=1,this.institutions[t]=[],this.persons[t]=[],[],this._please_chop=r;break}}this.institutions[t].length&&(this._please_chop===t?(this.institutions[t]=this.institutions[t].slice(1),this.institutions_count[t]+=-1,this._please_chop=!1):r&&!this._please_chop&&(this.institutions[t]=this.institutions[t].slice(0,1),this.institutions_count[t]=1,[],this._please_chop=r))}for(e=0,i=this.variables.length;e<i;e+=1){this.institutions[t].length&&(this.nameset_offset+=1);for(s=0,n=this.persons[t].length;s<n;s++)this.persons[t][s].length&&(this.nameset_offset+=1)}},p.NameOutput.prototype._truncateNameList=function(t,e,i){var r;if(r=void 0===i?t[e]:t[e][i],this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names&&r.length>50&&r.length>this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names+2){var s=this.state[this.state[this.state.tmp.area].root].opt.max_number_of_names;r=r.slice(0,s+1).concat(r.slice(-1))}return r},t.exports=p,p.NameOutput.prototype.divideAndTransliterateNames=function(){var t,e,i,r,s=this.Item,n=this.variables;for(this.varnames=n.slice(),this.freeters={},this.persons={},this.institutions={},t=0,e=n.length;t<e;t+=1){var a=n[t];this.variable_offset[a]=this.nameset_offset;var o=this._normalizeVariableValue(s,a);if(this.name.strings["suppress-min"]&&o.length>=this.name.strings["suppress-min"]&&(o=[]),this.name.strings["suppress-max"]&&o.length<=this.name.strings["suppress-max"]&&(o=[]),this._getFreeters(a,o),this._getPersonsAndInstitutions(a,o),this.state.opt.development_extensions.spoof_institutional_affiliations)if(0===this.name.strings["suppress-min"])for(this.freeters[a]=[],i=0,r=this.persons[a].length;i<r;i+=1)this.persons[a][i]=[];else if(0===this.institution.strings["suppress-min"]){for(this.institutions[a]=[],this.freeters[a]=this.freeters[a].concat(this.persons[a]),i=0,r=this.persons[a].length;i<r;i+=1)for(var l=0,u=this.persons[a][i].length;l<u;l+=1)this.freeters[a].push(this.persons[a][i][l]);this.persons[a]=[]}}},p.NameOutput.prototype._normalizeVariableValue=function(t,e){var i;return"string"==typeof t[e]||"number"==typeof t[e]?(p.debug('name variable "'+e+'" is string or number, not array. Attempting to fix.'),i=[{literal:t[e]+""}]):t[e]?"number"!=typeof t[e].length?(p.debug('name variable "'+e+'" is object, not array. Attempting to fix.'),t[e]=[t[e]],i=t[e].slice()):i=t[e].slice():i=[],i},p.NameOutput.prototype._getFreeters=function(t,e){if(this.freeters[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations)for(var i=e.length-1;i>-1&&this.isPerson(e[i]);i--){(r=this._checkNickname(e.pop()))&&this.freeters[t].push(r)}else for(i=e.length-1;i>-1;i--){var r=e.pop();if(this.isPerson(r))r=this._checkNickname(r);this.freeters[t].push(r)}this.freeters[t].reverse(),this.freeters[t].length&&(this.nameset_offset+=1)},p.NameOutput.prototype._getPersonsAndInstitutions=function(t,e){if(this.persons[t]=[],this.institutions[t]=[],this.state.opt.development_extensions.spoof_institutional_affiliations){for(var i=[],r=!1,s=!0,n=e.length-1;n>-1;n+=-1)if(this.isPerson(e[n])){var a=this._checkNickname(e[n]);a&&i.push(a)}else r=!0,this.institutions[t].push(e[n]),s||(i.reverse(),this.persons[t].push(i),i=[]),s=!1;r&&(i.reverse(),this.persons[t].push(i),this.persons[t].reverse(),this.institutions[t].reverse())}},p.NameOutput.prototype._clearValues=function(t){for(var e=t.length-1;e>-1;e+=-1)t.pop()},p.NameOutput.prototype._checkNickname=function(t){if(["interview","personal_communication"].indexOf(this.Item.type)>-1){var e;if((e=p.Util.Names.getRawName(t))&&this.state.sys.getAbbreviation&&(!this.item||!this.item["suppress-author"])){var i=e;this.state.sys.normalizeAbbrevsKey&&(i=this.state.sys.normalizeAbbrevsKey("author",e)),this.state.transform.loadAbbreviation("default","nickname",i);var r=this.state.transform.abbrevs.default.nickname[i];r&&(t="!here>>>"!==r&&{family:r,given:""})}}return t},t.exports=p,p.NameOutput.prototype.joinPersons=function(t,e,i,r){return r||(r="name"),void 0===i?1===this.etal_spec[e].freeters?this._joinEtAl(t,r):2===this.etal_spec[e].freeters?this._joinEllipsis(t,r):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,r):1===this.etal_spec[e].persons[i]?this._joinEtAl(t,r):2===this.etal_spec[e].persons[i]?this._joinEllipsis(t,r):this.state.tmp.sort_key_flag?this._join(t," "):this._joinAnd(t,r)},p.NameOutput.prototype.joinInstitutionSets=function(t,e){return 1===this.etal_spec[e].institutions?this._joinEtAl(t,"institution"):2===this.etal_spec[e].institutions?this._joinEllipsis(t,"institution"):this._joinAnd(t,"institution")},p.NameOutput.prototype.joinPersonsAndInstitutions=function(t){return this._join(t,this.state.tmp.name_delimiter)},p.NameOutput.prototype.joinFreetersAndInstitutionSets=function(t){return this._join(t,"[never here]",this.with.single,this.with.multiple)},p.NameOutput.prototype._joinEtAl=function(t,e){var i=this._join(t,this.state.tmp.name_delimiter);return this.state.output.openLevel(this._getToken(e)),this.state.output.current.value().strings.delimiter="",this.state.output.append(i,"literal",!0),t.length>1?this.state.output.append(this["et-al"].multiple,"literal",!0):1===t.length&&this.state.output.append(this["et-al"].single,"literal",!0),this.state.output.closeLevel(),this.state.output.pop()},p.NameOutput.prototype._joinEllipsis=function(t,e){return this._join(t,this.state.tmp.name_delimiter,this.name.ellipsis.single,this.name.ellipsis.multiple,e)},p.NameOutput.prototype._joinAnd=function(t,e){return this._join(t,this.state.inheritOpt(this[e],"delimiter",e+"-delimiter",", "),this[e].and.single,this[e].and.multiple,e)},p.NameOutput.prototype._join=function(t,e,i,r,s){var n,a;if(!t)return!1;for(n=t.length-1;n>-1;n+=-1)t[n]&&0!==t[n].length&&t[n].blobs.length||(t=t.slice(0,n).concat(t.slice(n+1)));if(!t.length)return!1;if(i&&2===t.length)i&&(i=new p.Blob(i.blobs,i)),t=[t[0],i,t[1]];else{var o;for(o=r?2:1,n=0,a=t.length-o;n<a;n+=1)t[n].strings.suffix+=e;if(t.length>1){var l=t.pop();r?(r=new p.Blob(r.blobs,r),t.push(r)):(i&&(i=new p.Blob(i.blobs,i)),t.push(i)),t.push(l)}}for(this.state.output.openLevel(),i&&r&&(this.state.output.current.value().strings.delimiter=""),n=0,a=t.length;n<a;n+=1)this.state.output.append(t[n],!1,!0);return this.state.output.closeLevel(),this.state.output.pop()},p.NameOutput.prototype._getToken=function(t){var e=this[t];return"institution"===t?new p.Token:e},t.exports=p,p.NameOutput.prototype.setCommonTerm=function(){var t=this.variables.slice();if(t.sort(),this.common_term=t.join(""),!this.common_term)return!1;var e=!1;if(this.label&&this.label[this.variables[0]]&&(this.label[this.variables[0]].before?e=this.state.getTerm(this.common_term,this.label[this.variables[0]].before.strings.form,0):this.label[this.variables[0]].after&&(e=this.state.getTerm(this.common_term,this.label[this.variables[0]].after.strings.form,0))),!this.state.locale[this.state.opt.lang].terms[this.common_term]||!e||this.variables.length<2)this.common_term=!1;else for(var i=0,r=this.variables.length-1;i<r;i+=1){var s=this.variables[i],n=this.variables[i+1];if(this.freeters[s].length||this.freeters[n].length){if(this.etal_spec[s].freeters!==this.etal_spec[n].freeters||!this._compareNamesets(this.freeters[s],this.freeters[n]))return void(this.common_term=!1);1}if(this.persons[s].length!==this.persons[n].length)return void(this.common_term=!1);for(var a=0,o=this.persons[s].length;a<o;a+=1)if(this.etal_spec[s].persons[a]!==this.etal_spec[n].persons[a]||!this._compareNamesets(this.persons[s][a],this.persons[n][a]))return void(this.common_term=!1)}},p.NameOutput.prototype._compareNamesets=function(t,e){if(t.length!==e.length)return!1;for(var i=0,r=e.length;i<r;i+=1){e[i];for(var s=0,n=p.NAME_PARTS.length;s<n;s+=1){var a=p.NAME_PARTS[s];if(!t[i]||t[i][a]!=e[i][a])return!1}}return!0},t.exports=p,p.NameOutput.prototype.constrainNames=function(){var t;this.names_count=0;for(var e=0,i=this.variables.length;e<i;e+=1){var r=this.variables[e];t=this.nameset_base+e,this.freeters[r].length&&(this.state.tmp.names_max.push(this.freeters[r].length,"literal"),this._imposeNameConstraints(this.freeters,this.freeters_count,r,t),this.names_count+=this.freeters[r].length),this.institutions[r].length&&(this.state.tmp.names_max.push(this.institutions[r].length,"literal"),this._imposeNameConstraints(this.institutions,this.institutions_count,r,t),this.persons[r]=this.persons[r].slice(0,this.institutions[r].length),this.names_count+=this.institutions[r].length);for(var s=0,n=this.persons[r].length;s<n;s+=1)this.persons[r][s].length&&(this.state.tmp.names_max.push(this.persons[r][s].length,"literal"),this._imposeNameConstraints(this.persons[r],this.persons_count[r],s,t),this.names_count+=this.persons[r][s].length)}},p.NameOutput.prototype._imposeNameConstraints=function(t,e,i,r){var s=t[i],n=this.state.tmp["et-al-min"];this.state.tmp.suppress_decorations?this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]?n=this.state.tmp.disambig_request.names[r]:e[i]>=this.etal_min&&(n=this.etal_use_first):(this.state.tmp.disambig_request&&this.state.tmp.disambig_request.names[r]>this.etal_use_first?n=e[i]<this.etal_min?e[i]:this.state.tmp.disambig_request.names[r]:e[i]>=this.etal_min&&(n=this.etal_use_first),this.etal_use_last&&n>this.etal_min-2&&(n=this.etal_min-2));var a=this.etal_min>=this.etal_use_first,o=e[i]>n;n>e[i]&&(n=s.length),a&&o&&(this.etal_use_last?t[i]=s.slice(0,n).concat(s.slice(-1)):t[i]=s.slice(0,n)),this.state.tmp.disambig_settings.names[r]=t[i].length,this.state.disambiguate.padBase(this.state.tmp.disambig_settings)},t.exports=p,p.NameOutput.prototype.disambigNames=function(){for(var t,e=0,i=this.variables.length;e<i;e+=1){var r=this.variables[e];if(t=this.nameset_base+e,this.freeters[r].length&&this._runDisambigNames(this.freeters[r],t),this.institutions[r].length){void 0===this.state.tmp.disambig_settings.givens[t]&&(this.state.tmp.disambig_settings.givens[t]=[]);for(var s=0,n=this.institutions[r].length;s<n;s+=1)void 0===this.state.tmp.disambig_settings.givens[t][s]&&this.state.tmp.disambig_settings.givens[t].push(2)}for(s=0,n=this.persons[r].length;s<n;s+=1)this.persons[r][s].length&&this._runDisambigNames(this.persons[r][s],t)}},p.NameOutput.prototype._runDisambigNames=function(t,e){var i,r,s,n,a,o;for(n=0,a=t.length;n<a;n+=1)if(t[n].given||t[n].family){if(r=this.state.inheritOpt(this.name,"initialize-with"),this.state.registry.namereg.addname(""+this.Item.id,t[n],n),void 0===this.state.tmp.disambig_settings.givens[e])for(var l=0,u=e+1;l<u;l+=1)this.state.tmp.disambig_settings.givens[l]||(this.state.tmp.disambig_settings.givens[l]=[]);if(void 0===this.state.tmp.disambig_settings.givens[e][n]&&(i=this.state.inheritOpt(this.name,"form","name-form","long"),s=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,0,i,r),this.state.tmp.disambig_settings.givens[e].push(s)),i=this.state.inheritOpt(this.name,"form","name-form","long"),o=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,0,i,r),this.state.tmp.disambig_request){var c=this.state.tmp.disambig_settings.givens[e][n];1!==c||"by-cite"!==this.state.citation.opt["givenname-disambiguation-rule"]||void 0!==this.state.inheritOpt(this.name,"initialize-with")&&void 0!==t[n].given||(c=2),s=c,this.state.opt["disambiguate-add-givenname"]&&t[n].given&&(s=this.state.registry.namereg.evalname(""+this.Item.id,t[n],n,s,this.state.inheritOpt(this.name,"form","name-form","long"),this.state.inheritOpt(this.name,"initialize-with")))}else s=o;!this.state.tmp.just_looking&&this.item&&this.item.position===p.POSITION_FIRST&&o>s&&(s=o),this.state.tmp.sort_key_flag||(this.state.tmp.disambig_settings.givens[e][n]=s,"string"!=typeof r||void 0!==this.name.strings.initialize&&!0!==this.name.strings.initialize||(this.state.tmp.disambig_settings.use_initials=!0))}},t.exports=p,p.NameOutput.prototype.getEtAlConfig=function(){var t=this.item;this["et-al"]={},this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].single=this.state.output.pop(),this["et-al"].single.strings.suffix=this.etal_suffix,this["et-al"].single.strings.prefix=this.etal_prefix_single,this.state.output.append(this.etal_term,this.etal_style,!0),this["et-al"].multiple=this.state.output.pop(),this["et-al"].multiple.strings.suffix=this.etal_suffix,this["et-al"].multiple.strings.prefix=this.etal_prefix_multiple,void 0===t&&(t={}),t.position?(this.state.inheritOpt(this.name,"et-al-subsequent-min")?this.etal_min=this.state.inheritOpt(this.name,"et-al-subsequent-min"):this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.inheritOpt(this.name,"et-al-subsequent-use-first")?this.etal_use_first=this.state.inheritOpt(this.name,"et-al-subsequent-use-first"):this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first")):(this.state.tmp["et-al-min"]?this.etal_min=this.state.tmp["et-al-min"]:this.etal_min=this.state.inheritOpt(this.name,"et-al-min"),this.state.tmp["et-al-use-first"]?this.etal_use_first=this.state.tmp["et-al-use-first"]:this.etal_use_first=this.state.inheritOpt(this.name,"et-al-use-first"),"boolean"==typeof this.state.tmp["et-al-use-last"]?this.etal_use_last=this.state.tmp["et-al-use-last"]:this.etal_use_last=this.state.inheritOpt(this.name,"et-al-use-last")),this.state.tmp["et-al-min"]||(this.state.tmp["et-al-min"]=this.etal_min)},t.exports=p,p.NameOutput.prototype.setEtAlParameters=function(){var t,e,i,r;for(t=0,e=this.variables.length;t<e;t+=1){var s=this.variables[t];for(void 0===this.etal_spec[s]&&(this.etal_spec[s]={freeters:0,institutions:0,persons:[]}),this.etal_spec[this.nameset_base+t]=this.etal_spec[s],this.freeters[s].length&&this._setEtAlParameter("freeters",s),i=0,r=this.persons[s].length;i<r;i+=1)void 0===this.etal_spec[s][i]&&(this.etal_spec[s].persons[i]=0),this._setEtAlParameter("persons",s,i);this.institutions[s].length&&this._setEtAlParameter("institutions",s)}},p.NameOutput.prototype._setEtAlParameter=function(t,e,i){var r,s;"persons"===t?(r=this.persons[e][i],s=this.persons_count[e][i]):(r=this[t][e],s=this[t+"_count"][e]),r.length<s&&!this.state.tmp.sort_key_flag?this.etal_use_last?"persons"===t?this.etal_spec[e].persons[i]=2:this.etal_spec[e][t]=2:"persons"===t?this.etal_spec[e].persons[i]=1:this.etal_spec[e][t]=1:"persons"===t?this.etal_spec[e].persons[i]=0:this.etal_spec[e][t]=0},t.exports=p,p.NameOutput.prototype.renderAllNames=function(){for(var t,e=0,i=this.variables.length;e<i;e+=1){var r=this.variables[e];(this.freeters[r].length||this.institutions[r].length)&&(this.state.tmp.group_context.tip.condition||(this.state.tmp.just_did_number=!1)),t=this.nameset_base+e,this.freeters[r].length&&(this.freeters[r]=this._renderNames(r,this.freeters[r],t));for(var s=0,n=this.institutions[r].length;s<n;s+=1)this.persons[r][s]=this._renderNames(r,this.persons[r][s],t,s)}this.renderInstitutionNames()},p.NameOutput.prototype.renderInstitutionNames=function(){for(var t=0,e=this.variables.length;t<e;t+=1)for(var i=this.variables[t],r=0,s=this.institutions[i].length;r<s;r+=1){var n,a=this.institutions[i][r],o={primary:"locale-orig",secondary:!1,tertiary:!1};if(n=this.state.tmp.extension?["sort"]:a.isInstitution||a.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var l=["primary","secondary","tertiary"],u=0,c=l.length;u<c&&!(n.length-1<u);u+=1)n[u]&&(o[l[u]]="locale-"+n[u]);else o.primary="locale-translat";"bibliography"===this.state.tmp.area||"citation"===this.state.tmp.area&&"note"===this.state.opt.xclass&&this.item&&!this.item.position||(o.secondary=!1,o.tertiary=!1),this.setRenderedName(a);var p=this._renderInstitutionName(i,a,o,r);this.institutions[i][r]=p}},p.NameOutput.prototype._renderInstitutionName=function(t,e,i,r){var s,n,a,o,l,u=this.getName(e,i.primary,!0),c=u.name,p=u.usedOrig;if(c&&(c=this.fixupInstitution(c,t,r)),m=!1,i.secondary){var m=(u=this.getName(e,i.secondary,!1,p)).name;p=u.usedOrig,m&&(m=this.fixupInstitution(m,t,r))}s=!1,i.tertiary&&(s=(u=this.getName(e,i.tertiary,!1,p)).name)&&(s=this.fixupInstitution(s,t,r));var h={l:{pri:!1,sec:!1,ter:!1},s:{pri:!1,sec:!1,ter:!1}};switch(c&&(h.l.pri=c.long,h.s.pri=c.short.length?c.short:c.long),m&&(h.l.sec=m.long,h.s.sec=m.short.length?m.short:m.long),s&&(h.l.ter=s.long,h.s.ter=s.short.length?s.short:s.long),this.institution.strings["institution-parts"]){case"short":c.short.length?(a=this._getShortStyle(),o=[this._composeOneInstitutionPart([h.s.pri,h.s.sec,h.s.ter],i,a,t)]):(n=this._getLongStyle(c,t,r),o=[this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],i,n,t)]);break;case"short-long":n=this._getLongStyle(c,t,r),a=this._getShortStyle(),o=[l=this._renderOneInstitutionPart(c.short,a),this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],i,n,t)];break;case"long-short":n=this._getLongStyle(c,t,r),a=this._getShortStyle(),l=this._renderOneInstitutionPart(c.short,a),o=[this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],i,n,t),l];break;default:n=this._getLongStyle(c,t,r),o=[this._composeOneInstitutionPart([h.l.pri,h.l.sec,h.l.ter],i,n,t)]}var f=this._join(o," ");return this.state.tmp.name_node.children.push(f),f},p.NameOutput.prototype._composeOneInstitutionPart=function(t,e,i,r){var s,n,a,o,l=!1,u=!1,c=!1;if(t[0]){if(s=p.Util.cloneToken(i),this.state.opt.citeAffixes[e.primary]&&"<i>"===this.state.opt.citeAffixes.institutions[e.primary].prefix){for(var m=!1,h=0,f=s.decorations.length;h<f;h+=1)"@font-style"===i.decorations[h][0]&&"italic"===s.decorations[h][1]&&(m=!0);m||s.decorations.push(["@font-style","italic"])}l=this._renderOneInstitutionPart(t[0],s)}if(t[1]&&(u=this._renderOneInstitutionPart(t[1],i)),t[2]&&(c=this._renderOneInstitutionPart(t[2],i)),u||c){this.state.output.openLevel("empty"),this.state.output.append(l),n=p.Util.cloneToken(i),e.secondary&&(n.strings.prefix=this.state.opt.citeAffixes.institutions[e.secondary].prefix,n.strings.suffix=this.state.opt.citeAffixes.institutions[e.secondary].suffix,n.strings.prefix||(n.strings.prefix=" "));var d=new p.Token;d.decorations.push(["@font-style","normal"]),d.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(d),this.state.output.append(u,n),this.state.output.closeLevel(),a=p.Util.cloneToken(i),e.tertiary&&(a.strings.prefix=this.state.opt.citeAffixes.institutions[e.tertiary].prefix,a.strings.suffix=this.state.opt.citeAffixes.institutions[e.tertiary].suffix,a.strings.prefix||(a.strings.prefix=" "));var g=new p.Token;g.decorations.push(["@font-style","normal"]),g.decorations.push(["@font-weight","normal"]),this.state.output.openLevel(g),this.state.output.append(c,a),this.state.output.closeLevel(),this.state.output.closeLevel(),o=this.state.output.pop()}else o=l;return o},p.NameOutput.prototype._renderOneInstitutionPart=function(t,e){for(var i=0,r=t.length;i<r;i+=1)if(t[i]){var s=t[i];if(this.state.tmp.strip_periods)s=s.replace(/\./g,"");else for(var n=0,a=e.decorations.length;n<a;n+=1)if("@strip-periods"===e.decorations[n][0]&&"true"===e.decorations[n][1]){s=s.replace(/\./g,"");break}this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),"!here>>>"===s?t[i]=!1:(this.state.output.append(s,e,!0),t[i]=this.state.output.pop())}return void 0===this.institution.strings["part-separator"]&&(this.institution.strings["part-separator"]=this.state.tmp.name_delimiter),this._join(t,this.institution.strings["part-separator"])},p.NameOutput.prototype._renderNames=function(t,e,i,r){var s=!1;if(e.length){for(var n=[],a=0,o=e.length;a<o;a+=1){var l,u=e[a],c={primary:"locale-orig",secondary:!1,tertiary:!1};if(l=this.state.tmp.extension?["sort"]:u.isInstitution||u.literal?this.state.opt["cite-lang-prefs"].institutions:this.state.opt["cite-lang-prefs"].persons)for(var m=["primary","secondary","tertiary"],h=0,f=m.length;h<f&&!(l.length-1<h);h+=1)c[m[h]]="locale-"+l[h];else c.primary="locale-translat";if((this.state.tmp.sort_key_flag||"bibliography"!==this.state.tmp.area&&("citation"!==this.state.tmp.area||"note"!==this.state.opt.xclass||!this.item||this.item.position))&&(c.secondary=!1,c.tertiary=!1),this.setRenderedName(u),u.literal||u.isInstitution)n.push(this._renderInstitutionName(t,u,c,r));else{var d=this._renderPersonalName(t,u,c,i,a,r),g=p.Util.cloneToken(this.name);this.state.output.append(d,g,!0),n.push(this.state.output.pop())}}s=this.joinPersons(n,i,r)}return s},p.NameOutput.prototype._renderPersonalName=function(t,e,i,r,s,n){var a=this.getName(e,i.primary,!0),o=this._renderOnePersonalName(a.name,r,s,n),l=!1;i.secondary&&(a=this.getName(e,i.secondary,!1,a.usedOrig)).name&&(l=this._renderOnePersonalName(a.name,r,s,n));var u,c=!1;if(i.tertiary&&(a=this.getName(e,i.tertiary,!1,a.usedOrig)).name&&(c=this._renderOnePersonalName(a.name,r,s,n)),l||c){this.state.output.openLevel("empty"),this.state.output.append(o);var m=new p.Token;i.secondary&&(m.strings.prefix=this.state.opt.citeAffixes.persons[i.secondary].prefix,m.strings.suffix=this.state.opt.citeAffixes.persons[i.secondary].suffix,m.strings.prefix||(m.strings.prefix=" ")),this.state.output.append(l,m);var h=new p.Token;i.tertiary&&(h.strings.prefix=this.state.opt.citeAffixes.persons[i.tertiary].prefix,h.strings.suffix=this.state.opt.citeAffixes.persons[i.tertiary].suffix,h.strings.prefix||(h.strings.prefix=" ")),this.state.output.append(c,h),this.state.output.closeLevel(),u=this.state.output.pop()}else u=o;return u},p.NameOutput.prototype._isRomanesque=function(t){var e,i=2;return t.family.replace(/\"/g,"").match(p.ROMANESQUE_REGEXP)||(i=0),!i&&t.given&&t.given.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&(i=1),2==i&&(t.multi&&t.multi.main?e=t.multi.main.slice(0,2):this.Item.language&&(e=this.Item.language.slice(0,2)),["ja","zh"].indexOf(e)>-1&&(i=1)),i},p.NameOutput.prototype._renderOnePersonalName=function(t,e,i,r){var s=t,n=this._droppingParticle(s,e,r),a=this._familyName(s),o=this._nonDroppingParticle(s),l=this._givenName(s,e,i),u=this._nameSuffix(s);!1===l&&(n=!1,u=!1);var c,m=this.state.inheritOpt(this.name,"sort-separator");m||(m=""),c=s["comma-suffix"]?", ":" ";var h=this._isRomanesque(s);var f,d,g,b,v=function t(e){return!!e&&("string"==typeof e.blobs?["’","'","-"," "].indexOf(e.blobs.slice(-1))>-1:t(e.blobs[e.blobs.length-1]))}(o);if(0===h)f=this._join([o,a,l],"");else if(1===h||s["static-ordering"])f=this._join([o,a,l]," ");else if(s["reverse-ordering"])f=this._join([l,o,a]," ");else if(this.state.tmp.sort_key_flag)"never"===this.state.opt["demote-non-dropping-particle"]?(g=this._join([o,a,n]," "),d=this._join([g,l],this.state.opt.sort_sep),f=this._join([d,u]," ")):(b=this._join([l,n,o]," "),d=this._join([a,b],this.state.opt.sort_sep),f=this._join([d,u]," "));else if("all"===this.state.inheritOpt(this.name,"name-as-sort-order")||"first"===this.state.inheritOpt(this.name,"name-as-sort-order")&&0===i&&(0===r||void 0===r))["Lord","Lady"].indexOf(s.given)>-1&&(m=", "),["always","display-and-sort"].indexOf(this.state.opt["demote-non-dropping-particle"])>-1?(b=this._join([l,n],s["comma-dropping-particle"]+" "),(b=this._join([b,o]," "))&&this.given&&(b.strings.prefix=this.given.strings.prefix,b.strings.suffix=this.given.strings.suffix),a&&this.family&&(a.strings.prefix=this.family.strings.prefix,a.strings.suffix=this.family.strings.suffix),d=this._join([a,b],m),f=this._join([d,u],m)):((g=v?this._join([o,a],""):this._join([o,a]," "))&&this.family&&(g.strings.prefix=this.family.strings.prefix,g.strings.suffix=this.family.strings.suffix),(b=this._join([l,n],s["comma-dropping-particle"]+" "))&&this.given&&(b.strings.prefix=this.given.strings.prefix,b.strings.suffix=this.given.strings.suffix),d=this._join([g,b],m),f=this._join([d,u],m));else{s["dropping-particle"]&&s.family&&!s["non-dropping-particle"]&&["'","ʼ","’","-"].indexOf(s["dropping-particle"].slice(-1))>-1&&(a=this._join([n,a],""),n=!1),this.state.tmp.term_predecessor;var y=" ";this.state.inheritOpt(this.name,"initialize-with")&&this.state.inheritOpt(this.name,"initialize-with").match(/[\u00a0\ufeff]/)&&["fr","ru","cs"].indexOf(this.state.opt["default-locale"][0].slice(0,2))>-1&&(y=" "),v?(b=this._join([o,a],""),b=this._join([n,b],y)):b=this._join([n,o,a],y),(b=this._join([b,u],c))&&this.family&&(b.strings.prefix=this.family.strings.prefix,b.strings.suffix=this.family.strings.suffix),l&&this.given&&(l.strings.prefix=this.given.strings.prefix,l.strings.suffix=this.given.strings.suffix),b.strings.prefix&&(s["comma-dropping-particle"]=""),f=this._join([l,b],s["comma-dropping-particle"]+y)}return this.state.tmp.group_context.tip.variable_success=!0,this.state.tmp.can_substitute.replace(!1,p.LITERAL),this.state.tmp.term_predecessor=!0,this.state.tmp.name_node.children.push(f),f},p.NameOutput.prototype._normalizeNameInput=function(t){var e={literal:t.literal,family:t.family,isInstitution:t.isInstitution,given:t.given,suffix:t.suffix,"comma-suffix":t["comma-suffix"],"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],"static-ordering":t["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":t["reverse-ordering"],"full-form-always":t["full-form-always"],"parse-names":t["parse-names"],"comma-dropping-particle":"",block_initialize:t.block_initialize,multi:t.multi};return this._parseName(e),e},p.NameOutput.prototype._stripPeriods=function(t,e){var i=this[t+"_decor"];if(e)if(this.state.tmp.strip_periods)e=e.replace(/\./g,"");else if(i)for(var r=0,s=i.decorations.length;r<s;r+=1)if("@strip-periods"===i.decorations[r][0]&&"true"===i.decorations[r][1]){e=e.replace(/\./g,"");break}return e},p.NameOutput.prototype._nonDroppingParticle=function(t){var e=t["non-dropping-particle"];e&&this.state.tmp.sort_key_flag&&(e=e.replace(/[\'\u2019]/,""));var i=this._stripPeriods("family",e);return!!this.state.output.append(i,this.family_decor,!0)&&this.state.output.pop()},p.NameOutput.prototype._droppingParticle=function(t,e,i){var r=t["dropping-particle"];r&&this.state.tmp.sort_key_flag&&(r=r.replace(/[\'\u2019]/,""));var s=this._stripPeriods("given",r);if(t["dropping-particle"]&&t["dropping-particle"].match(/^et.?al[^a-z]$/))this.state.inheritOpt(this.name,"et-al-use-last")?void 0===i?this.etal_spec[e].freeters=2:this.etal_spec[e].persons=2:void 0===i?this.etal_spec[e].freeters=1:this.etal_spec[e].persons=1,t["comma-dropping-particle"]="";else if(this.state.output.append(s,this.given_decor,!0))return this.state.output.pop();return!1},p.NameOutput.prototype._familyName=function(t){var e=this._stripPeriods("family",t.family);return!!this.state.output.append(e,this.family_decor,!0)&&this.state.output.pop()},p.NameOutput.prototype._givenName=function(t,e,i){var r,s,n="long"!==this.state.inheritOpt(this.name,"form","name-form","long"),a=!(!1===this.state.inheritOpt(this.name,"initialize")),o="string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&!t.block_initialize;this.state.tmp.area.slice(0,12);if(t["full-form-always"])s=2;else{r=n?0:o?1:2;var l=this.state.tmp.disambig_settings.givens[e][i];s=l>r?l:r}var u=this.state.citation.opt["givenname-disambiguation-rule"];if(u&&"-with-initials"===u.slice(-14)&&(o=!0),t.family&&1===s)if(o){var c=this.state.inheritOpt(this.name,"initialize-with",!1,"");t.given=p.Util.Names.initializeWith(this.state,t.given,c,!a)}else t.given=p.Util.Names.unInitialize(this.state,t.given);else{if(0===s)return!1;2===s&&(t.given=p.Util.Names.unInitialize(this.state,t.given))}var m=this._stripPeriods("given",t.given);return!!this.state.output.append(m,this.given_decor,!0)&&this.state.output.pop()},p.NameOutput.prototype._nameSuffix=function(t){var e,i=t.suffix;"string"==typeof this.state.inheritOpt(this.name,"initialize-with")&&(i=p.Util.Names.initializeWith(this.state,t.suffix,this.state.inheritOpt(this.name,"initialize-with"),!0));var r="";return(i=this._stripPeriods("family",i))&&"."===i.slice(-1)&&(i=i.slice(0,-1),r="."),!!this.state.output.append(i,"empty",!0)&&((e=this.state.output.pop()).strings.suffix=r+e.strings.suffix,e)},p.NameOutput.prototype._getLongStyle=function(t,e,i){var r;return(r=t.short.length&&this.institutionpart["long-with-short"]?this.institutionpart["long-with-short"]:this.institutionpart.long)||(r=new p.Token),r},p.NameOutput.prototype._getShortStyle=function(){return this.institutionpart.short?this.institutionpart.short:new p.Token},p.NameOutput.prototype._parseName=function(t){var e;if(!t["parse-names"]&&void 0!==t["parse-names"])return t;t.family&&!t.given&&t.isInstitution&&(t.literal=t.family,t.family=void 0,t.isInstitution=void 0),t.family&&'"'===t.family.slice(0,1)&&'"'===t.family.slice(-1)||!t["parse-names"]&&void 0!==t["parse-names"]?(t.family=t.family.slice(1,-1),e=!0,t["parse-names"]=0):e=!1,this.state.opt.development_extensions.parse_names&&!t["non-dropping-particle"]&&t.family&&!e&&t.given&&(t["static-particles"]||p.parseParticles(t,!0))},p.NameOutput.prototype.getName=function(t,e,i,r){if(r&&"locale-orig"===e)return{name:!1,usedOrig:r};t.family||(t.family=""),t.given||(t.given="");var s={};s["static-ordering"]=this.getStaticOrder(t);var n,a=!0;if("locale-orig"!==e&&(a=!1,t.multi))for(var o=this.state.opt[e],l=0,u=o.length;l<u;l+=1)if(n=o[l],t.multi._key[n]){a=!0;var c=t.isInstitution;(t=t.multi._key[n]).isInstitution=c,(s=this.getNameParams(n)).transliterated=!0;break}return a||(n=!1,t.multi&&t.multi.main?n=t.multi.main:this.Item.language&&(n=this.Item.language),n&&(s=this.getNameParams(n))),i||a?(t.family||(t.family=""),t.given||(t.given=""),!(t={family:t.family,given:t.given,"non-dropping-particle":t["non-dropping-particle"],"dropping-particle":t["dropping-particle"],suffix:t.suffix,"static-ordering":s["static-ordering"],"static-particles":t["static-particles"],"reverse-ordering":s["reverse-ordering"],"full-form-always":s["full-form-always"],"parse-names":t["parse-names"],"comma-suffix":t["comma-suffix"],"comma-dropping-particle":t["comma-dropping-particle"],transliterated:s.transliterated,block_initialize:s["block-initialize"],literal:t.literal,isInstitution:t.isInstitution,multi:t.multi}).literal&&!t.given&&t.family&&t.isInstitution&&(t.literal=t.family),t.literal&&(delete t.family,delete t.given),{name:t=this._normalizeNameInput(t),usedOrig:r||!a}):{name:!1,usedOrig:r}},p.NameOutput.prototype.getNameParams=function(t){var e={},i=p.localeResolve(this.Item.language,this.state.opt["default-locale"][0]),r=this.state.locale[i.best]?i.best:this.state.opt["default-locale"][0],s=this.state.locale[r].opts["name-as-sort-order"],n=this.state.locale[r].opts["name-as-reverse-order"],a=this.state.locale[r].opts["name-never-short"],o=t.split("-")[0];return s&&s[o]&&(e["static-ordering"]=!0,e["reverse-ordering"]=!1),n&&n[o]&&(e["reverse-ordering"]=!0,e["static-ordering"]=!1),a&&a[o]&&(e["full-form-always"]=!0),e["static-ordering"]&&(e["block-initialize"]=!0),e},p.NameOutput.prototype.setRenderedName=function(t){if("bibliography"===this.state.tmp.area){for(var e="",i=0,r=p.NAME_PARTS.length;i<r;i+=1)t[p.NAME_PARTS[i]]&&(e+=t[p.NAME_PARTS[i]]);this.state.tmp.rendered_name.push(e)}},p.NameOutput.prototype.fixupInstitution=function(t,e,i){this.state.sys.getHumanForm&&"legal_case"===this.Item.type&&"authority"===e&&(t.literal=this.state.sys.getHumanForm(this.Item.jurisdiction,t.literal,!0)),t=this._splitInstitution(t,e,i),this.institution.strings["reverse-order"]&&t.long.reverse();var r=t.long,s=t.long.slice(),n=!1;if(this.state.sys.getAbbreviation)for(var a=this.Item.jurisdiction,o=0,l=r.length;o<l;o+=1){var u=r[o];this.state.sys.normalizeAbbrevsKey&&(u=this.state.sys.normalizeAbbrevsKey(e,r[o])),a=this.state.transform.loadAbbreviation(a,"institution-part",u),this.state.transform.abbrevs[a]["institution-part"][u]&&(s[o]=this.state.transform.abbrevs[a]["institution-part"][u],n=!0)}return t.short=n?s:[],t},p.NameOutput.prototype.getStaticOrder=function(t,e){var i=!1;return!e&&t["static-ordering"]?i=!0:0===this._isRomanesque(t)?i=!0:(!t.multi||!t.multi.main)&&this.Item.language&&["vi","hu"].indexOf(this.Item.language)>-1?i=!0:t.multi&&t.multi.main&&["vi","hu"].indexOf(t.multi.main.slice(0,2))>-1?i=!0:this.state.opt["auto-vietnamese-names"]&&p.VIETNAMESE_NAMES.exec(t.family+" "+t.given)&&p.VIETNAMESE_SPECIALS.exec(t.family+t.given)&&(i=!0),i},p.NameOutput.prototype._splitInstitution=function(t,e,i){var r={};!t.literal&&t.family&&(t.literal=t.family,delete t.family);var s=t.literal.replace(/\s*\|\s*/g,"|");if(s=s.split("|"),"short"===this.institution.strings.form&&this.state.sys.getAbbreviation)for(var n=this.Item.jurisdiction,a=s.length;a>0;a+=-1){var o=s.slice(0,a).join("|"),l=o;if(this.state.sys.normalizeAbbrevsKey&&(l=this.state.sys.normalizeAbbrevsKey(e,o)),n=this.state.transform.loadAbbreviation(n,"institution-entire",l),this.state.transform.abbrevs[n]["institution-entire"][l]){var u=this.state.transform.abbrevs[n]["institution-entire"][l],c=(u=this.state.transform.quashCheck(u)).split(/>>[0-9]{4}>>/),p=u.match(/>>([0-9]{4})>>/);if(u=c.pop(),c.length>0&&this.Item["original-date"]&&this.Item["original-date"].year)for(var m=p.length-1;m>0&&!(parseInt(this.Item["original-date"].year,10)>=parseInt(p[m],10));m+=-1)u=c.pop();s=[u=u.replace(/\s*\|\s*/g,"|")];break}}return s.reverse(),r.long=this._trimInstitution(s,e,i),r},p.NameOutput.prototype._trimInstitution=function(t,e,i){var r=!1,s=!1,n=t.slice(),a=!1;return this.institution&&(void 0!==this.institution.strings["use-first"]&&(r=this.institution.strings["use-first"]),void 0!==this.institution.strings["stop-last"]?a=this.institution.strings["stop-last"]:"authority"===e&&this.state.tmp.authority_stop_last&&(a=this.state.tmp.authority_stop_last),a&&(n=n.slice(0,a),t=t.slice(0,a)),void 0!==this.institution.strings["use-last"]&&(s=this.institution.strings["use-last"]),"authority"===e&&(a&&(this.state.tmp.authority_stop_last=a),s&&(this.state.tmp.authority_stop_last+=-1*s))),!1===r&&(0===this.persons[e].length&&(r=this.institution.strings["substitute-use-first"]),r||(r=0)),!1===s&&(s=r?0:t.length),r>t.length-s&&(r=t.length-s),t=t.slice(0,r),n=n.slice(r),s&&(s>n.length&&(s=n.length),s&&(t=t.concat(n.slice(n.length-s)))),t},t.exports=p,p.PublisherOutput=function(t,e){this.state=t,this.group_tok=e,this.varlist=[]},p.PublisherOutput.prototype.render=function(){this.clearVars(),this.composeAndBlob(),this.composeElements(),this.composePublishers(),this.joinPublishers()},p.PublisherOutput.prototype.composeAndBlob=function(){this.and_blob={};var t=!1;"text"===this.group_tok.strings.and?t=this.state.getTerm("and"):"symbol"===this.group_tok.strings.and&&(t="&");var e=new p.Token;e.strings.suffix=" ",e.strings.prefix=" ",this.state.output.append(t,e,!0);var i=this.state.output.pop();e.strings.prefix=this.group_tok.strings["subgroup-delimiter"],this.state.output.append(t,e,!0);var r=this.state.output.pop();this.and_blob.single=!1,this.and_blob.multiple=!1,t&&("always"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?this.and_blob.single=r:"never"===this.group_tok.strings["subgroup-delimiter-precedes-last"]?(this.and_blob.single=i,this.and_blob.multiple=i):(this.and_blob.single=i,this.and_blob.multiple=r))},p.PublisherOutput.prototype.composeElements=function(){for(var t=0;t<2;t+=1)for(var e=["publisher","publisher-place"][t],i=0,r=this["publisher-list"].length;i<r;i+=1){var s=this[e+"-list"][i],n=this[e+"-token"];this.state.output.append(s,n,!0),this[e+"-list"][i]=this.state.output.pop()}},p.PublisherOutput.prototype.composePublishers=function(){for(var t,e=0,i=this["publisher-list"].length;e<i;e+=1){t=[this[this.varlist[0]+"-list"][e],this[this.varlist[1]+"-list"][e]],this["publisher-list"][e]=this._join(t,this.group_tok.strings.delimiter)}},p.PublisherOutput.prototype.joinPublishers=function(){var t=this["publisher-list"],e=(this.name_delimiter,this._join(t,this.group_tok.strings["subgroup-delimiter"],this.and_blob.single,this.and_blob.multiple,this.group_tok));this.state.output.append(e,"literal")},p.PublisherOutput.prototype._join=p.NameOutput.prototype._join,p.PublisherOutput.prototype._getToken=p.NameOutput.prototype._getToken,p.PublisherOutput.prototype.clearVars=function(){this.state.tmp["publisher-list"]=!1,this.state.tmp["publisher-place-list"]=!1,this.state.tmp["publisher-group-token"]=!1,this.state.tmp["publisher-token"]=!1,this.state.tmp["publisher-place-token"]=!1},t.exports=p,p.evaluateLabel=function(t,e,i,r){var s;"locator"===t.strings.term?(r&&r.label&&(s="sub verbo"===r.label?"sub-verbo":r.label),s||(s="page")):s=t.strings.term;var n=t.strings.plural;if("number"!=typeof n){var a="locator"===t.strings.term?r:i;e.processNumber(!1,a,t.strings.term,i.type),n=e.tmp.shadow_numbers[t.strings.term].plural,e.tmp.shadow_numbers[t.strings.term].labelForm||e.tmp.shadow_numbers[t.strings.term].labelDecorations||(e.tmp.shadow_numbers[t.strings.term].labelForm=t.strings.form,e.tmp.shadow_numbers[t.strings.term].labelCapitalizeIfFirst=t.strings.capitalize_if_first,e.tmp.shadow_numbers[t.strings.term].labelDecorations=t.decorations.slice()),["locator","number","page"].indexOf(t.strings.term)>-1&&e.tmp.shadow_numbers[t.strings.term].label&&(s=e.tmp.shadow_numbers[t.strings.term].label),t.decorations&&(e.opt.development_extensions.csl_reverse_lookup_support||e.sys.csl_reverse_lookup_support)&&(t.decorations.reverse(),t.decorations.push(["@showid","true",t.cslid]),t.decorations.reverse())}return p.castLabel(e,t,s,n,p.TOLERANT)},p.castLabel=function(t,e,i,r,s){var n=e.strings.form,a=e.strings.capitalize_if_first;t.tmp.group_context.tip.label_form&&"static"!==n&&(n=t.tmp.group_context.tip.label_form),t.tmp.group_context.tip.label_capitalize_if_first&&(a=t.tmp.group_context.tip.label_capitalize_if_first);var o=t.getTerm(i,n,r,!1,s,e.default_locale);if(a&&(o=p.Output.Formatters["capitalize-first"](t,o)),t.tmp.strip_periods)o=o.replace(/\./g,"");else for(var l=0,u=e.decorations.length;l<u;l+=1)if("@strip-periods"===e.decorations[l][0]&&"true"===e.decorations[l][1]){o=o.replace(/\./g,"");break}return o},t.exports=p,p.Node.name={build:function(t,e){var i,r;[p.SINGLETON,p.START].indexOf(this.tokentype)>-1&&(void 0===t.tmp.root?(r=void 0,t.tmp.root="citation"):r=t.tmp.root,t.inheritOpt(this,"et-al-subsequent-min")&&t.inheritOpt(this,"et-al-subsequent-min")!==t.inheritOpt(this,"et-al-min")&&(t.opt.update_mode=p.POSITION),t.inheritOpt(this,"et-al-subsequent-use-first")&&t.inheritOpt(this,"et-al-subsequent-use-first")!==t.inheritOpt(this,"et-al-use-first")&&(t.opt.update_mode=p.POSITION),t.tmp.root=r,i=function(t,e){t.tmp.etal_term="et-al",t.tmp.name_delimiter=t.inheritOpt(this,"delimiter","name-delimiter",", "),t.tmp["delimiter-precedes-et-al"]=t.inheritOpt(this,"delimiter-precedes-et-al"),"text"===t.inheritOpt(this,"and")?this.and_term=t.getTerm("and","long",0):"symbol"===t.inheritOpt(this,"and")&&(t.opt.development_extensions.expect_and_symbol_form?this.and_term=t.getTerm("and","symbol",0):this.and_term="&"),t.tmp.and_term=this.and_term,p.STARTSWITH_ROMANESQUE_REGEXP.test(this.and_term)?(this.and_prefix_single=" ",this.and_prefix_multiple=", ","string"==typeof t.tmp.name_delimiter&&(this.and_prefix_multiple=t.tmp.name_delimiter),this.and_suffix=" "):(this.and_prefix_single="",this.and_prefix_multiple="",this.and_suffix=""),"always"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_single=t.tmp.name_delimiter:"never"===t.inheritOpt(this,"delimiter-precedes-last")?this.and_prefix_multiple&&(this.and_prefix_multiple=" "):"after-inverted-name"===t.inheritOpt(this,"delimiter-precedes-last")&&(this.and_prefix_single&&(this.and_prefix_single=t.tmp.name_delimiter),this.and_prefix_multiple&&(this.and_prefix_multiple=" ")),this.and={},t.inheritOpt(this,"and")?(t.output.append(this.and_term,"empty",!0),this.and.single=t.output.pop(),this.and.single.strings.prefix=this.and_prefix_single,this.and.single.strings.suffix=this.and_suffix,t.output.append(this.and_term,"empty",!0),this.and.multiple=t.output.pop(),this.and.multiple.strings.prefix=this.and_prefix_multiple,this.and.multiple.strings.suffix=this.and_suffix):t.tmp.name_delimiter&&(this.and.single=new p.Blob(t.tmp.name_delimiter),this.and.single.strings.prefix="",this.and.single.strings.suffix="",this.and.multiple=new p.Blob(t.tmp.name_delimiter),this.and.multiple.strings.prefix="",this.and.multiple.strings.suffix=""),this.ellipsis={},t.inheritOpt(this,"et-al-use-last")&&(this.ellipsis_term="…",this.ellipsis_prefix_single=" ",this.ellipsis_prefix_multiple=t.inheritOpt(this,"delimiter","name-delimiter",", "),this.ellipsis_suffix=" ",this.ellipsis.single=new p.Blob(this.ellipsis_term),this.ellipsis.single.strings.prefix=this.ellipsis_prefix_single,this.ellipsis.single.strings.suffix=this.ellipsis_suffix,this.ellipsis.multiple=new p.Blob(this.ellipsis_term),this.ellipsis.multiple.strings.prefix=this.ellipsis_prefix_multiple,this.ellipsis.multiple.strings.suffix=this.ellipsis_suffix),void 0===t.tmp["et-al-min"]&&(t.tmp["et-al-min"]=t.inheritOpt(this,"et-al-min")),void 0===t.tmp["et-al-use-first"]&&(t.tmp["et-al-use-first"]=t.inheritOpt(this,"et-al-use-first")),void 0===t.tmp["et-al-use-last"]&&(t.tmp["et-al-use-last"]=t.inheritOpt(this,"et-al-use-last")),t.nameOutput.name=this},t.build.name_flag=!0,this.execs.push(i));e.push(this)}},t.exports=p,p.Node["name-part"]={build:function(t,e){t.build[this.strings.name]=this}},t.exports=p,p.Node.names={build:function(t,e){var i;if(this.tokentype!==p.START&&this.tokentype!==p.SINGLETON||(p.Util.substituteStart.call(this,t,e),t.build.substitute_level.push(1)),this.tokentype===p.SINGLETON&&(t.build.names_variables.push(this.variables),i=function(t,e,i){var r=t.nameOutput.labelVariable;t.nameOutput.reinit(this,r)},this.execs.push(i)),this.tokentype===p.START&&(t.build.names_flag=!0,t.build.names_level+=1,1===t.build.names_level&&(t.build.names_variables=[],t.build.name_label={}),t.build.names_variables.push(this.variables),i=function(t,e,i){t.tmp.can_substitute.push(!0),t.parallel.StartVariable("names",this.variables[0]),t.nameOutput.init(this)},this.execs.push(i)),this.tokentype===p.END){for(var r=0;r<3;r+=1){var s=["family","given","et-al"][r];this[s]=t.build[s],1===t.build.names_level&&(t.build[s]=void 0)}this.label=t.build.name_label,1===t.build.names_level&&(t.build.name_label={}),t.build.names_level+=-1,t.build.names_variables.pop(),i=function(t,e,i){t.tmp.etal_node?this.etal_style=t.tmp.etal_node:this.etal_style="empty",this.etal_term=t.getTerm(t.tmp.etal_term,"long",0),p.STARTSWITH_ROMANESQUE_REGEXP.test(this.etal_term)?(this.etal_prefix_single=" ",this.etal_prefix_multiple=t.tmp.name_delimiter,"always"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_single=t.tmp.name_delimiter:"never"===t.tmp["delimiter-precedes-et-al"]?this.etal_prefix_multiple=" ":"after-inverted-name"===t.tmp["delimiter-precedes-et-al"]&&(this.etal_prefix_single=t.tmp.name_delimiter,this.etal_prefix_multiple=" "),this.etal_suffix=""):(this.etal_prefix_single="",this.etal_prefix_multiple="",this.etal_suffix="");for(var r=0;r<3;r+=1){var s=["family","given"][r];t.nameOutput[s]=this[s]}t.nameOutput.with=this.with;var n="",a="";p.STARTSWITH_ROMANESQUE_REGEXP.test("with")&&(n=" ",a=" ");var o={};o.single=new p.Blob("with"),o.single.strings.suffix=a,o.multiple=new p.Blob("with"),o.multiple.strings.suffix=a,"always"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),o.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"contextual"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=n,o.multiple.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter")):"after-inverted-name"===t.inheritOpt(t.nameOutput.name,"delimiter-precedes-last")?(o.single.strings.prefix=t.inheritOpt(this,"delimiter","names-delimiter"),o.multiple.strings.prefix=n):(o.single.strings.prefix=n,o.multiple.strings.prefix=n),t.nameOutput.with=o,t.nameOutput.label=this.label,t.nameOutput.etal_style=this.etal_style,t.nameOutput.etal_term=this.etal_term,t.nameOutput.etal_prefix_single=this.etal_prefix_single,t.nameOutput.etal_prefix_multiple=this.etal_prefix_multiple,t.nameOutput.etal_suffix=this.etal_suffix,t.nameOutput.outputNames(),t.tmp["et-al-use-first"]=void 0,t.tmp["et-al-min"]=void 0,t.tmp["et-al-use-last"]=void 0},this.execs.push(i),i=function(t,e){t.tmp.can_substitute.pop()||t.tmp.can_substitute.replace(!1,p.LITERAL),t.parallel.CloseVariable("names"),1===t.tmp.can_substitute.mystack.length&&(t.tmp.can_block_substitute=!1)},this.execs.push(i),t.build.name_flag=!1}e.push(this),this.tokentype!==p.END&&this.tokentype!==p.SINGLETON||(t.build.substitute_level.pop(),p.Util.substituteEnd.call(this,t,e))}},t.exports=p,p.Node.number={build:function(t,e){var i;p.Util.substituteStart.call(this,t,e),"roman"===this.strings.form?this.formatter=t.fun.romanizer:"ordinal"===this.strings.form?this.formatter=t.fun.ordinalizer:"long-ordinal"===this.strings.form&&(this.formatter=t.fun.long_ordinalizer),void 0===this.successor_prefix&&(this.successor_prefix=t[t.build.area].opt.layout_delimiter),void 0===this.splice_prefix&&(this.splice_prefix=t[t.build.area].opt.layout_delimiter),i=function(t,e,i){if(0!==this.variables.length){if(void 0===i)i={};var r;if("locator"!==(r=this.variables[0])||!t.tmp.just_looking){t.parallel.StartVariable(this.variables[0]),"locator"===this.variables[0]?t.parallel.AppendToVariable(e.section):t.parallel.AppendToVariable(e[this.variables[0]]);new RegExp("(?:&|, | and |"+t.getTerm("page-range-delimiter")+")");"collection-number"===r&&"legal_case"===e.type&&(t.tmp.renders_collection_number=!0);e[this.variables[0]];if(t.tmp.group_context.tip.force_suppress)return!1;"locator"===r?t.processNumber(this,i,r,e.type):(!t.tmp.group_context.tip.condition&&e[r]&&(t.tmp.just_did_number=!0),t.processNumber(this,e,r,e.type)),p.Util.outputNumericField(t,r,e.id),t.parallel.CloseVariable("number"),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&(t.tmp.done_vars.push(this.variables_real[0]),t.tmp.group_context.tip.done_vars.push(this.variables_real[0]))}}},this.execs.push(i),e.push(this),p.Util.substituteEnd.call(this,t,e)}},t.exports=p,p.Node.sort={build:function(t,e){if(e=t[t.build.root+"_sort"].tokens,this.tokentype===p.START){"citation"===t.build.area&&(t.parallel.use_parallels=!1,t.opt.sort_citations=!0),t.build.area=t.build.root+"_sort",t.build.extension="_sort";var i=function(t,e){if(t.opt.has_layout_locale){for(var i,r=p.localeResolve(e.language,t.opt["default-locale"][0]),s=t[t.tmp.area.slice(0,-5)].opt.sort_locales,n=0,a=s.length;n<a&&((i=s[n][r.bare])||(i=s[n][r.best]),!i);n+=1);i||(i=t.opt["default-locale"][0]),t.tmp.lang_sort_hold=t.opt.lang,t.opt.lang=i}};this.execs.push(i)}if(this.tokentype===p.END){t.build.area=t.build.root,t.build.extension="";i=function(t,e){t.opt.has_layout_locale&&(t.opt.lang=t.tmp.lang_sort_hold,delete t.tmp.lang_sort_hold)};this.execs.push(i)}e.push(this)}},t.exports=p,p.Node.substitute={build:function(t,e){var i;this.tokentype===p.START&&(i=function(t,e){t.tmp.can_block_substitute=!0,t.tmp.value.length&&t.tmp.can_substitute.replace(!1,p.LITERAL)},this.execs.push(i)),e.push(this)}},t.exports=p,p.Node.text={build:function(t,e){var i,r,s,n,a,o,l,u,c,m,h,f;if(this.postponed_macro){var d=p.Util.cloneToken(this);d.name="group",d.tokentype=p.START,p.Node.group.build.call(d,t,e),p.expandMacro.call(t,this,e);var g=p.Util.cloneToken(this);g.name="group",g.tokentype=p.END,"juris-locator-label"===this.postponed_macro&&(g.isJurisLocatorLabel=!0),p.Node.group.build.call(g,t,e)}else{if(p.Util.substituteStart.call(this,t,e),this.variables_real||(this.variables_real=[]),this.variables||(this.variables=[]),r="long",s=0,this.strings.form&&(r=this.strings.form),this.strings.plural&&(s=this.strings.plural),"citation-number"===this.variables_real[0]||"year-suffix"===this.variables_real[0]||"citation-label"===this.variables_real[0])"citation-number"===this.variables_real[0]?("citation"===t.build.root&&(t.opt.update_mode=p.NUMERIC),"bibliography"===t.build.root&&(t.opt.bib_mode=p.NUMERIC),"bibliography_sort"===t.build.area&&(t.opt.citation_number_sort_used=!0),"citation-number"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,this.splice_prefix=t[t.build.area].opt.layout_delimiter,i=function(t,e,i){if(n=""+e.id,!t.tmp.just_looking){if(i&&i["author-only"]){t.tmp.element_trace.replace("do-not-suppress-me");var r=t.getTerm("reference","long","singular");void 0===r&&(r="reference"),f=p.Output.Formatters["capitalize-first"](t,r),t.output.append(f+" "),t.tmp.last_element_trace=!0}i&&i["suppress-author"]&&(t.tmp.last_element_trace&&t.tmp.element_trace.replace("suppress-me"),t.tmp.last_element_trace=!1),a=t.registry.registry[n].seq,t.opt.citation_number_slug?t.output.append(t.opt.citation_number_slug,this):(o=new p.NumericBlob(!1,a,this,e.id),t.tmp.in_cite_predecessor&&(t.tmp.just_looking,o.suppress_splice_prefix=!0),t.output.append(o,"literal"))}},this.execs.push(i)):"year-suffix"===this.variables_real[0]?(t.opt.has_year_suffix=!0,"year-suffix-ranged"===t[t.tmp.area].opt.collapse&&(this.range_prefix=t.getTerm("citation-range-delimiter")),this.successor_prefix=t[t.build.area].opt.layout_delimiter,t[t.tmp.area].opt["year-suffix-delimiter"]&&(this.successor_prefix=t[t.build.area].opt["year-suffix-delimiter"]),i=function(t,e){if(t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&!t.tmp.just_looking){a=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),t[t.tmp.area].opt.cite_group_delimiter&&(this.successor_prefix=t[t.tmp.area].opt.cite_group_delimiter),o=new p.NumericBlob(!1,a,this,e.id),l=new p.Util.Suffixator(p.SUFFIX_CHARS),o.setFormatter(l),t.output.append(o,"literal"),u=!1;for(var i=0,r=t.tmp.group_context.mystack.length;i<r;i++){var s=t.tmp.group_context.mystack[i];if(!s.variable_success&&(s.variable_attempt||!s.variable_attempt&&!s.term_intended)){u=!0;break}}c=t[t.tmp.area].opt["year-suffix-delimiter"],u&&c&&!t.tmp.sort_key_flag&&(t.tmp.splice_delimiter=t[t.tmp.area].opt["year-suffix-delimiter"])}},this.execs.push(i)):"citation-label"===this.variables_real[0]&&(t.opt.has_year_suffix=!0,i=function(t,e){(m=e["citation-label"])||(m=t.getCitationLabel(e)),t.tmp.just_looking||(h="",t.registry.registry[e.id]&&!1!==t.registry.registry[e.id].disambig.year_suffix&&(a=parseInt(t.registry.registry[e.id].disambig.year_suffix,10),h=t.fun.suffixator.format(a)),m+=h),t.output.append(m,this)},this.execs.push(i));else if(this.strings.term)i=function(t,e,i){var n,a=t.opt.gender[e.type],o=this.strings.term;if(""!==(o=t.getTerm(o,r,s,a,p.TOLERANT,this.default_locale))&&(t.tmp.group_context.tip.term_intended=!0),p.UPDATE_GROUP_CONTEXT_CONDITION(t,o),n=t.tmp.term_predecessor||"in-text"===t.opt.class&&"citation"===t.tmp.area?o:p.Output.Formatters["capitalize-first"](t,o),t.tmp.strip_periods)n=n.replace(/\./g,"");else for(var l=0,u=this.decorations.length;l<u;l+=1)if("@strip-periods"===this.decorations[l][0]&&"true"===this.decorations[l][1]){n=n.replace(/\./g,"");break}t.output.append(n,this)},this.execs.push(i),t.build.term=!1,t.build.form=!1,t.build.plural=!1;else if(this.variables_real.length){if(i=function(t,e,i){"locator"!==this.variables_real[0]&&(t.tmp.have_collapsed=!1);var s=this.variables[0];"title"!==s||"short"!==r&&!e["title-short"]||(s="title-short"),t.parallel.StartVariable(s),t.parallel.AppendToVariable(e[s],s),!t.tmp.group_context.tip.condition&&e[this.variables[0]]&&(t.tmp.just_did_number=!1)},this.execs.push(i),p.MULTI_FIELDS.indexOf(this.variables_real[0])>-1||["language-name","language-name-original"].indexOf(this.variables_real[0])>-1){var b=this.variables[0],v=!1,y=!1,_=!1;"short"===r||["country","jurisdiction"].indexOf(this.variables_real[0])>-1?"container-title"===this.variables_real[0]?y="journalAbbreviation":"title"===this.variables_real[0]&&(y="title-short"):b=!1,t.build.extension?_=!0:(_=!0,v=!0),i=t.transform.getOutputFunction(this.variables,b,v,y,_)}else i=p.CITE_FIELDS.indexOf(this.variables_real[0])>-1?function(t,e,i){i&&i[this.variables[0]]&&(t.processNumber(this,i,this.variables[0],e.type),p.Util.outputNumericField(t,this.variables[0],e.id),["locator","locator-extra"].indexOf(this.variables_real[0])>-1&&!t.tmp.just_looking&&t.tmp.done_vars.push(this.variables_real[0]))}:["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume"].indexOf(this.variables_real[0])>-1?function(t,e){t.processNumber(this,e,this.variables[0],e.type),p.Util.outputNumericField(t,this.variables[0],e.id)}:["URL","DOI"].indexOf(this.variables_real[0])>-1?function(t,e){var i;if(this.variables[0]&&(i=t.getVariable(e,this.variables[0],r)))if(t.opt.development_extensions.wrap_url_and_doi)if(this.decorations.length&&this.decorations[0][0]==="@"+this.variables[0])t.output.append(i,this,!1,!1,!0);else if("DOI"===this.variables_real[0]&&"https://doi.org/"===this.strings.prefix){var s,n=p.Util.cloneToken(this),a=new p.Blob(null,null,"url-wrapper");a.decorations.push(["@DOI","true"]),s=(i=i.replace(/^https?:\/\/doi\.org\//,"")).match(/^https?:\/\//)?"":"https://doi.org/";var o=new p.Blob(s),l=new p.Blob(i);n.strings.prefix="",a.push(o),a.push(l),t.output.append(a,n,!1,!1,!0)}else this.decorations=[["@"+this.variables[0],"true"]].concat(this.decorations),t.output.append(i,this,!1,!1,!0);else{if(this.decorations.length)for(var u=this.decorations.length-1;u>-1;u--)this.decorations[u][0]==="@"+this.variables[0]&&(this.decorations=this.decorations.slice(0,u).concat(this.decorations.slice(u+1)));t.output.append(i,this,!1,!1,!0)}}:"section"===this.variables_real[0]?function(t,e){var i;(i=t.getVariable(e,this.variables[0],r))&&t.output.append(i,this)}:"hereinafter"===this.variables_real[0]?function(t,e){var i=t.transform.abbrevs.default.hereinafter[e.id];i&&(t.output.append(i,this),t.tmp.group_context.tip.variable_success=!0)}:function(t,e){var i;this.variables[0]&&(i=t.getVariable(e,this.variables[0],r))&&(i=(i=""+i).split("\\").join(""),t.output.append(i,this))};this.execs.push(i),i=function(t,e){t.parallel.CloseVariable("text")},this.execs.push(i)}else this.strings.value&&(i=function(t,e){t.tmp.group_context.tip.term_intended=!0,p.UPDATE_GROUP_CONTEXT_CONDITION(t,this.strings.value,!0),t.output.append(this.strings.value,this)},this.execs.push(i));e.push(this),p.Util.substituteEnd.call(this,t,e)}}},t.exports=p,p.Attributes={},p.Attributes["@genre"]=function(t,e){e=e.replace("-"," ");this.tests.push(function(t,i){return e===t.genre})},p.Attributes["@disambiguate"]=function(t,e){if("true"===e){t.opt.has_disambiguate=!0;var i=function(e,i){if("bibliography"===t.tmp.area){if(t.tmp.disambiguate_count<t.registry.registry[e.id].disambig.disambiguate)return t.tmp.disambiguate_count+=1,!0}else if(t.tmp.disambiguate_maxMax+=1,t.tmp.disambig_settings.disambiguate&&t.tmp.disambiguate_count<t.tmp.disambig_settings.disambiguate)return t.tmp.disambiguate_count+=1,!0;return!1};this.tests.push(i)}else if("check-ambiguity-and-backreference"===e){i=function(e,i){return!!(t.registry.registry[e.id].disambig.disambiguate&&t.registry.registry[e.id]["citation-count"]>1)};this.tests.push(i)}},p.Attributes["@is-numeric"]=function(t,e,i){for(var r=e.split(/\s+/),s=function(e){return function(i,r){var s=i;if(["locator","locator-extra"].indexOf(e)>-1&&(s=r),void 0===s)return!1;if(p.NUMERIC_VARIABLES.indexOf(e)>-1){if(t.tmp.shadow_numbers[e]||t.processNumber(!1,s,e,i.type),s[e]&&t.tmp.shadow_numbers[e].numeric)return!0}else if(["title","locator-extra","version"].indexOf(e)>-1&&s[e]&&s[e].slice(-1)===""+parseInt(s[e].slice(-1),10))return!0;return!1}},n=0;n<r.length;n+=1)this.tests.push(s(r[n]))},p.Attributes["@is-uncertain-date"]=function(t,e){for(var i=e.split(/\s+/),r=function(t){return function(e,i){return!(!e[t]||!e[t].circa)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},p.Attributes["@locator"]=function(t,e){for(var i=e.replace("sub verbo","sub-verbo"),r=function(e){return function(i,r){var s;return t.processNumber(!1,r,"locator"),s=t.tmp.shadow_numbers.locator.label,e===s}},s=0,n=(i=i.split(/\s+/)).length;s<n;s+=1)this.tests.push(r(i[s]))},p.Attributes["@position"]=function(t,e){t.opt.update_mode=p.POSITION,t.parallel.use_parallels=null;for(var i=e.split(/\s+/),r=function(e){return function(i,r){if("bibliography"===t.tmp.area)return!1;if(r&&void 0===r.position&&(r.position=0),r&&"number"==typeof r.position){if(0===r.position&&0===e)return!0;if(e>0&&r.position>=e)return!0}else if(0===e)return!0;return!1}},s=0,n=i.length;s<n;s+=1){var a;"first"===(a=i[s])?a=p.POSITION_FIRST:"subsequent"===a?a=p.POSITION_SUBSEQUENT:"ibid"===a?a=p.POSITION_IBID:"ibid-with-locator"===a&&(a=p.POSITION_IBID_WITH_LOCATOR),"near-note"===a?this.tests.push(function(t,e){return!!(e&&e.position>=p.POSITION_SUBSEQUENT&&e["near-note"])}):"far-note"===a?this.tests.push(function(t,e){return!(!e||e.position!=p.POSITION_SUBSEQUENT||e["near-note"])}):this.tests.push(r(a))}},p.Attributes["@type"]=function(t,e){for(var i=e.split(/\s+/),r=function(t){return function(e,i){return!!(e.type===t)}},s=[],n=0,a=i.length;n<a;n+=1)s.push(r(i[n]));this.tests.push(t.fun.match.any(this,t,s))},p.Attributes["@variable"]=function(t,e){var i;if(this.variables=e.split(/\s+/),this.variables_real=this.variables.slice(),"label"===this.name&&this.variables[0])this.strings.term=this.variables[0];else if(["names","date","text","number"].indexOf(this.name)>-1)i=function(t,e,i){for(var r=this.variables.length-1;r>-1;r+=-1)this.variables.pop();r=0;for(var s=this.variables_real.length;r<s;r++)-1!==t.tmp.done_vars.indexOf(this.variables_real[r])||i&&"legal_case"===e.type&&i["suppress-author"]&&"title"===this.variables_real[r]||this.variables.push(this.variables_real[r]),t.tmp.can_block_substitute&&t.tmp.done_vars.push(this.variables_real[r])},this.execs.push(i),i=function(t,e,i){for(var r=!1,s=0,n=this.variables.length;s<n;s++){var a=this.variables[s];if(["authority","committee"].indexOf(a)>-1&&"string"==typeof e[a]&&"names"===this.name){var o=!0,l=e[a].split(/\s*;\s*/),u={};if(e.multi&&e.multi._keys[a])for(var c in e.multi._keys[a])if(u[c]=e.multi._keys[a][c].split(/\s*;\s*/),u[c].length!==l.length){o=!1;break}o||(l=[e[a]],u=e.multi._keys[a]);for(var m=0,h=l.length;m<h;m++){var f={literal:l[m],multi:{_key:{}}};for(var c in u){var d={literal:u[c][m]};f.multi._key[c]=d}l[m]=f}e[a]=l}if("short"!==this.strings.form||e[a]||("title"===a?a="title-short":"container-title"===a&&(a="journalAbbreviation")),"year-suffix"===a){r=!0;break}if(p.DATE_VARIABLES.indexOf(a)>-1){if(t.opt.development_extensions.locator_date_and_revision&&"locator-date"===a){r=!0;break}if(e[a]){for(var g in e[a])if((-1!==this.dateparts.indexOf(g)||"literal"===g)&&e[a][g]){r=!0;break}if(r)break}}else{if("locator"===a){i&&i.locator&&(r=!0);break}if("locator-extra"===a){i&&i["locator-extra"]&&(r=!0);break}if(["citation-number","citation-label"].indexOf(a)>-1){r=!0;break}if("first-reference-note-number"===a){i&&i["first-reference-note-number"]&&(r=!0);break}if("hereinafter"===a){t.transform.abbrevs.default.hereinafter[e.id]&&t.sys.getAbbreviation&&e.id&&(r=!0);break}if("object"==typeof e[a]){e[a].length;break}if("string"==typeof e[a]&&e[a]){r=!0;break}if("number"==typeof e[a]){r=!0;break}}if(r)break}if(r){for(s=0,n=this.variables_real.length;s<n;s++){"citation-number"===(a=this.variables_real[s])&&"bibliography"===t.tmp.area||(t.tmp.cite_renders_content=!0),t.tmp.group_context.tip.variable_success=!0,t.tmp.can_substitute.value()&&"bibliography"===t.tmp.area&&"string"==typeof e[a]&&(t.tmp.name_node.top=t.output.current.value(),t.tmp.rendered_name.push(e[a]))}t.tmp.can_substitute.replace(!1,p.LITERAL)}else t.tmp.group_context.tip.variable_attempt=!0},this.execs.push(i);else if(["if","else-if","condition"].indexOf(this.name)>-1)for(var r=function(e){return function(i,r){var s=i;if(r&&["locator","locator-extra","first-reference-note-number","locator-date"].indexOf(e)>-1&&(s=r),"hereinafter"===e&&t.sys.getAbbreviation&&s.id){if(t.transform.abbrevs.default.hereinafter[s.id])return!0}else if(s[e]){if("number"==typeof s[e]||"string"==typeof s[e])return!0;if("object"==typeof s[e])for(var n in s[e])if(s[e][n])return!0}return!1}},s=0,n=this.variables.length;s<n;s+=1)this.tests.push(r(this.variables[s]))},p.Attributes["@page"]=function(t,e){for(var i=e.replace("sub verbo","sub-verbo"),r=function(e){return function(i,r){var s;return t.processNumber(!1,i,"page",i.type),s=t.tmp.shadow_numbers.page.label?"sub verbo"===t.tmp.shadow_numbers.page.label?"sub-verbo":t.tmp.shadow_numbers.page.label:"page",e===s}},s=0,n=(i=i.split(/\s+/)).length;s<n;s+=1)this.tests.push(r(i[s]))},p.Attributes["@number"]=function(t,e){for(var i=e.replace("sub verbo","sub-verbo"),r=function(e){return function(i,r){var s;return t.processNumber(!1,i,"number",i.type),s=t.tmp.shadow_numbers.number.label?"sub verbo"===t.tmp.shadow_numbers.number.label?"sub-verbo":t.tmp.shadow_numbers.number.label:"number",e===s}},s=0,n=(i=i.split(/\s+/)).length;s<n;s+=1)this.tests.push(r(i[s]))},p.Attributes["@jurisdiction"]=function(t,e){for(var i=e.split(/\s+/),r=0,s=i.length;r<s;r+=1)i[r]=i[r].split(":");var n=function(t){return function(e,i){if(!e.jurisdiction)return!1;for(var r=e.jurisdiction.split(":"),s=0,n=r.length;s<n;s+=1)r[s]=r[s].split(":");for(s=t.length;s>0;s+=-1){if(t.slice(0,s).join(":")!==r.slice(0,s).join(":"))return!1}return!0}};for(r=0,s=i.length;r<s;r+=1){var a=i[r].slice();this.tests.push(n(a))}},p.Attributes["@context"]=function(t,e){this.tests.push(function(i,r){return t.tmp.area.slice(0,e.length)===e})},p.Attributes["@has-year-only"]=function(t,e){for(var i=e.split(/\s+/),r=function(t){return function(e,i){var r=e[t];return!(!r||r.month||r.season)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},p.Attributes["@has-to-month-or-season"]=function(t,e){for(var i=e.split(/\s+/),r=function(t){return function(e,i){var r=e[t];return!(!r||!r.month&&!r.season||r.day)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},p.Attributes["@has-day"]=function(t,e){for(var i=e.split(/\s+/),r=function(t){return function(e,i){var r=e[t];return!(!r||!r.day)}},s=0,n=i.length;s<n;s+=1)this.tests.push(r(i[s]))},p.Attributes["@subjurisdictions"]=function(t,e){var i=parseInt(e,10);this.tests.push(function(t,e){var r=0;return t.jurisdiction&&(r=t.jurisdiction.split(":").length),r&&(r+=-1),r>=i})},p.Attributes["@is-plural"]=function(t,e){this.tests.push(function(i,r){var s=i[e];if(s&&s.length){for(var n=0,a=0,o=!1,l=0,u=s.length;l<u;l+=1)t.opt.development_extensions.spoof_institutional_affiliations&&(s[l].literal||s[l].isInstitution&&s[l].family&&!s[l].given)?(a+=1,o=!1):(n+=1,o=!0);if(n>1)return!0;if(a>1)return!0;if(a&&o)return!0}return!1})},p.Attributes["@locale"]=function(t,e){var i,r,s,n=t.opt["default-locale"][0];if("layout"===this.name){if(this.locale_raw=e,this.tokentype===p.START){var a=e.split(/\s+/),o={},l=p.localeResolve(a[0],n);l.generic?o[l.generic]=l.best:o[l.best]=l.best;for(var u=1,c=a.length;u<c;u+=1){var m=p.localeResolve(a[u],n);m.generic?o[m.generic]=l.best:o[m.best]=l.best}t[t.build.area].opt.sort_locales.push(o)}t.opt.has_layout_locale=!0}else{s=e.split(/\s+/);var h=[];for(u=0,c=s.length;u<c;u+=1)r=s[u],i=p.localeResolve(r,n),2===s[u].length&&h.push(i.bare),t.localeConfigure(i,!0),s[u]=i;var f=s.slice();this.tests.push(function(t,e,i){return function(r,s){var n,a,o;for([],n=!1,o=r.language?r.language:e,a=p.localeResolve(o,e),u=0,c=t.length;u<c;u+=1)if(a.best===t[u].best){n=!0;break}return!n&&i.indexOf(a.bare)>-1&&(n=!0),n}}(f,n,h))}},p.Attributes["@authority-residue"]=function(t,e){var i;this.tests.push((i="true"===e,function(e,r){return e.authority&&e.authority[0]&&e.authority[0].family&&e.authority[0].family.split("|").length+t.tmp.authority_stop_last>0?i:!i}))},p.Attributes["@locale-internal"]=function(t,e){var i,r,s,n,a;for(s=e.split(/\s+/),this.locale_bares=[],n=0,a=s.length;n<a;n+=1)r=s[n],i=p.localeResolve(r,t.opt["default-locale"][0]),2===s[n].length&&this.locale_bares.push(i.bare),t.localeConfigure(i),s[n]=i;this.locale_default=t.opt["default-locale"][0],this.locale=s[0].best,this.locale_list=s.slice();this.tests.push(function(e){return function(i,s){var o;[],o=!1;var l=!1;if(i.language&&(r=i.language,(l=p.localeResolve(r,t.opt["default-locale"][0])).best===t.opt["default-locale"][0]&&(l=!1)),l){for(n=0,a=e.locale_list.length;n<a;n+=1)if(l.best===e.locale_list[n].best){t.opt.lang=e.locale,t.tmp.last_cite_locale=e.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=e.locale,o=!0;break}!o&&e.locale_bares.indexOf(l.bare)>-1&&(t.opt.lang=e.locale,t.tmp.last_cite_locale=e.locale,t.output.openLevel("empty"),t.output.current.value().new_locale=e.locale,o=!0)}return o}}(this))},p.Attributes["@is-parallel"]=function(t,e){for(var i=e.split(" "),r=0,s=i.length;r<s;r+=1)"true"===i[r]?i[r]=!0:"false"===i[r]&&(i[r]=!1);this.strings.set_parallel_condition=i},p.Attributes["@jurisdiction-depth"]=function(t,e){this.strings.jurisdiction_depth=parseInt(e,10)},p.Attributes["@require"]=function(t,e){this.strings.require=e},p.Attributes["@reject"]=function(t,e){this.strings.reject=e},p.Attributes["@gender"]=function(t,e){this.gender=e},p.Attributes["@cslid"]=function(t,e){this.cslid=parseInt(e,10)},p.Attributes["@capitalize-if-first"]=function(t,e){this.strings.capitalize_if_first_override=e},p.Attributes["@label-capitalize-if-first"]=function(t,e){this.strings.label_capitalize_if_first_override=e},p.Attributes["@label-form"]=function(t,e){this.strings.label_form_override=e},p.Attributes["@part-separator"]=function(t,e){this.strings["part-separator"]=e},p.Attributes["@leading-noise-words"]=function(t,e){this["leading-noise-words"]=e},p.Attributes["@name-never-short"]=function(t,e){this["name-never-short"]=e},p.Attributes["@class"]=function(t,e){t.opt.class=e},p.Attributes["@version"]=function(t,e){t.opt.version=e},p.Attributes["@value"]=function(t,e){this.strings.value=e},p.Attributes["@name"]=function(t,e){this.strings.name=e},p.Attributes["@form"]=function(t,e){this.strings.form=e},p.Attributes["@date-parts"]=function(t,e){this.strings["date-parts"]=e},p.Attributes["@range-delimiter"]=function(t,e){this.strings["range-delimiter"]=e},p.Attributes["@macro"]=function(t,e){this.postponed_macro=e},p.Attributes["@term"]=function(t,e){this.strings.term="sub verbo"===e?"sub-verbo":e},p.Attributes["@xmlns"]=function(t,e){},p.Attributes["@lang"]=function(t,e){e&&(t.build.lang=e)},p.Attributes["@lingo"]=function(t,e){},p.Attributes["@macro-has-date"]=function(t,e){this["macro-has-date"]=!0},p.Attributes["@suffix"]=function(t,e){this.strings.suffix=e},p.Attributes["@prefix"]=function(t,e){this.strings.prefix=e},p.Attributes["@delimiter"]=function(t,e){this.strings.delimiter=e},p.Attributes["@match"]=function(t,e){this.match=e},p.Attributes["@names-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),this.strings["et-al-min"]=i},p.Attributes["@names-use-first"]=function(t,e){this.strings["et-al-use-first"]=parseInt(e,10)},p.Attributes["@names-use-last"]=function(t,e){this.strings["et-al-use-last"]="true"===e},p.Attributes["@sort"]=function(t,e){"descending"===e&&(this.strings.sort_direction=p.DESCENDING)},p.Attributes["@plural"]=function(t,e){"always"===e||"true"===e?this.strings.plural=1:"never"===e||"false"===e?this.strings.plural=0:"contextual"===e&&(this.strings.plural=!1)},p.Attributes["@has-publisher-and-publisher-place"]=function(t,e){this.strings["has-publisher-and-publisher-place"]=!0},p.Attributes["@publisher-delimiter-precedes-last"]=function(t,e){this.strings["publisher-delimiter-precedes-last"]=e},p.Attributes["@publisher-delimiter"]=function(t,e){this.strings["publisher-delimiter"]=e},p.Attributes["@publisher-and"]=function(t,e){this.strings["publisher-and"]=e},p.Attributes["@newdate"]=function(t,e){},p.Attributes["@givenname-disambiguation-rule"]=function(t,e){p.GIVENNAME_DISAMBIGUATION_RULES.indexOf(e)>-1&&(t.citation.opt["givenname-disambiguation-rule"]=e)},p.Attributes["@collapse"]=function(t,e){e&&(t[this.name].opt.collapse=e)},p.Attributes["@cite-group-delimiter"]=function(t,e){e&&(t[t.tmp.area].opt.cite_group_delimiter=e)},p.Attributes["@names-delimiter"]=function(t,e){t.setOpt(this,"names-delimiter",e)},p.Attributes["@name-form"]=function(t,e){t.setOpt(this,"name-form",e)},p.Attributes["@subgroup-delimiter"]=function(t,e){this.strings["subgroup-delimiter"]=e},p.Attributes["@subgroup-delimiter-precedes-last"]=function(t,e){this.strings["subgroup-delimiter-precedes-last"]=e},p.Attributes["@name-delimiter"]=function(t,e){t.setOpt(this,"name-delimiter",e)},p.Attributes["@et-al-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),t.setOpt(this,"et-al-min",i)},p.Attributes["@et-al-use-first"]=function(t,e){t.setOpt(this,"et-al-use-first",parseInt(e,10))},p.Attributes["@et-al-use-last"]=function(t,e){"true"===e?t.setOpt(this,"et-al-use-last",!0):t.setOpt(this,"et-al-use-last",!1)},p.Attributes["@et-al-subsequent-min"]=function(t,e){var i=parseInt(e,10);t[t.build.area].opt.max_number_of_names<i&&(t[t.build.area].opt.max_number_of_names=i),t.setOpt(this,"et-al-subsequent-min",i)},p.Attributes["@et-al-subsequent-use-first"]=function(t,e){t.setOpt(this,"et-al-subsequent-use-first",parseInt(e,10))},p.Attributes["@suppress-min"]=function(t,e){this.strings["suppress-min"]=parseInt(e,10)},p.Attributes["@suppress-max"]=function(t,e){this.strings["suppress-max"]=parseInt(e,10)},p.Attributes["@and"]=function(t,e){t.setOpt(this,"and",e)},p.Attributes["@delimiter-precedes-last"]=function(t,e){t.setOpt(this,"delimiter-precedes-last",e)},p.Attributes["@delimiter-precedes-et-al"]=function(t,e){t.setOpt(this,"delimiter-precedes-et-al",e)},p.Attributes["@initialize-with"]=function(t,e){t.setOpt(this,"initialize-with",e)},p.Attributes["@initialize"]=function(t,e){"false"===e&&t.setOpt(this,"initialize",!1)},p.Attributes["@name-as-reverse-order"]=function(t,e){this["name-as-reverse-order"]=e},p.Attributes["@name-as-sort-order"]=function(t,e){"style-options"===this.name?this["name-as-sort-order"]=e:t.setOpt(this,"name-as-sort-order",e)},p.Attributes["@sort-separator"]=function(t,e){t.setOpt(this,"sort-separator",e)},p.Attributes["@year-suffix-delimiter"]=function(t,e){t[this.name].opt["year-suffix-delimiter"]=e},p.Attributes["@after-collapse-delimiter"]=function(t,e){t[this.name].opt["after-collapse-delimiter"]=e},p.Attributes["@subsequent-author-substitute"]=function(t,e){t[this.name].opt["subsequent-author-substitute"]=e},p.Attributes["@subsequent-author-substitute-rule"]=function(t,e){t[this.name].opt["subsequent-author-substitute-rule"]=e},p.Attributes["@disambiguate-add-names"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-names"]=!0)},p.Attributes["@disambiguate-add-givenname"]=function(t,e){"true"===e&&(t.opt["disambiguate-add-givenname"]=!0)},p.Attributes["@disambiguate-add-year-suffix"]=function(t,e){"true"===e&&"numeric"!==t.opt.xclass&&(t.opt["disambiguate-add-year-suffix"]=!0)},p.Attributes["@second-field-align"]=function(t,e){"flush"!==e&&"margin"!==e||(t[this.name].opt["second-field-align"]=e)},p.Attributes["@hanging-indent"]=function(t,e){"true"===e&&(t[this.name].opt.hangingindent=2)},p.Attributes["@line-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["line-spacing"]=parseFloat(e,10))},p.Attributes["@entry-spacing"]=function(t,e){e&&e.match(/^[.0-9]+$/)&&(t[this.name].opt["entry-spacing"]=parseFloat(e,10))},p.Attributes["@near-note-distance"]=function(t,e){t[this.name].opt["near-note-distance"]=parseInt(e,10)},p.Attributes["@text-case"]=function(t,e){this.execs.push(function(t,i){"normal"===e?this.text_case_normal=!0:(this.strings["text-case"]=e,"title"===e&&(t.opt["default-locale"][0].slice(0,2),i.jurisdiction&&(this.strings["text-case"]="passthrough")))})},p.Attributes["@page-range-format"]=function(t,e){t.opt["page-range-format"]=e},p.Attributes["@year-range-format"]=function(t,e){t.opt["year-range-format"]=e},p.Attributes["@default-locale"]=function(t,e){if("style"===this.name){var i,r,s,n,a;if(a=e.match(/-x-(sort|translit|translat)-/g))for(s=0,r=a.length;s<r;s+=1)a[s]=a[s].replace(/^-x-/,"").replace(/-$/,"");for(n=[(i=e.split(/-x-(?:sort|translit|translat)-/))[0]],s=1,r=i.length;s<r;s+=1)n.push(a[s-1]),n.push(i[s]);for(r=(i=n.slice()).length,s=1;s<r;s+=2)t.opt["locale-"+i[s]].push(i[s+1].replace(/^\s*/g,"").replace(/\s*$/g,""));i.length?t.opt["default-locale"]=i.slice(0,1):t.opt["default-locale"]=["en"]}else"true"===e&&(this.default_locale=!0)},p.Attributes["@default-locale-sort"]=function(t,e){t.opt["default-locale-sort"]=e},p.Attributes["@demote-non-dropping-particle"]=function(t,e){t.opt["demote-non-dropping-particle"]=e},p.Attributes["@initialize-with-hyphen"]=function(t,e){"false"===e&&(t.opt["initialize-with-hyphen"]=!1)},p.Attributes["@institution-parts"]=function(t,e){this.strings["institution-parts"]=e},p.Attributes["@if-short"]=function(t,e){"true"===e&&(this.strings["if-short"]=!0)},p.Attributes["@substitute-use-first"]=function(t,e){this.strings["substitute-use-first"]=parseInt(e,10)},p.Attributes["@use-first"]=function(t,e){this.strings["use-first"]=parseInt(e,10)},p.Attributes["@stop-last"]=function(t,e){this.strings["stop-last"]=-1*parseInt(e,10)},p.Attributes["@use-last"]=function(t,e){this.strings["use-last"]=parseInt(e,10)},p.Attributes["@reverse-order"]=function(t,e){"true"===e&&(this.strings["reverse-order"]=!0)},p.Attributes["@display"]=function(t,e){2===t.bibliography.tokens.length&&(t.opt.using_display=!0),this.strings.cls=e},t.exports=p,p.Stack=function(t,e){this.mystack=[],(e||t)&&this.mystack.push(t),this.tip=this.mystack[0]},p.Stack.prototype.push=function(t,e){e||t?this.mystack.push(t):this.mystack.push(""),this.tip=this.mystack[this.mystack.length-1]},p.Stack.prototype.clear=function(){this.mystack=[],this.tip={}},p.Stack.prototype.replace=function(t,e){if(0===this.mystack.length)throw"Internal CSL processor error: attempt to replace nonexistent stack item with "+t;this.mystack[this.mystack.length-1]=e||t?t:"",this.tip=this.mystack[this.mystack.length-1]},p.Stack.prototype.pop=function(){var t=this.mystack.pop();return this.mystack.length?this.tip=this.mystack[this.mystack.length-1]:this.tip={},t},p.Stack.prototype.value=function(){return this.mystack.slice(-1)[0]},p.Stack.prototype.length=function(){return this.mystack.length},t.exports=p,p.Parallel=function(t){this.state=t,this.sets=new p.Stack([]),this.try_cite=!0,this.use_parallels=!1,this.midVars=["section","volume","container-title","collection-number","issue","page-first","page","number"],this.ignoreVarsLawGeneral=["first-reference-note-number","locator","label","page-first","page","genre"],this.ignoreVarsLawProceduralHistory=["issued","first-reference-note-number","locator","label","page-first","page","genre","jurisdiction"],this.ignoreVarsOrders=["first-reference-note-number"],this.ignoreVarsOther=["first-reference-note-number","locator","label","section","page-first","page"]},p.Parallel.prototype.isMid=function(t){return this.midVars.indexOf(t)>-1},p.Parallel.prototype.StartCitation=function(t,e){this.parallel_conditional_blobs_list=[],this.use_parallels&&(this.sortedItems=t,this.sortedItemsPos=-1,this.sets.clear(),this.sets.push([]),this.in_series=!0,this.delim_counter=0,this.delim_pointers=[],this.out=e||this.state.output.queue,this.master_was_neutral_cite=!0)},p.Parallel.prototype.StartCite=function(t,e,i){var r,s,n,a,o,l;if(this.use_parallels){this.sets.value().length&&this.sets.value()[0].itemId==t.id&&this.ComposeSet(),this.sortedItemsPos+=1,e&&(r=e.position),this.try_cite=!0;for(var u=!1,c=0,m=p.PARALLEL_MATCH_VARS.length;c<m;c+=1)if(t[p.PARALLEL_MATCH_VARS[c]]){u=!0;break}var h=!0,f=this.sets.value().slice(-1)[0];if(f&&f.Item){var d=f.Item.jurisdiction?f.Item.jurisdiction.split(":")[0]:"",g=t.jurisdiction?t.jurisdiction.split(":")[0]:"";f.Item.title!==t.title?h=!1:d!==g?h=!1:f.Item.type!==t.type?h=!1:["article-journal","article-magazine"].indexOf(t.type)>-1&&(this.state.opt.development_extensions.handle_parallel_articles&&f.Item["container-title"]===t["container-title"]||(h=!1))}if(h&&u&&-1!==p.PARALLEL_TYPES.indexOf(t.type)||(this.try_cite=!0,this.in_series&&(this.in_series=!1)),this.cite={},this.cite.front=[],this.cite.mid=[],this.cite.back=[],this.cite.front_collapse={},this.cite.back_forceme=[],this.cite.position=r,this.cite.Item=t,this.cite.itemId=""+t.id,this.cite.prevItemID=""+i,this.target="front",["treaty"].indexOf(t.type)>-1)this.ignoreVars=this.ignoreVarsOrders;else if(["article-journal","article-magazine"].indexOf(t.type)>-1)this.ignoreVars=this.ignoreVarsOther;else if(e&&e.prefix){this.ignoreVars=this.ignoreVarsLawProceduralHistory,this.cite.useProceduralHistory=!0;var b=this.sets.value()[this.sets.value().length-1];if(b&&b.back)for(c=b.back.length-1;c>-1;c+=-1)b.back[c]&&b[b.back[c]]&&delete b[b.back[c]]}else this.ignoreVars=this.ignoreVarsLawGeneral;if(this.sortedItems&&this.sortedItemsPos>0&&this.sortedItemsPos<this.sortedItems.length){if(n=this.sortedItems[this.sortedItemsPos][1],a=""+this.sortedItems[this.sortedItemsPos-1][1].id,o=!1,this.state.registry.registry[a].parallel==n.id){for(s=this.sortedItemsPos-1;s>-1;s+=-1)if(this.sortedItems[s][1].id==t.id){o=this.sortedItems[s][1].locator;break}l=this.sortedItems[this.sortedItemsPos][1].locator,n.position=!o&&l?p.POSITION_IBID_WITH_LOCATOR:l===o?p.POSITION_IBID:p.POSITION_IBID_WITH_LOCATOR}}else{if(!this.state.registry.registry[t.id])return this.try_cite=!1,void(this.force_collapse=!1);this.state.registry.registry[t.id].parallel=!1}this.force_collapse=!1,this.state.registry.registry[t.id].parallel&&(this.force_collapse=!0)}},p.Parallel.prototype.StartVariable=function(t,e){if(this.use_parallels&&(this.try_cite||this.force_collapse)){if(this.variable="names"===t?t+":"+this.target:t,this.ignoreVars.indexOf(t)>-1)return;"container-title"===t&&0===this.sets.value().length&&(this.master_was_neutral_cite=!1),this.data={},this.data.value="",this.data.blobs=[];var i=this.isMid(t);if("authority"===e&&"names:front"===this.variable&&this.sets.value().length){var r=this.sets.value()[this.sets.value().length-1].Item,s=!1;this.cite.Item.authority&&this.cite.Item.authority.length&&(s=this.cite.Item.authority[0].literal);var n=!1;r.authority&&r.authority.length&&(n=r.authority[0].literal),s!==n&&(this.try_cite=!0,this.in_series=!1)}else"front"===this.target&&i?this.target="mid":"mid"===this.target&&!i&&this.cite.Item.title&&"names"!==t?this.target="back":"back"===this.target&&i&&(this.try_cite=!0,this.in_series=!1);"number"===t?this.cite.front.push(this.variable):p.PARALLEL_COLLAPSING_MID_VARSET.indexOf(t)>-1?["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1?this.cite.mid.push(this.variable):this.cite.front.push(this.variable):this.cite[this.target].push(this.variable)}},p.Parallel.prototype.AppendBlobPointer=function(t){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(["article-journal","article-magazine"].indexOf(this.cite.Item.type)>-1){if(["volume","page","page-first","issue"].indexOf(this.variable)>-1)return;if("container-title"===this.variable&&this.cite.mid.length>1)return}this.variable&&(this.try_cite||this.force_collapse)&&t&&t.blobs&&(this.cite.useProceduralHistory&&"back"===this.target||this.data.blobs.push([t,t.blobs.length]))}}},p.Parallel.prototype.AppendToVariable=function(t,e){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if(this.try_cite||this.force_collapse)this.target,this.data.value+="::"+t}},p.Parallel.prototype.CloseVariable=function(){if(this.use_parallels){if(this.ignoreVars.indexOf(this.variable)>-1)return;if((this.try_cite||this.force_collapse)&&(this.cite[this.variable]=this.data,this.sets.value().length>0)){var t=this.sets.value()[this.sets.value().length-1];"front"===this.target&&"issued"===this.variable&&this.data.value&&this.master_was_neutral_cite&&(this.target="mid"),"front"===this.target?!t[this.variable]&&!this.data.value||t[this.variable]&&this.data.value===t[this.variable].value||"issued"!==this.variable&&(this.in_series=!1):"mid"===this.target?p.PARALLEL_COLLAPSING_MID_VARSET.indexOf(this.variable)>-1&&(t[this.variable]&&t[this.variable].value===this.data.value?this.cite.front_collapse[this.variable]=!0:this.cite.front_collapse[this.variable]=!1):"back"===this.target&&t[this.variable]&&this.data.value!==t[this.variable].value&&-1===this.sets.value().slice(-1)[0].back_forceme.indexOf(this.variable)&&(this.in_series=!1)}this.variable=!1}},p.Parallel.prototype.CloseCite=function(){var t,e,i,r,s,n;if(this.use_parallels&&(this.force_collapse||this.try_cite)){if(i=!1,this.cite.front_collapse["container-title"]||(i=!0),!1===this.cite.front_collapse.volume&&(i=!0),!1===this.cite.front_collapse["collection-number"]&&(i=!0),!1===this.cite.front_collapse.section&&(i=!0),i){this.cite.use_journal_info=!0,(n=this.cite.front.indexOf("section"))>-1&&(this.cite.front=this.cite.front.slice(0,n).concat(this.cite.front.slice(n+1))),(r=this.cite.front.indexOf("volume"))>-1&&(this.cite.front=this.cite.front.slice(0,r).concat(this.cite.front.slice(r+1))),(s=this.cite.front.indexOf("container-title"))>-1&&(this.cite.front=this.cite.front.slice(0,s).concat(this.cite.front.slice(s+1)));var a=this.cite.front.indexOf("collection-number");a>-1&&(this.cite.front=this.cite.front.slice(0,a).concat(this.cite.front.slice(a+1)))}if(this.in_series||this.force_collapse||this.ComposeSet(!0),0===this.sets.value().length){var o=!1;for(t=0,e=this.cite.back.length;t<e;t+=1)if("issued"===this.cite.back[t]&&this.cite.issued&&this.cite.issued.value){o=!0;break}o||this.cite.back_forceme.push("issued")}else{var l=this.cite.front.indexOf("issued");if((-1===l||this.master_was_neutral_cite)&&(this.cite.back_forceme=this.sets.value().slice(-1)[0].back_forceme),l>-1)this.sets.value()[this.sets.value().length-1].issued||(this.cite.front=this.cite.front.slice(0,l).concat(this.cite.front.slice(l+1)));this.master_was_neutral_cite&&this.cite.mid.indexOf("names:mid")>-1&&this.cite.front.push("names:mid")}this.sets.value().push(this.cite)}},p.Parallel.prototype.ComposeSet=function(t){var e,i,r;if(this.use_parallels&&(this.force_collapse||this.try_cite)){var s=this.sets.value().length;if(1===this.sets.value().length)this.in_series||(this.sets.value().pop(),this.delim_counter+=1);else{for(r=this.sets.value().length,i=0;i<r;i+=1)e=this.sets.value()[i],0===i?this.delim_counter+=1:(!e.Item.title&&e.use_journal_info?this.delim_pointers.push(!1):this.delim_pointers.push(this.delim_counter),this.delim_counter+=1),p.POSITION_FIRST===e.position&&(0===i?(this.state.registry.registry[e.itemId].master=!0,this.state.registry.registry[e.itemId].siblings=[],this.state.registry.registry[e.itemId].parallel=!1):e.prevItemID&&(this.state.registry.registry[e.prevItemID].parallel?this.state.registry.registry[e.itemId].parallel=this.state.registry.registry[e.prevItemID].parallel:this.state.registry.registry[e.itemId].parallel=e.prevItemID,this.state.registry.registry[e.itemId].siblings=this.state.registry.registry[e.prevItemID].siblings,this.state.registry.registry[e.itemId].siblings||(this.state.registry.registry[e.itemId].siblings=[],p.debug("WARNING: adding missing siblings array to registry object")),this.state.registry.registry[e.itemId].siblings.push(e.itemId)));this.sets.push([])}s<2?this.purgeGroupsIfParallel(!1):this.purgeGroupsIfParallel(!0),this.in_series=!0}},p.Parallel.prototype.PruneOutputQueue=function(){var t,e,i,r,s,n;if(this.use_parallels)for(t=this.sets.mystack.length,e=0;e<t;e+=1)if((i=this.sets.mystack[e]).length>1)for(s=i.length,r=0;r<s;r+=1)n=i[r],0===r?this.purgeVariableBlobs(n,n.back):r===i.length-1?this.purgeVariableBlobs(n,n.front.concat(n.back_forceme)):this.purgeVariableBlobs(n,n.front.concat(n.back))},p.Parallel.prototype.purgeVariableBlobs=function(t,e){var i,r,s,n,a,o;if(this.use_parallels){for(void 0===(o=this.state.output.current.value()).length&&(o=o.blobs),r=0,i=this.delim_pointers.length;r<i;r+=1)!1!==(a=this.delim_pointers[r])&&(o[a].parallel_delimiter=", ");for(r=i=e.length-1;r>-1;r+=-1)if(t[s=e[r]])for(a=t[s].blobs.length-1;a>-1;a+=-1)(n=t[s].blobs[a])[0].blobs=n[0].blobs.slice(0,n[1]).concat(n[0].blobs.slice(n[1]+1)),this.state.tmp.has_purged_parallel=!0,n[0]&&n[0].strings&&"string"==typeof n[0].strings.oops&&n[0].parent&&n[0].parent&&(n[0].parent.parent.strings.delimiter=n[0].strings.oops)}},p.Parallel.prototype.purgeGroupsIfParallel=function(t){for(var e=this.parallel_conditional_blobs_list.length-1;e>-1;e+=-1){for(var i=this.parallel_conditional_blobs_list[e],r=!0,s=0,n=i.conditions.length;s<n;s+=1)if(!i.conditions[s]!=!!t&&("master"!==i.conditions[s]||this.state.registry.registry[i.id].master)&&("servant"!==i.conditions[s]||this.state.registry.registry[i.id].parallel)){r=!1;break}if(r){for(var a=[];i.blobs.length>i.pos;)a.push(i.blobs.pop());for(a.length&&a.pop();a.length;)i.blobs.push(a.pop())}this.parallel_conditional_blobs_list.pop()}},t.exports=p,p.Util={},p.Util.Match=function(){this.any=function(t,e,i){return function(t,e){for(var r=0,s=i.length;r<s;r+=1){if(i[r](t,e))return!0}return!1}},this.none=function(t,e,i){return function(t,e){for(var r=0,s=i.length;r<s;r+=1){if(i[r](t,e))return!1}return!0}},this.all=function(t,e,i){return function(t,e){for(var r=0,s=i.length;r<s;r+=1){if(!i[r](t,e))return!1}return!0}},this[void 0]=this.all,this.nand=function(t,e,i){return function(t,e){for(var r=0,s=i.length;r<s;r+=1){if(!i[r](t,e))return!0}return!1}}},t.exports=p,p.Transform=function(t){function e(e,i,r){var s="";return t.sys.getHumanForm&&("country"===e?s=(s=t.sys.getHumanForm(i.toLowerCase(),!1,!0)).split("|")[0]:"jurisdiction"===e&&(s=t.sys.getHumanForm(i.toLowerCase(),!1,!0),s=r?"":s.split("|").slice(1).join(", "))),s}function i(t,i,r,s,n,a,o,l){var u,c="",m=p.FIELD_CATEGORY_REMAP[a];if(!m)return n;var h=a,f=n;t.sys.normalizeAbbrevsKey&&(f=t.sys.normalizeAbbrevsKey(a,n));var d=!1;if("jurisdiction"===h&&f&&(d=-1===f.indexOf(":")),t.sys.getAbbreviation){u=["jurisdiction","country","language-name","language-name-original"].indexOf(h)>-1?"default":r.jurisdiction?r.jurisdiction:"default";var g=t.transform.loadAbbreviation(u,m,f,r.type);if(t.transform.abbrevs[g][m]&&f){var b=t.transform.abbrevs[g][m][f];c="short"===i.strings.form&&b?d?"":b:e(h,f,d)}}return c||t.opt.development_extensions.require_explicit_legal_case_title_short&&"legal_case"===r.type||!s||!r[s]||!o||(c=r[s]),c||t.sys.getAbbreviation||!t.sys.getHumanForm||(c=e(h,f,d)),c||d||t.sys.getHumanForm&&"jurisdiction"===h||(c=n),c}function r(e,i){var r,s=t.opt["default-locale"][0].slice(0,2);if(r=t.opt.development_extensions.strict_text_case_locales?new RegExp("^([a-zA-Z]{2})(?:$|-.*| .*)"):new RegExp("^([a-zA-Z]{2})(?:$|-.*|.*)"),e.language){var n=(""+e.language).match(r);s=n?n[1]:"tlh"}return e.multi&&e.multi&&e.multi.main&&e.multi.main[i]&&(s=e.multi.main[i]),t.opt.development_extensions.strict_text_case_locales&&!t.opt.development_extensions.normalize_lang_keys_to_lowercase||(s=s.toLowerCase()),s}function s(e,i,s,n,a){var o,l,u,c=a,m=!1;if(!e[i])return{name:"",usedOrig:a,token:p.Util.cloneToken(this)};f={name:"",usedOrig:a,locale:r(e,i)},u=t.opt[s];var h=!1;if("locale-orig"===s)f=a?{name:"",usedOrig:a}:{name:e[i],usedOrig:!1,locale:r(e,i)},h=!0,m=!0;else if(n&&(void 0===u||0===u.length)){var f={name:e[i],usedOrig:!0,locale:r(e,i)};h=!0,m=!0}if(!h){for(var d=0,g=u.length;d<g;d+=1){if(l=(o=u[d]).split(/[\-_]/)[0],o&&e.multi&&e.multi._keys[i]&&e.multi._keys[i][o]){f.name=e.multi._keys[i][o],f.locale=o;break}if(l&&e.multi&&e.multi._keys[i]&&e.multi._keys[i][l]){f.name=e.multi._keys[i][l],f.locale=l;break}}!f.name&&n&&(f={name:e[i],usedOrig:!0,locale:r(e,i)},m=!0)}if(f.token=p.Util.cloneToken(this),["title","container-title"].indexOf(i)>-1&&!(c||f.token.strings["text-case"]&&"sentence"!==f.token.strings["text-case"]&&"normal"!==f.token.strings["text-case"])){var b=!m&&f.locale,v=i.slice(0,-5),y="sentence"===f.token.strings["text-case"];f.name=p.titlecaseSentenceOrNormal(t,e,v,b,y),delete f.token.strings["text-case"]}return f}function n(e,r,s,n){var a=e.variables[0];if(t.publisherOutput&&s){if(-1===["publisher","publisher-place"].indexOf(a))return!1;t.publisherOutput[a+"-token"]=e,t.publisherOutput.varlist.push(a);var o=s.split(/;\s*/);o.length===t.publisherOutput[a+"-list"].length&&(t.publisherOutput[a+"-list"]=o);for(var l=0,u=o.length;l<u;l+=1)o[l]=i(t,e,r,!1,o[l],n,!0);return t.tmp[a+"-token"]=e,!0}return!1}function a(e){var i=e.match(/^!([-,_a-z]+)>>>/);if(i){var r=i[1].split(",");e=e.slice(i[0].length);for(var s=0,n=r.length;s<n;s+=1)-1===t.tmp.done_vars.indexOf(r[s])&&t.tmp.done_vars.push(r[s])}return e}this.abbrevs={},this.abbrevs.default=new t.sys.AbbreviationSegments,this.getTextSubField=s,this.loadAbbreviation=function(e,i,r,s){return e||(e="default"),r?(t.sys.getAbbreviation&&((e=t.sys.getAbbreviation(t.opt.styleID,t.transform.abbrevs,e,i,r,s,!0))||(e="default")),e):(t.transform.abbrevs[e]||(t.transform.abbrevs[e]=new t.sys.AbbreviationSegments),t.transform.abbrevs[e][i]||(t.transform.abbrevs[e][i]={}),e)},this.getOutputFunction=function(e,r,o,l,u){var c,m=p.LangPrefsMap[e[0]];return c=!!m&&t.opt["cite-lang-prefs"][m],function(t,o,u,h){var f,d,g,b,v,y;if(!e[0]||!o[e[0]]&&!o[l])return null;var _={primary:!1,secondary:!1,tertiary:!1};if("_sort"===t.tmp.area.slice(-5))_.primary="locale-sort";else if(c)for(var x=["primary","secondary","tertiary"],A=0,E=x.length;A<E&&!(c.length-1<A);A+=1)c[A]&&(_[x[A]]="locale-"+c[A]);else _.primary="locale-orig";if("title-short"!==e[0]&&("bibliography"===t.tmp.area||"citation"===t.tmp.area&&"note"===t.opt.xclass&&u&&!u.position)||(_.secondary=!1,_.tertiary=!1),t.tmp["publisher-list"])return"publisher"===e[0]?t.tmp["publisher-token"]=this:"publisher-place"===e[0]&&(t.tmp["publisher-place-token"]=this),null;var O=s.call(this,o,e[0],_.primary,!0);f=O.name,d=O.locale;var w,k,S,T=O.token,I=O.usedOrig;if(n(this,o,f,r))return null;if(g=!1,v=!1,_.secondary&&(g=(O=s.call(this,o,e[0],_.secondary,!1,O.usedOrig)).name,b=O.locale,w=O.token),_.tertiary&&(v=(O=s.call(this,o,e[0],_.tertiary,!1,O.usedOrig)).name,y=O.locale,k=O.token),r&&((f=i(t,T,o,l,f,r,!0))&&(f=a(f)),g&&(g=i(t,w,o,!1,g,r,!0)),v&&(v=i(t,k,o,!1,v,r,!0))),"locale-translit"===_.primary&&(S=t.opt.citeAffixes[m][_.primary].prefix),"<i>"===S&&"title"===e[0]&&!I){var j=!1;for(A=0,E=T.decorations.length;A<E;A+=1)"@font-style"===T.decorations[A][0]&&"italic"===T.decorations[A][1]&&(j=!0);j||T.decorations.push(["@font-style","italic"])}if("en"!==d&&"title"===T.strings["text-case"]&&(T.strings["text-case"]="passthrough"),"title"===e[0]&&(f=p.demoteNoiseWords(t,f,this["leading-noise-words"])),g||v){if(t.output.openLevel("empty"),T.strings.suffix=T.strings.suffix.replace(/[ .,]+$/,""),t.output.append(f,T),g){for(w.strings.prefix=t.opt.citeAffixes[m][_.secondary].prefix,w.strings.suffix=t.opt.citeAffixes[m][_.secondary].suffix,w.strings.prefix||(w.strings.prefix=" "),A=w.decorations.length-1;A>-1;A+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(w.decorations[A].join("/"))>-1&&(w.decorations=w.decorations.slice(0,A).concat(w.decorations.slice(A+1)));"en"!==b&&"title"===w.strings["text-case"]&&(w.strings["text-case"]="passthrough");var N=new p.Token;N.decorations.push(["@font-style","normal"]),N.decorations.push(["@font-weight","normal"]),t.output.openLevel(N),t.output.append(g,w),t.output.closeLevel();var C=t.output.current.value(),D=t.output.current.value().blobs.length-1;t.parallel.use_parallels&&(t.parallel.cite.front.push(e[0]+":secondary"),t.parallel.cite[e[0]+":secondary"]={blobs:[[C,D]]})}if(v){for(k.strings.prefix=t.opt.citeAffixes[m][_.tertiary].prefix,k.strings.suffix=t.opt.citeAffixes[m][_.tertiary].suffix,k.strings.prefix||(k.strings.prefix=" "),A=k.decorations.length-1;A>-1;A+=-1)["@quotes/true","@font-style/italic","@font-style/oblique","@font-weight/bold"].indexOf(k.decorations[A].join("/"))>-1&&(k.decorations=k.decorations.slice(0,A).concat(k.decorations.slice(A+1)));"en"!==y&&"title"===k.strings["text-case"]&&(k.strings["text-case"]="passthrough");var P=new p.Token;P.decorations.push(["@font-style","normal"]),P.decorations.push(["@font-weight","normal"]),t.output.openLevel(P),t.output.append(v,k),t.output.closeLevel(),C=t.output.current.value(),D=t.output.current.value().blobs.length-1,t.parallel.use_parallels&&(t.parallel.cite.front.push(e[0]+":tertiary"),t.parallel.cite[e[0]+":tertiary"]={blobs:[[C,D]]})}t.output.closeLevel()}else t.output.append(f,T);return null}},this.quashCheck=a},t.exports=p,p.Token=function(t,e){this.name=t,this.strings={},this.strings.delimiter=void 0,this.strings.prefix="",this.strings.suffix="",this.decorations=[],this.variables=[],this.execs=[],this.tokentype=e,this.evaluator=!1,this.tests=[],this.rawtests=[],this.succeed=!1,this.fail=!1,this.next=!1},p.Util.cloneToken=function(t){var e,i,r;if("string"==typeof t)return t;for(var s in e=new p.Token(t.name,t.tokentype),t.strings)t.strings.hasOwnProperty(s)&&(e.strings[s]=t.strings[s]);if(t.decorations)for(e.decorations=[],i=0,r=t.decorations.length;i<r;i+=1)e.decorations.push(t.decorations[i].slice());return t.variables&&(e.variables=t.variables.slice()),t.execs&&(e.execs=t.execs.slice(),e.tests=t.tests.slice(),e.rawtests=t.tests.slice()),e},t.exports=p,p.AmbigConfig=function(){this.maxvals=[],this.minval=1,this.names=[],this.givens=[],this.year_suffix=!1,this.disambiguate=0},t.exports=p,p.Blob=function(t,e,i){var r,s;if(this.levelname=i,e){for(var n in this.strings={prefix:"",suffix:""},e.strings)e.strings.hasOwnProperty(n)&&(this.strings[n]=e.strings[n]);for(this.decorations=[],r=void 0===e.decorations?0:e.decorations.length,s=0;s<r;s+=1)this.decorations.push(e.decorations[s].slice())}else this.strings={},this.strings.prefix="",this.strings.suffix="",this.strings.delimiter="",this.decorations=[];this.blobs="string"==typeof t?t:t?[t]:[],this.alldecor=[this.decorations]},p.Blob.prototype.push=function(t){if("string"==typeof this.blobs)throw"Attempt to push blob onto string object";!1!==t&&(t.alldecor=t.alldecor.concat(this.alldecor),this.blobs.push(t))},t.exports=p,p.NumericBlob=function(t,e,i,r){this.id=r,this.alldecor=[],this.num=e,this.particle=t,this.blobs=e.toString(),this.status=p.START,this.strings={},i?(this.gender=i.gender,this.decorations=i.decorations,this.strings.prefix=i.strings.prefix,this.strings.suffix=i.strings.suffix,this.strings["text-case"]=i.strings["text-case"],this.successor_prefix=i.successor_prefix,this.range_prefix=i.range_prefix,this.splice_prefix=i.splice_prefix,this.formatter=i.formatter,this.formatter||(this.formatter=new p.Output.DefaultFormatter),this.formatter&&(this.type=this.formatter.format(1))):(this.decorations=[],this.strings.prefix="",this.strings.suffix="",this.successor_prefix="",this.range_prefix="",this.splice_prefix="",this.formatter=new p.Output.DefaultFormatter)},p.NumericBlob.prototype.setFormatter=function(t){this.formatter=t,this.type=this.formatter.format(1)},p.Output.DefaultFormatter=function(){},p.Output.DefaultFormatter.prototype.format=function(t){return t.toString()},p.NumericBlob.prototype.checkNext=function(t,e){e?(this.status=p.START,"object"==typeof t&&(t.num===this.num+1?t.status=p.SUCCESSOR:t.status=p.SEEN)):t&&t.num&&this.type===t.type&&t.num===this.num+1?this.status===p.START||this.status===p.SEEN?t.status=p.SUCCESSOR:this.status!==p.SUCCESSOR&&this.status!==p.SUCCESSOR_OF_SUCCESSOR||(this.range_prefix?(t.status=p.SUCCESSOR_OF_SUCCESSOR,this.status=p.SUPPRESS):t.status=p.SUCCESSOR):(this.status===p.SUCCESSOR_OF_SUCCESSOR&&(this.status=p.END),"object"==typeof t&&(t.status=p.SEEN))},p.NumericBlob.prototype.checkLast=function(t){return(this.status===p.SEEN||t.num!==this.num-1&&this.status===p.SUCCESSOR)&&(this.status=p.SUCCESSOR,!0)},t.exports=p,p.Util.fixDateNode=function(t,e,i){var r,s,n,a,o,l,u,c,p,m,h,f,d,g=this.cslXml.getAttributeValue(i,"lingo"),b=this.cslXml.getAttributeValue(i,"default-locale");if(this.build.date_key=!0,r=this.cslXml.getAttributeValue(i,"form"),g=b?this.opt["default-locale"][0]:this.cslXml.getAttributeValue(i,"lingo"),!this.getDate(r,b))return t;var v=this.cslXml.getAttributeValue(i,"date-parts");for(var y in s=this.cslXml.getAttributeValue(i,"variable"),c=this.cslXml.getAttributeValue(i,"prefix"),p=this.cslXml.getAttributeValue(i,"suffix"),f=this.cslXml.getAttributeValue(i,"display"),d=this.cslXml.getAttributeValue(i,"cslid"),n=this.cslXml.nodeCopy(this.getDate(r,b)),this.cslXml.setAttribute(n,"lingo",this.opt.lang),this.cslXml.setAttribute(n,"form",r),this.cslXml.setAttribute(n,"date-parts",v),this.cslXml.setAttribute(n,"cslid",d),this.cslXml.setAttribute(n,"variable",s),this.cslXml.setAttribute(n,"default-locale",b),c&&this.cslXml.setAttribute(n,"prefix",c),p&&this.cslXml.setAttribute(n,"suffix",p),f&&this.cslXml.setAttribute(n,"display",f),m=this.cslXml.children(n))a=m[y],"date-part"===this.cslXml.nodename(a)&&(o=this.cslXml.getAttributeValue(a,"name"),b&&this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",o,"@default-locale","true"));for(var y in m=this.cslXml.children(i))if(a=m[y],"date-part"===this.cslXml.nodename(a))for(l in o=this.cslXml.getAttributeValue(a,"name"),h=this.cslXml.attributes(a))"@name"!==l&&(g&&g!==this.opt.lang&&["@suffix","@prefix","@form"].indexOf(l)>-1||(u=h[l],this.cslXml.setAttributeOnNodeIdentifiedByNameAttribute(n,"date-part",o,l,u)));if("year"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(n,"month"),this.cslXml.deleteNodeByNameAttribute(n,"day");else if("year-month"===this.cslXml.getAttributeValue(i,"date-parts"))this.cslXml.deleteNodeByNameAttribute(n,"day");else if("month-day"===this.cslXml.getAttributeValue(i,"date-parts")){for(var _=this.cslXml.children(n),x=1,A=this.cslXml.numberofnodes(_);x<A;x++)if("year"===this.cslXml.getAttributeValue(_[x],"name")){this.cslXml.setAttribute(_[x-1],"suffix","");break}this.cslXml.deleteNodeByNameAttribute(n,"year")}return this.cslXml.insertChildNodeAfter(t,i,e,n)},t.exports=p,p.dateMacroAsSortKey=function(t,e){p.dateAsSortKey.call(this,t,e,!0)},p.dateAsSortKey=function(t,e,i){var r,s,n,a,o,l,u,c=this.variables[0],m="empty";for(i&&t.tmp.extension&&(m="macro-with-date"),void 0===(r=e[c])&&((r={"date-parts":[[0]]}).year||(t.tmp.empty_date=!0)),void 0===this.dateparts&&(this.dateparts=["year","month","day"]),r.raw?r=t.fun.dateparser.parseDateToArray(r.raw):r["date-parts"]&&(r=t.dateParseArray(r)),void 0===r&&(r={}),l=0,u=p.DATE_PARTS_INTERNAL.length;l<u;l+=1)if(n=0,"_end"===(a=s=p.DATE_PARTS_INTERNAL[l]).slice(-4)&&(a=a.slice(0,-4)),r[s]&&this.dateparts.indexOf(a)>-1&&(n=r[s]),"year"===s.slice(0,4)){var h="Y";"-"===(o=p.Util.Dates[a].numeric(t,n))[0]&&(h="X",o=o.slice(1),o=9999-parseInt(o,10)),t.output.append(p.Util.Dates[s.slice(0,4)].numeric(t,h+o),m)}else(n=p.Util.Dates[a]["numeric-leading-zeros"](t,n))||(n="00"),t.output.append(n,m)},p.Engine.prototype.dateParseArray=function(t){var e,i,r,s;for(i in e={},t)if("date-parts"===i){(r=t["date-parts"]).length>1&&r[0].length!==r[1].length&&p.error("CSL data error: element mismatch in date range input."),s=["","_end"];for(var n=0,a=r.length;n<a;n+=1)for(var o=0,l=p.DATE_PARTS.length;o<l;o+=1)isNaN(parseInt(r[n][o],10))?e[p.DATE_PARTS[o]+s[n]]=void 0:e[p.DATE_PARTS[o]+s[n]]=parseInt(r[n][o],10)}else t.hasOwnProperty(i)&&("literal"===i&&"object"==typeof t.literal&&"string"==typeof t.literal.part?(p.debug("Warning: fixing up weird literal date value"),e.literal=t.literal.part):e[i]=t[i]);return e},t.exports=p,p.Util.Names={},p.Util.Names.compareNamesets=p.NameOutput.prototype._compareNamesets,p.Util.Names.unInitialize=function(t,e){var i,r,s,n,a;if(!e)return"";for(s=e.split(/(?:\-|\s+)/),n=e.match(/(\-|\s+)/g),a="",i=0,r=s.length;i<r;i+=1)a+=s[i],i<r-1&&(a+=n[i]);return a},p.Util.Names.initializeWith=function(t,e,i,r){var s,n,a,o,l,u;if(!e)return"";if(i||(i=""),["Lord","Lady"].indexOf(e)>-1||!e.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&!i.match("%s"))return e;var c=e;if(!1===t.opt["initialize-with-hyphen"]&&(c=c.replace(/\-/g," ")),l=(c=(c=c.replace(/\s*\-\s*/g,"-").replace(/\s+/g," ")).replace(/-([a-z])/g,"–$1")).match(/[\-\s]+/g),0===(u=c.split(/[\-\s]+/)).length)c=l;else for(c=[u[0]],s=1,n=u.length;s<n;s+=1)c.push(l[s-1]),c.push(u[s]);for(s=(u=c).length-1;s>-1;s+=-1)if(u[s]&&u[s].slice(0,-1).indexOf(".")>-1){var m=u.slice(s+1),h=u[s].slice(0,-1).split(".");for(u=u.slice(0,s),a=0,o=h.length;a<o;a+=1)u.push(h[a]+"."),a<h.length-1&&u.push(" ");u=u.concat(m)}return(r?p.Util.Names.doNormalize(t,u,i):p.Util.Names.doInitialize(t,u,i)).replace(/\u2013([a-z])/g,"-$1")},p.Util.Names.doNormalize=function(t,e,i,r){var s,n;i=i||"";var a=[];for(s=0,n=e.length;s<n;s+=1)e[s].length>1&&"."===e[s].slice(-1)?(e[s]=e[s].slice(0,-1),a.push(!0)):1===e[s].length&&e[s].toUpperCase()===e[s]?a.push(!0):a.push(!1);for(s=0,n=e.length;s<n;s+=2)if(a[s]){if(s<e.length-2)e[s+1]="",(i.match(/^[\u0009\u000a\u000b\u000c\u000d\u0020\u00a0]+$/)||(!i||i.slice(-1)&&!i.slice(-1).match(/[\u0009\u000a\u000b\u000c\u000d\u0020\u00a0]/))&&e[s].length&&e[s].match(p.ALL_ROMANESQUE_REGEXP)&&(e[s].length>1||e[s+2].length>1))&&(e[s+1]=" "),e[s+2].length>1?e[s]=e[s]+i.replace(/\ufeff$/,""):e[s]=e[s]+i;s===e.length-1&&(e[s]=e[s]+i)}return e.join("").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},p.Util.Names.doInitialize=function(t,e,i,r){var s,n,a,o,l,u,c;for(s=0,n=e.length;s<n;s+=2)if(c=e[s])if(!(a=c.match(p.NAME_INITIAL_REGEXP))&&!c.match(p.STARTSWITH_ROMANESQUE_REGEXP)&&c.length>1&&i.match("%s")&&(a=c.match(/(.)(.*)/)),a&&a[1]===a[1].toUpperCase()){var m="";if(a[2]){var h="";for(o=0,l=(u=a[2].split("")).length;o<l;o+=1){var f=u[o];if(f!==f.toUpperCase())break;h+=f}h.length<a[2].length&&(m=h.toLocaleLowerCase())}e[s]=a[1].toLocaleUpperCase()+m,s<n-1?i.match("%s")?e[s]=i.replace("%s",e[s]):e[s+1].indexOf("-")>-1?e[s+1]=i+e[s+1]:e[s+1]=i:i.match("%s")?e[s]=i.replace("%s",e[s]):e.push(i)}else c.match(p.ROMANESQUE_REGEXP)&&(e[s]=" "+c);var d=e.join("");return d=d.replace(/[\u0009\u000a\u000b\u000c\u000d\u0020\ufeff\u00a0]+$/,"").replace(/\s*\-\s*/g,"-").replace(/[\u0009\u000a\u000b\u000c\u000d\u0020]+/g," ")},p.Util.Names.getRawName=function(t){var e=[];return t.given&&e.push(t.given),t.family&&e.push(t.family),e.join(" ")},t.exports=p,p.Util.Dates={},p.Util.Dates.year={},p.Util.Dates.year.long=function(t,e){return e||(e="boolean"==typeof e?"":0),e.toString()},p.Util.Dates.year.imperial=function(t,e,i,r){var s="";e||(e="boolean"==typeof e?"":0),i=i?"_end":"";var n=t.tmp.date_object["month"+i];for(n=n?""+n:"1";n.length<2;)n="0"+n;var a=t.tmp.date_object["day"+i];for(a=a?""+a:"1";a.length<2;)a="0"+a;var o,l,u=parseInt(e+n+a,10);if(u>=18680908&&u<19120730?(o="明治",l=1867):u>=19120730&&u<19261225?(o="大正",l=1911):u>=19261225&&u<19890108?(o="昭和",l=1925):u>=19890108&&(o="平成",l=1988),o&&l){var c=o;t.sys.normalizeAbbrevsKey&&(c=t.sys.normalizeAbbrevsKey("number",o)),t.transform.abbrevs.default.number[c]||t.transform.loadAbbreviation("default","number",c),t.transform.abbrevs.default.number[c]&&(o=t.transform.abbrevs.default.number[c]),s=o+(e-l)}return s},p.Util.Dates.year.short=function(t,e){if((e=e.toString())&&4===e.length)return e.substr(2)},p.Util.Dates.year.numeric=function(t,e){var i,r;for((r=(e=""+e).match(/([0-9]*)$/))?(i=e.slice(0,-1*r[1].length),e=r[1]):(i=e,e="");e.length<4;)e="0"+e;return i+e},p.Util.Dates.normalizeMonth=function(t,e){var i;if(t||(t=0),(t=""+t).match(/^[0-9]+$/)||(t=0),t=parseInt(t,10),e){var r={stub:"month-",num:t};r.num<1||r.num>20?r.num=0:r.num>16?(r.stub="season-",r.num=r.num-16):r.num>12&&(r.stub="season-",r.num=r.num-12),i=r}else(t<1||t>12)&&(t=0),i=t;return i},p.Util.Dates.month={},p.Util.Dates.month.numeric=function(t,e){return(e=p.Util.Dates.normalizeMonth(e))||(e=""),e},p.Util.Dates.month["numeric-leading-zeros"]=function(t,e){if(e=p.Util.Dates.normalizeMonth(e))for(e=""+e;e.length<2;)e="0"+e;else e="";return e},p.Util.Dates.month.long=function(t,e,i,r){var s=p.Util.Dates.normalizeMonth(e,!0);if(e=s.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(s.stub+e,"long",0,0,!1,r)}else e="";return e},p.Util.Dates.month.short=function(t,e,i,r){var s=p.Util.Dates.normalizeMonth(e,!0);if(e=s.num){for(e=""+e;e.length<2;)e="0"+e;e=t.getTerm(s.stub+e,"short",0,0,!1,r)}else e="";return e},p.Util.Dates.day={},p.Util.Dates.day.numeric=function(t,e){return e.toString()},p.Util.Dates.day.long=p.Util.Dates.day.numeric,p.Util.Dates.day["numeric-leading-zeros"]=function(t,e){for(e||(e=0),e=e.toString();e.length<2;)e="0"+e;return e.toString()},p.Util.Dates.day.ordinal=function(t,e,i){return t.fun.ordinalizer.format(e,i)},t.exports=p,p.Util.Sort={},p.Util.Sort.strip_prepositions=function(t){var e;return"string"==typeof t&&(e=t.toLocaleLowerCase(),e=t.match(/^((a|an|the)\s+)/)),e&&(t=t.substr(e[1].length)),t},t.exports=p,p.Util.substituteStart=function(t,e){var i,r,s,n,a,o,l;n=function(t,e){for(var i=0,r=this.decorations.length;i<r;i+=1)if("@strip-periods"===this.decorations[i][0]&&"true"===this.decorations[i][1]){t.tmp.strip_periods+=1;break}},this.execs.push(n),this.decorations&&(t.opt.development_extensions.csl_reverse_lookup_support||t.sys.csl_reverse_lookup_support)&&(this.decorations.reverse(),this.decorations.push(["@showid","true",this.cslid]),this.decorations.reverse()),l=["number","date","names"],("text"===this.name&&!this.postponed_macro||l.indexOf(this.name)>-1)&&(i=function(t,e,i){"author"===t.tmp.element_trace.value()||"names"===this.name?i&&i["author-only"]?t.tmp.element_trace.push("do-not-suppress-me"):i&&i["suppress-author"]:i&&i["author-only"]?t.tmp.element_trace.push("suppress-me"):i&&i["suppress-author"]&&t.tmp.element_trace.push("do-not-suppress-me")},this.execs.push(i)),r=this.strings.cls,this.strings.cls=!1,0===t.build.render_nesting_level&&("bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]?((s=new p.Token("group",p.START)).decorations=[["@display","left-margin"]],n=function(t,e){t.tmp.render_seen||(s.strings.first_blob=e.id,t.output.startTag("bib_first",s))},s.execs.push(n),e.push(s)):p.DISPLAY_CLASSES.indexOf(r)>-1&&((s=new p.Token("group",p.START)).decorations=[["@display",r]],n=function(t,e){s.strings.first_blob=e.id,t.output.startTag("bib_first",s)},s.execs.push(n),e.push(s)),t.build.cls=r),t.build.render_nesting_level+=1,1===t.build.substitute_level.value()&&(a=new p.Token("choose",p.START),p.Node.choose.build.call(a,t,e),n=function(e,i){return!!t.tmp.can_substitute.value()},(o=new p.Token("if",p.START)).tests.push(n),o.test=t.fun.match.any(this,t,o.tests),e.push(o)),t.sys.variableWrapper&&this.variables_real&&this.variables_real.length&&(n=function(t,e,i){if(!t.tmp.just_looking&&!t.tmp.suppress_decorations){var r=new p.Token("text",p.START);r.decorations=[["@showid","true"]],t.output.startTag("variable_entry",r);var s=null;i&&(s=i.position),s||(s=0);var n=0;i&&i.noteIndex&&(n=i.noteIndex);var a=0;i&&i["first-reference-note-number"]&&(a=i["first-reference-note-number"]);var o=0;i&&i["citation-number"]&&(o=i["citation-number"]);var l=0;i&&i.index&&(l=i.index);var u={itemData:e,variableNames:this.variables,context:t.tmp.area,xclass:t.opt.xclass,position:["first","subsequent","ibid","ibid-with-locator"][s],"note-number":n,"first-reference-note-number":a,"citation-number":o,index:l,mode:t.opt.mode};t.output.current.value().params=u}},this.execs.push(n))},p.Util.substituteEnd=function(t,e){var i,r,s,n,a,o;t.sys.variableWrapper&&(this.hasVariable||this.variables_real&&this.variables_real.length)&&(i=function(t,e){t.tmp.just_looking||t.tmp.suppress_decorations||t.output.endTag("variable_entry")},this.execs.push(i)),i=function(t,e){for(var i=0,r=this.decorations.length;i<r;i+=1)if("@strip-periods"===this.decorations[i][0]&&"true"===this.decorations[i][1]){t.tmp.strip_periods+=-1;break}},this.execs.push(i),t.build.render_nesting_level+=-1,0===t.build.render_nesting_level&&(t.build.cls?(i=function(t,e){t.output.endTag("bib_first")},this.execs.push(i),t.build.cls=!1):"bibliography"===t.build.area&&t.bibliography.opt["second-field-align"]&&(i=function(t,e){t.tmp.render_seen||t.output.endTag("bib_first")},(r=new p.Token("group",p.END)).execs.push(i),e.push(r),(s=new p.Token("group",p.START)).decorations=[["@display","right-inline"]],i=function(t,e){t.tmp.render_seen||(t.tmp.render_seen=!0,t.output.startTag("bib_other",s))},s.execs.push(i),e.push(s))),1===t.build.substitute_level.value()&&(n=new p.Token("if",p.END),e.push(n),a=new p.Token("choose",p.END),p.Node.choose.build.call(a,t,e)),("names"===this.name||"text"===this.name&&"title"!==this.variables_real)&&(new p.Token("text",p.SINGLETON),i=function(t,e){if("bibliography"===t.tmp.area&&"string"==typeof t.bibliography.opt["subsequent-author-substitute"]&&(!this.variables_real||e[this.variables_real])&&t.tmp.substituted_variable===this.variables_real){var i,r,s=t.bibliography.opt["subsequent-author-substitute-rule"];if(!t.tmp.suppress_decorations&&t.tmp.subsequent_author_substitute_ok&&t.tmp.rendered_name){if("partial-each"===s||"partial-first"===s){var n=!0,a=[];for(i=0,r=t.tmp.name_node.children.length;i<r;i+=1){var l=t.tmp.rendered_name[i];n&&t.tmp.last_rendered_name&&t.tmp.last_rendered_name.length>i-1&&l&&!l.localeCompare(t.tmp.last_rendered_name[i])?(o=new p.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[i].blobs=[o],"partial-first"===s&&(n=!1)):n=!1,a.push(l)}t.tmp.last_rendered_name=a}else if("complete-each"===s){if(a=t.tmp.rendered_name.join(",")){if(t.tmp.last_rendered_name&&!a.localeCompare(t.tmp.last_rendered_name))for(i=0,r=t.tmp.name_node.children.length;i<r;i+=1)o=new p.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.name_node.children[i].blobs=[o];t.tmp.last_rendered_name=a}}else{(a=t.tmp.rendered_name.join(","))&&(t.tmp.last_rendered_name&&!a.localeCompare(t.tmp.last_rendered_name)&&(o=new p.Blob(t[t.tmp.area].opt["subsequent-author-substitute"]),t.tmp.label_blob?t.tmp.name_node.top.blobs=[o,t.tmp.label_blob]:t.tmp.name_node.top.blobs.length?t.tmp.name_node.top.blobs[0].blobs=[o]:t.tmp.name_node.top.blobs=[o],t.tmp.substituted_variable=this.variables_real),t.tmp.last_rendered_name=a)}t.tmp.subsequent_author_substitute_ok=!1}}},this.execs.push(i)),("text"===this.name&&!this.postponed_macro||["number","date","names"].indexOf(this.name)>-1)&&(i=function(t,e){t.tmp.element_trace.pop()},this.execs.push(i))},t.exports=p,p.Util.padding=function(t){var e=t.match(/\s*(-{0,1}[0-9]+)/);if(e)for((t=parseInt(e[1],10))<0&&(t=1e20+t),t=""+t;t.length<20;)t="0"+t;return t},p.Util.LongOrdinalizer=function(){},p.Util.LongOrdinalizer.prototype.init=function(t){this.state=t},p.Util.LongOrdinalizer.prototype.format=function(t,e){t<10&&(t="0"+t);var i=p.Engine.getField(p.LOOSE,this.state.locale[this.state.opt.lang].terms,"long-ordinal-"+t,"long",0,e);return i||(i=this.state.fun.ordinalizer.format(t,e)),this.state.tmp.cite_renders_content=!0,i},p.Util.Ordinalizer=function(t){this.state=t,this.suffixes={}},p.Util.Ordinalizer.prototype.init=function(){if(!this.suffixes[this.state.opt.lang]){this.suffixes[this.state.opt.lang]={};for(var t=0;t<3;t+=1){var e=[void 0,"masculine","feminine"][t];this.suffixes[this.state.opt.lang][e]=[];for(var i=1;i<5;i+=1){var r=this.state.getTerm("ordinal-0"+i,"long",!1,e);if(void 0===r){delete this.suffixes[this.state.opt.lang][e];break}this.suffixes[this.state.opt.lang][e].push(r)}}}},p.Util.Ordinalizer.prototype.format=function(t,e){var i;i=""+(t=parseInt(t,10));var r="",s=[];if(e&&s.push(e),s.push("neuter"),this.state.locale[this.state.opt.lang].ord["1.0.1"]){var n;r=this.state.getTerm("ordinal",!1,0,e);for(var a=0,o=s.length;a<o;a+=1){n=s[a];var l=this.state.locale[this.state.opt.lang].ord["1.0.1"];if(l["whole-number"][i]&&l["whole-number"][i][n]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["whole-number"][i][n],!1,0,e):l["last-two-digits"][i.slice(i.length-2)]&&l["last-two-digits"][i.slice(i.length-2)][n]?r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-two-digits"][i.slice(i.length-2)][n],!1,0,e):l["last-digit"][i.slice(i.length-1)]&&l["last-digit"][i.slice(i.length-1)][n]&&(r=this.state.getTerm(this.state.locale[this.state.opt.lang].ord["1.0.1"]["last-digit"][i.slice(i.length-1)][n],!1,0,e)),r)break}}else e||(e=void 0),this.state.fun.ordinalizer.init(),r=t/10%10==1||t>10&&t<20?this.suffixes[this.state.opt.lang][e][3]:t%10==1&&t%100!=11?this.suffixes[this.state.opt.lang][e][0]:t%10==2&&t%100!=12?this.suffixes[this.state.opt.lang][e][1]:t%10==3&&t%100!=13?this.suffixes[this.state.opt.lang][e][2]:this.suffixes[this.state.opt.lang][e][3];return i=i+=r},p.Util.Romanizer=function(){},p.Util.Romanizer.prototype.format=function(t){var e,i,r,s,n;if(e="",t<6e3)for((s=t.toString().split("")).reverse(),i=0,r=0,n=s.length,i=0;i<n;i+=1)r=parseInt(s[i],10),e=p.ROMAN_NUMERALS[i][r]+e;return e},p.Util.Suffixator=function(t){t||(t=p.SUFFIX_CHARS),this.slist=t.split(",")},p.Util.Suffixator.prototype.format=function(t){var e;t+=1;var i="";do{e=t%26==0?26:t%26;i=this.slist[e-1]+i;t=(t-e)/26}while(0!==t);return i},p.Engine.prototype.processNumber=function(t,e,i,r){var s,n=this;function a(t,e,r,s){s=s||"";var n={};if(e||p.STATUTE_SUBDIV_STRINGS_REVERSE[i]||(e="var:"+i),e){var a=e.match(/(\s*)([^\s]+)(\s*)/);n.label=a[2],n.origLabel=t,n.labelSuffix=a[3]?a[3]:"",n.plural=0,n.labelVisibility=!1}return(a=r.match(/^([0-9]*[a-zA-Z]+0*)?([0-9]+(?:[a-zA-Z]*|[-,a-zA-Z]+))$/))?(n.particle=a[1]?a[1]:"",n.value=a[2]):(n.particle="",n.value=r),n.joiningSuffix=s.replace(/\s*-\s*/,"-"),n}function o(t,e,i){var r=t[i.pos],s=t[e].value,n="\\-"===r.joiningSuffix;s.particle&&s.particle!==r.particle&&(i.collapsible=!1);var a=s.match(/^[0-9]+([-,:a-zA-Z]*)$/),o=r.value.match(/^[0-9]+([-,:a-zA-Z]*)$/);if(s&&a&&o&&!n||(i.collapsible=!1,s&&o||(i.numeric=!1),n&&i.count--),(a&&a[1]||o&&o[1])&&(i.collapsible=!1),void 0===t[e].collapsible){for(var l=e,u=e+i.count;l<u;l++)isNaN(parseInt(t[l].value))&&!t[l].value.match(/^[ivxlcmIVXLCM]+$/)?t[l].collapsible=!1:t[l].collapsible=!0;i.collapsible=t[e].collapsible}var c=i.collapsible;for(l=i.pos,u=i.pos+i.count;l<u;l++)i.count>1&&c&&(t[l].plural=1),t[l].numeric=i.numeric,t[l].collapsible=i.collapsible}function l(t,e,r){"var:"!==r.label.slice(0,4)&&(0===r.pos?("locator"!==i&&"number"!==i||n.getTerm(p.STATUTE_SUBDIV_STRINGS[r.label])||(t[r.pos].labelVisibility=!0),-1===["locator","number"].indexOf(i)&&p.STATUTE_SUBDIV_STRINGS[r.label]!==i&&(t[0].labelVisibility=!0)):t[r.pos].labelVisibility=!0)}function u(e){var i=p.Util.cloneToken(t),r=new p.Token;if(!n.tmp.just_looking){for(var s=i.decorations.length-1;s>-1;s--)"@quotes"===i.decorations[s][0]&&(r.decorations=r.decorations.concat(i.decorations.slice(s,s+1)),i.decorations=i.decorations.slice(0,s).concat(i.decorations.slice(s+1)));r.strings.prefix=i.strings.prefix,i.strings.prefix="",r.strings.suffix=i.strings.suffix,i.strings.suffix=""}var a=e.length?e[0].label:null;if(e.length){for(var o=0,l=e.length;o<l;o++){var u=e[o],m=p.Util.cloneToken(i);m.gender=t.gender,a===u.label&&(m.formatter=t.formatter),u.numeric&&(m.successor_prefix=u.successor_prefix),m.strings.suffix=m.strings.suffix+c(u.joiningSuffix),u.styling=m}n.tmp.just_looking||'"'===e[0].value.slice(0,1)&&'"'===e[e.length-1].value.slice(-1)&&(e[0].value=e[0].value.slice(1),e[e.length-1].value=e[e.length-1].value.slice(0,-1),r.decorations.push(["@quotes",!0]))}return r}function c(t){return t.replace("\\-","-")}function m(t,e,i,r){var s=h(t,e);return function(t,e){var i=!0;if("locator"===t){var r;r=e.origLabel?e.origLabel:e.label,i=!!n.getTerm(p.STATUTE_SUBDIV_STRINGS[r])}return i}(t,e)&&"-"===i&&r&&((s||["locator","issue","volume","edition","number"].indexOf(t)>-1)&&((i=n.getTerm("page-range-delimiter"))||(i="–")),"collection-number"===t&&((i=n.getTerm("year-range-delimiter"))||(i="–"))),i}function h(t,e){return"page"===t||"locator"===t&&(["p."].indexOf(e.label)>-1||["p."].indexOf(e.origLabel)>-1)}function f(t,e,r){if(!(e<1)&&2===r.count&&t[e-1].particle===t[e].particle)if("-"===t[e-1].joiningSuffix)if(!n.opt["page-range-format"]&&parseInt(t[e-1].value,10)>parseInt(t[e].value,10))t[e-1].joiningSuffix=m(i,t[e],t[e-1].joiningSuffix,!0);else{var s,a=t[e];!h(i,a)||isNaN(parseInt(t[e-1].value))||isNaN(parseInt(t[e].value))?((""+t[e-1].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(""+t[e].value).match(/^([0-9]+|[ivxlcmIVXLCM]+)$/)&&(t[e-1].joiningSuffix=n.getTerm("page-range-delimiter")),s=t[e-1].value+c(t[e-1].joiningSuffix)+t[e].value):(s=t[e-1].particle+t[e-1].value+" - "+t[e].particle+t[e].value,s=n.fun.page_mangler(s));var o=s.match(/^((?:[0-9]*[a-zA-Z]+0*))?([0-9]+)(\s*[^0-9]+\s*)([-,a-zA-Z]?0*)([0-9]+)$/);if(o){var l=o[3];l=m(i,a,l,t[e].numeric),t[e-1].particle=o[1],t[e-1].value=o[2],t[e-1].joiningSuffix=l,t[e].particle=o[4],t[e].value=o[5]}r.count=0}else r.count=1}function d(e){if(t&&-1!==["page","page-first","chapter-number","collection-number","edition","issue","number","number-of-pages","number-of-volumes","volume","locator"].indexOf(i)){for(var r={count:0,label:null,lastHadRangeDelimiter:!1},s=0,n=e.length;s<n;s++){var a=e[s];if(a.collapsible)r.label===a.label&&"-"===a.joiningSuffix?r.count=1:r.label===a.label&&"-"!==a.joiningSuffix?(r.count++,2===r.count&&f(e,s,r)):r.label!==a.label?(r.label=a.label,r.count=1):(r.count=1,r.label=a.label);else{r.count=0,r.label=null;var o=a.numeric;a.joiningSuffix=m(i,a,a.joiningSuffix,o)}}2===r.count&&f(e,e.length-1,r)}}if(t&&this.tmp.shadow_numbers[i]&&this.tmp.shadow_numbers[i].values.length)return d(y=this.tmp.shadow_numbers[i].values),void(this.tmp.shadow_numbers[i].masterStyling=u(y));if(this.tmp.shadow_numbers[i]||(this.tmp.shadow_numbers[i]={values:[]}),e){var g=p.LangPrefsMap[i];if(g){var b=this.opt["cite-lang-prefs"][g][0];s=(s=this.transform.getTextSubField(e,i,"locale-"+b,!0)).name}else s=e[i];if(s&&this.sys.getAbbreviation){var v=this.transform.loadAbbreviation(e.jurisdiction,"number",s);this.transform.abbrevs[v].number&&(this.transform.abbrevs[v].number[s]?s=this.transform.abbrevs[v].number[s]:void 0!==this.transform.abbrevs[v].number[s]&&delete this.transform.abbrevs[v].number[s])}if(void 0!==s&&("string"==typeof s||"number"==typeof s)){"number"==typeof s&&(s=""+s);var y,_=p.STATUTE_SUBDIV_STRINGS_REVERSE[i];if(!this.tmp.shadow_numbers.values)!function(t){for(var e=0,i=t.length-1;e<i;e++)!t[e].joiningSuffix&&t[e+1].label&&(t[e].joiningSuffix=" ")}(y=function(t,r){r=r||"";var s=[];if(h=(t=function(t,r){var s=(t=t.trim()).match(/^([^ ]+)/);if(s&&!p.STATUTE_SUBDIV_STRINGS[s[1]]){var n=null;(n="locator"===i?e.label?p.STATUTE_SUBDIV_STRINGS_REVERSE[e.label]:"p.":p.STATUTE_SUBDIV_STRINGS_REVERSE[i])&&(t=n+" "+t)}return t}(t)).match(/(;\s+|,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/g)){for(var o=0,l=(f=t.split(/(?:;\s+|,\s+|\s*\\*[\-\u2013]+\s*|\s*&\s*)/)).length-1;o<l;o++)s.push(f[o]),s.push(h[o]);s.push(f[f.length-1]),s=function(t){for(var e=t.length-2;e>-1;e-=2)"-"===t[e]&&t[e-1].match(/^(?:(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])\.  *)*[0-9]+[,a-zA-Z]+$/)&&t[e+1].match(/^[,a-zA-Z]+$/)&&(t[e-1]=t.slice(e-1,e+2).join(""),t=t.slice(0,e).concat(t.slice(e+2)));return t}(s)}else s=[t];var u=[],c=r,m="";for(o=0,l=s.length;o<l;o+=2){var h;if(h=s[o].match(/((?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/g)){for(var f,d=(f=s[o].split(/(?:(?:^| )(?:[a-z]|[a-z][a-z]|[a-z][a-z][a-z]|[a-z][a-z][a-z][a-z])(?:\.| ) *)/)).length-1;d>0;d--)!f[d-1]||f[d].match(/^[0-9]+([-;,:a-zA-Z]*)$/)&&f[d-1].match(/^[0-9]+([-;,:a-zA-Z]*)$/)||(f[d-1]=f[d-1]+h[d-1]+f[d],f=f.slice(0,d).concat(f.slice(d+1)),h=h.slice(0,d-1).concat(h.slice(d)));if(h.length>0){var g=h[0].trim();!p.STATUTE_SUBDIV_STRINGS[g]||!n.getTerm(p.STATUTE_SUBDIV_STRINGS[g])||-1===["locator","number"].indexOf(i)&&p.STATUTE_SUBDIV_STRINGS[g]!==i?0===o&&(h=h.slice(1),f[0]=f[0]+" "+g+" "+f[1],f=f.slice(0,1).concat(f.slice(2))):m=g}d=0;for(var b=f.length;d<b;d++)(f[d]||d===f.length-1)&&(v=m===(c=h[d-1]?h[d-1]:c).trim()?"":m,t=f[d]?f[d].trim():"",d===f.length-1?u.push(a(v,c,t,s[o+1])):u.push(a(v,c,t)))}else{var v;v=m===c.trim()?"":m,u.push(a(v,c,s[o],s[o+1]))}}return u}(s,_)),function(t){if(0!==t.length){for(var r=0,s=1,n=1,a=t.length;n<a;n++){var u=t[n-1],c=t[n];u.label===c.label&&u.particle==u.particle?s++:((p=JSON.parse(JSON.stringify(t[r]))).pos=r,p.count=s,p.numeric=!0,o(t,r,p),0!==n&&u.label===c.label||l(t,0,p),r=n,s=1)}var p;(p=JSON.parse(JSON.stringify(t[r]))).pos=r,p.count=s,p.numeric=!0,o(t,r,p),l(t,0,p),t.length&&t[0].numeric&&"number-of-"===i.slice(0,10)&&parseInt(e[i],10)>1&&(t[0].plural=1)}}(y),this.tmp.shadow_numbers[i].values=y;t&&(d(y),this.tmp.shadow_numbers[i].masterStyling=u(y)),function(t,e,i){var r=t[e];i.length&&(r.numeric=i[0].numeric,r.collapsible=i[0].collapsible,r.plural=i[0].plural,r.label=p.STATUTE_SUBDIV_STRINGS[i[0].label],"number"===e&&"issue"===r.label&&n.getTerm("number")&&(r.label="number"))}(this.tmp.shadow_numbers,i,y)}}},p.Util.outputNumericField=function(t,e,i){t.output.openLevel(t.tmp.shadow_numbers[e].masterStyling);var r,s=t.tmp.shadow_numbers[e].values,n=s.length?s[0].label:null,a=t.tmp.shadow_numbers[e].labelForm;r=a||"short";for(var o=t.tmp.shadow_numbers[e].labelCapitalizeIfFirst,l=t.tmp.shadow_numbers[e].labelDecorations,u=null,c=0,m=s.length;c<m;c++){var h,f=s[c],d="";f.label&&(h="var:"===f.label.slice(0,4)?f.label.slice(4):p.STATUTE_SUBDIV_STRINGS[f.label])&&(d=f.label===n?t.getTerm(h,a,f.plural):t.getTerm(h,r,f.plural),o&&(d=p.Output.Formatters["capitalize-first"](t,d)));var g=-1;d&&(g=d.indexOf("%s"));var b,v=p.Util.cloneToken(f.styling);if(v.formatter=f.styling.formatter,v.type=f.styling.type,v.num=f.styling.num,v.gender=f.styling.gender,g>0&&g<d.length-2)v.strings.prefix+=d.slice(0,g),v.strings.suffix=d.slice(g+2)+v.strings.suffix;else if(f.labelVisibility)if(d||(d=f.label,h=f.label),g>0){var y=new p.Token;y.decorations=l,t.output.append(d.slice(0,g),y)}else g!==d.length-2&&-1!==g||t.output.append(d+f.labelSuffix,"empty");if(f.collapsible)void 0===(b=f.value.match(/^[1-9][0-9]*$/)?new p.NumericBlob(f.particle,parseInt(f.value,10),v,i):new p.NumericBlob(f.particle,f.value,v,i)).gender&&(b.gender=t.locale[t.opt.lang]["noun-genders"][e]),t.output.append(b,"literal");else t.output.append(f.particle+f.value,v);if(0===g&&g<d.length-2&&(null===u&&(u=h),h!==u||c===s.length-1)){var _=new p.Token;_.decorations=l,t.output.append(d.slice(g+2),_)}u=h,t.tmp.term_predecessor=!0}t.output.closeLevel()},t.exports=p,p.Util.PageRangeMangler={},p.Util.PageRangeMangler.getFunction=function(t,e){var i,r,s,n,a,o,l,u,c,p,m,h,f,d,g,b,v,y=t.getTerm(e+"-range-delimiter");i=/([0-9]*[a-zA-Z]+0*)?([0-9]+)\s*(?:\u2013|-)\s*([0-9]*[a-zA-Z]+0*)?([0-9]+)/,n=function(i){for(s=i.length,r=1;r<s;r+=2)"object"==typeof i[r]&&(i[r]=i[r].join(""));var n=i.join("");return n=n.replace(/([^\\])\-/g,"$1"+t.getTerm(e+"-range-delimiter"))},a=function(t){var e,i,n,a=new RegExp("([^\\\\])[-"+("-"===y?"":y)+"\\u2013]","g");t=t.replace(a,"$1 - ").replace(/\s+-\s+/g," - ");var o=new RegExp("((?:[0-9]*[a-zA-Z]+0*)?[0-9]+\\s+\\-\\s+(?:[0-9]*[a-zA-Z]+0*)?[0-9]+)","g"),l=new RegExp("(?:[0-9]*[a-zA-Z]+0*)?[0-9]+\\s+\\-\\s+(?:[0-9]*[a-zA-Z]+0*)?[0-9]+");if(e=t.match(o),0===(i=t.split(l)).length)n=e;else for(n=[i[0]],r=1,s=i.length;r<s;r+=1)n.push(e[r-1].replace(/\s*\-\s*/g,"-")),n.push(i[r]);return n},o=function(t){for(p=a(t=""+t),s=p.length,r=1;r<s;r+=2)(m=p[r].match(i))&&(m[3]&&m[1]!==m[3]||(m[4].length<m[2].length&&(m[4]=m[2].slice(0,m[2].length-m[4].length)+m[4]),parseInt(m[2],10)<parseInt(m[4],10)&&(m[3]=y+(m[1]?m[1]:""),p[r]=m.slice(1)))),"string"==typeof p[r]&&(p[r]=p[r].replace(/\-/g,y));return p},l=function(t,e,i){s=t.length;for(var r=1,a=t.length;r<a;r+=2)t[r][3]=u(t[r][1],t[r][3],e,i),t[r][2].slice(1)===t[r][0]&&(t[r][2]=y);return n(t)},u=function(t,e,i,r){if(i||(i=0),h=(""+t).split(""),f=(""+e).split(""),(d=f.slice()).reverse(),h.length===f.length)for(var s=0,n=h.length;s<n;s+=1){if(!(h[s]===f[s]&&d.length>i)){if(i&&r&&3===d.length){var a=h.slice(0,s);a.reverse(),d=d.concat(a)}break}d.pop()}return d.reverse(),d.join("")},c=function(t){for(s=t.length,r=1;r<s;r+=2)"object"==typeof t[r]&&(m=t[r],g=parseInt(m[1],10),b=parseInt(m[3],10),g>100&&g%100&&parseInt(g/100,10)===parseInt(b/100,10)?m[3]=""+b%100:g>=1e4&&(m[3]=""+b%1e3)),m[2].slice(1)===m[0]&&(m[2]=y);return n(t)};var _=function(t,e,i,r){return e(o(t=""+t),i,r)};return t.opt[e+"-range-format"]?"expanded"===t.opt[e+"-range-format"]?v=function(t){return _(t,n)}:"minimal"===t.opt[e+"-range-format"]?v=function(t){return _(t,l)}:"minimal-two"===t.opt[e+"-range-format"]?v=function(t,e){return _(t,l,2,e)}:"chicago"===t.opt[e+"-range-format"]&&(v=function(t){return _(t,c)}):v=function(t){return _(t,n)},v},t.exports=p,p.Util.FlipFlopper=function(t){this.processTags=function(r){var s=r.blobs,n=!1;" "!==s.slice(0,1)||s.match(/^\s+[\'\"]/)||(n=!0);var a=new RegExp("("+p.ROMANESQUE_REGEXP.source+")’("+p.ROMANESQUE_REGEXP.source+")","g"),l=function(t){var e=[],r=(t=(t=t.replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?\"[^>]*(>)/g,'$1 $2$3;"$4')).replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3")).match(c.matchAll);if(!r)return{tags:[],strings:[t],forcedSpaces:[]};for(var s=t.split(c.splitAll),n=0,a=r.length-1;n<a;n++)i[r[n]]&&(""===s[n+1]&&['"',"'"].indexOf(r[n+1])>-1?(r[n+1]=" "+r[n+1],e.push(!0)):e.push(!1));return{tags:r,strings:s,forcedSpaces:e}}(s=" "+s.replace(a,"$1'$2"));if(0===l.tags.length)return;for(var u=!1,d=0,g=l.tags.length;d<g;d++){var b=l.tags[d],s=l.strings[d+1];if(f(b,s))l.strings[d+1]=" '"===b?" ’"+l.strings[d+1]:"’"+l.strings[d+1],l.tags[d]="";else{for(var v;v=m(b,d);){if(!(Object.keys(v).indexOf("fixtag")>-1)){if(v.nocase){l.tags[v.nocase.open]="",l.tags[v.nocase.close]="";break}break}if(b.match(c.close)&&"'"===b)l.strings[d+1]="’"+l.strings[d+1],l.tags[d]="";else{var y=l.tags[v.fixtag];l.forcedSpaces[v.fixtag-1]&&(y=y.slice(1)),l.strings[v.fixtag+1]=y+l.strings[v.fixtag+1],l.tags[v.fixtag]=""}if(!(e.length>0))break;e.pop()}v&&(v.fixtag||0===v.fixtag)&&(l.strings[d+1]=l.tags[d]+l.strings[d+1],l.tags[d]="")}}for(var d=e.length-1;d>-1;d--){var _=e[d].pos,b=l.tags[_];l.strings[_+1]=" '"===b||"'"===b?" ’"+l.strings[_+1]:l.tags[_]+l.strings[_+1],l.tags[_]="",e.pop()}for(var d=l.tags.length-1;d>-1;d--)l.tags[d]||(l.tags=l.tags.slice(0,d).concat(l.tags.slice(d+1)),l.strings[d]=l.strings[d]+l.strings[d+1],l.strings=l.strings.slice(0,d+1).concat(l.strings.slice(d+2)));for(var d=0,g=l.tags.length;d<g;d++){var b=l.tags[d],x=l.forcedSpaces[d-1];[' "'," '",'("',"('"].indexOf(b)>-1&&(u||(o(b),u=!0),x||(l.strings[d]+=b.slice(0,1)))}!function(e,i,r){var s=!0,n=new h(e);e.blobs=[];var a=new function(e){this.stack=[e],this.latest=e,this.addStyling=function(e,i,r){if(s&&(" "===e.slice(0,1)&&(e=e.slice(1))," "===e.slice(0,1)&&(e=e.slice(1)),s=!1),this.latest=this.stack[this.stack.length-1],i){if("string"==typeof this.latest.blobs){var n=new p.Blob;n.blobs=this.latest.blobs,n.alldecor=this.latest.alldecor.slice(),this.latest.blobs=[n]}var a=new p.Token,o=new p.Blob(null,a);if(o.alldecor=this.latest.alldecor.slice(),"@class"===i[0]&&"nodecor"===i[1]){for(var l=[],u={},c=[t[t.tmp.area].opt.layout_decorations].concat(o.alldecor),m=c.length-1;m>-1;m--){var h=c[m];if(h)for(var f=h.length-1;f>-1;f--){var d=h[f];["@font-weight","@font-style","@font-variant"].indexOf(d[0])>-1&&!u[d[0]]&&("normal"!==i[1]&&(o.decorations.push([d[0],"normal"]),l.push([d[0],"normal"])),u[d[0]]=!0)}}o.alldecor.push(l)}else o.decorations.push(i),o.alldecor.push([i]);if(this.latest.blobs.push(o),this.stack.push(o),this.latest=o,e){var a=new p.Token,o=new p.Blob(null,a);o.blobs=e,o.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(o)}}else if(e){var n=new p.Blob;n.blobs=e,n.alldecor=this.latest.alldecor.slice(),this.latest.blobs.push(n)}},this.popStyling=function(){this.stack.pop()}}(e);if(i.strings.length){var o=i.strings[0];r&&(o=" "+o),a.addStyling(o)}for(var l=0,u=i.tags.length;l<u;l++){var m=i.tags[l],o=i.strings[l+1];m.match(c.open)?(n.set(m),a.addStyling(o,n.pair())):(n.pop(),a.popStyling(),a.addStyling(o))}}(r,l,n)};var e=[],i={'<span class="nocase">':{type:"nocase",opener:'<span class="nocase">',closer:"</span>",attr:null,outer:null,flipflop:null},'<span class="nodecor">':{type:"nodecor",opener:'<span class="nodecor">',closer:"</span>",attr:"@class",outer:"nodecor",flipflop:{nodecor:"nodecor"}},'<span style="font-variant:small-caps;">':{type:"tag",opener:'<span style="font-variant:small-caps;">',closer:"</span>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<sc>":{type:"tag",opener:"<sc>",closer:"</sc>",attr:"@font-variant",outer:"small-caps",flipflop:{"small-caps":"normal",normal:"small-caps"}},"<i>":{type:"tag",opener:"<i>",closer:"</i>",attr:"@font-style",outer:"italic",flipflop:{italic:"normal",normal:"italic"}},"<b>":{type:"tag",opener:"<b>",closer:"</b>",attr:"@font-weight",outer:"bold",flipflop:{bold:"normal",normal:"bold"}},"<sup>":{type:"tag",opener:"<sup>",closer:"</sup>",attr:"@vertical-align",outer:"sup",flipflop:{sub:"sup",sup:"sup"}},"<sub>":{type:"tag",opener:"<sub>",closer:"</sub>",attr:"@vertical-align",outer:"sub",flipflop:{sup:"sub",sub:"sub"}},' "':{type:"quote",opener:' "',closer:'"',attr:"@quotes",outer:"true",flipflop:{true:"inner",inner:"true",false:"true"}}," '":{type:"quote",opener:" '",closer:"'",attr:"@quotes",outer:"inner",flipflop:{true:"inner",inner:"true",false:"true"}}};i['("']=i[' "'],i["('"]=i[" '"];var r=t.getTerm("open-quote"),s=t.getTerm("close-quote"),n=t.getTerm("open-inner-quote"),a=t.getTerm("close-inner-quote");r&&s&&-1===[' "'," '",'"',"'"].indexOf(r)&&(i[r]=JSON.parse(JSON.stringify(i[' "'])),i[r].opener=r,i[r].closer=s),n&&a&&-1===[' "'," '",'"',"'"].indexOf(n)&&(i[n]=JSON.parse(JSON.stringify(i[" '"])),i[n].opener=n,i[n].closer=a);(function(){for(var t={},e=Object.keys(i),r=0,s=e.length;r<s;r++){var n=e[r];"quote"===i[n].type&&(t[i[n].closer]=i[n])}})(),function(){for(var t={},e=Object.keys(i),r=0,s=e.length;r<s;r++){var n=e[r];if("nocase"!==i[n].type){var a=i[n].attr,o=i[n].outer,l=i[n].flipflop[i[n].outer];t[a+"/"+o]=i[n],t[a+"/"+l]=i[n]}}}();function o(t){i[t].outer="true",i[{" '":' "',' "':" '",'("':"('","('":'("'}[t]].outer="inner"}function l(t){for(var e=[],r=Object.keys(i),s=0,n=r.length;s<n;s++){var a=r[s];"quote"===i[t].type&&i[t]||e.push(a)}var o=i[t];return o.opener=new RegExp("^(?:"+e.map(function(t){return t.replace("(","\\(")}).join("|")+")"),o}var u=function(){for(var t={},e=Object.keys(i),r=0,s=e.length;r<s;r++){var n=e[r];t[n]=l(n)}return t}(),c=function(){var t=[],e=[],i={};for(var r in u)t.push(r),i[u[r].closer]=!0;for(var s=Object.keys(i),n=0,a=s.length;n<a;n++){var o=s[n];e.push(o)}var l=t.concat(e).map(function(t){return t.replace("(","\\(")}).join("|");return{matchAll:new RegExp("((?:"+l+"))","g"),splitAll:new RegExp("(?:"+l+")","g"),open:new RegExp("(^(?:"+t.map(function(t){return t.replace("(","\\(")}).join("|")+")$)"),close:new RegExp("(^(?:"+e.join("|")+")$)")}}();function m(t,i){return function(t,i){return t.match(c.open)?function(t,i){var r=e[e.length-1];return!r||t.match(r.opener)?(e.push({type:u[t].type,opener:u[t].opener,closer:u[t].closer,pos:i}),!1):(e.pop(),e.push({type:u[t].type,opener:u[t].opener,closer:u[t].closer,pos:i}),{fixtag:r.pos})}(t,i):function(t,i){var r=e[e.length-1];return r&&t===r.closer?(e.pop(),"nocase"===r.type&&{nocase:{open:r.pos,close:i}}):r?{fixtag:r.pos}:{fixtag:i}}(t,i)}(t,i)}var h=function(e){this.set=function(s){for(var n=i[s].attr,a=null,o=r.length-1;o>-1;o--){var l=r[o];if(l[0]===n){a=l;break}}if(!a){var u=[t[t.tmp.area].opt.layout_decorations].concat(e.alldecor);t:for(var o=u.length-1;o>-1;o--){var c=u[o];if(c)for(var p=c.length-1;p>-1;p--){var l=c[p];if(l[0]===n){a=l;break t}}}}a=a?[n,i[s].flipflop[a[1]]]:[n,i[s].outer];r.push(a)},this.pair=function(){return r[r.length-1]},this.pop=function(){r.pop()};var r=[]};function f(t,e){if("'"===t){if(e&&e.match(/^[^\,\.\?\:\;\ ]/))return!0}else if(" '"===t&&e&&e.match(/^[\ ]/))return!0;return!1}},t.exports=p,p.Output.Formatters=new function(){this.passthrough=function(t,e){return e},this.lowercase=function(t,e){return s({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];s&&(e[i]=s.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},this.uppercase=function(t,e){return s({quoteState:null,capitaliseWords:function(t){for(var e=t.split(" "),i=0,r=e.length;i<r;i++){var s=e[i];s&&(e[i]=s.toUpperCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)},this.sentence=function(t,e){var i={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),s=0,n=e.length;s<n;s++){var a=e[s];a&&(i.isFirst?(e[s]=r(a),i.isFirst=!1):e[s]=a.toLowerCase())}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return s(i,e)},this.title=function(t,i){var n={quoteState:[],capitaliseWords:function(t,i,s){if(t.trim()){for(var a=t.split(/[ \u00A0]+/),o=e.split(t),a=o.strings,l=0,u=a.length;l<u;l++){var c=a[l];c&&(c.length>1&&!c.toLowerCase().match(n.skipWordsRex)?a[l]=r(a[l]):l===a.length-1&&"-"===s?a[l]=r(a[l]):n.isFirst?a[l]=r(a[l]):n.afterPunct&&(a[l]=r(a[l])),n.afterPunct=!1,n.isFirst=!1,n.lastWordPos={strings:i,words:l})}t=e.join(o)}return t},skipWordsRex:t.locale[t.opt.lang].opts["skip-words-regexp"],tagState:[],afterPunct:!1,isFirst:!0};return s(n,i)},this["capitalize-first"]=function(t,e){var i={quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),s=0,n=e.length;s<n;s++){var a=e[s];if(a&&i.isFirst){e[s]=r(a),i.isFirst=!1;break}}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:!0};return s(i,e)},this["capitalize-all"]=function(t,e){return s({quoteState:[],capitaliseWords:function(t){for(var e=t.split(" "),i=0,s=e.length;i<s;i++){var n=e[i];n&&(e[i]=r(n))}return e.join(" ")},skipWordsRex:null,tagState:[],afterPunct:null,isFirst:null},e)};var t=new p.Doppeler('(?:‘|’|“|”| "| \'|"|\'|[-–—/.,;?!:]|\\[|\\]|\\(|\\)|<span style="font-variant: small-caps;">|<span class="no(?:case|decor)">|</span>|</?(?:i|sc|b|sub|sup)>)',function(t){return t.replace(/(<span)\s+(class=\"no(?:case|decor)\")[^>]*(>)/g,"$1 $2$3").replace(/(<span)\s+(style=\"font-variant:)\s*(small-caps);?(\")[^>]*(>)/g,"$1 $2 $3;$4$5")}),e=new p.Doppeler("(?:[   -​ 　]+)"),i={'<span style="font-variant: small-caps;">':"</span>",'<span class="nocase">':"</span>",'<span class="nodecor">':"</span>"};function r(t,e){var i=t.match(/(^\s*)((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))(.*)/);return!i||i[2].match(/^[\u0370-\u03FF]$/)&&!i[3]?t:i[1]+i[2].toUpperCase()+i[3]}function s(s,n){if(!n)return"";s.doppel=t.split(n);var a={' "':{opener:" '",closer:'"'}," '":{opener:' "',closer:"'"},"‘":{opener:"‘",closer:"’"},"“":{opener:"“",closer:"”"}};function o(t,e){var i=t.match(/(^(?:\u2018|\u2019|\u201C|\u201D|\"|\')|(?: \"| \')$)/);if(i)return function(t,e){return["“","‘",' "'," '"].indexOf(t)>-1?function(t,e){if(0===s.quoteState.length||t===s.quoteState[s.quoteState.length-1].opener)return s.quoteState.push({opener:a[t].opener,closer:a[t].closer,pos:e}),!1;var i=s.quoteState[s.quoteState.length-1].pos;return s.quoteState.pop(),s.quoteState.push({opener:a[t].opener,closer:a[t].closer,positions:e}),i}(t,e):function(t,e){if(!(s.quoteState.length>0&&t===s.quoteState[s.quoteState.length-1].closer))return e;s.quoteState.pop()}(t,e)}(i[1],e)}s.doppel.strings.length&&s.doppel.strings[0].trim()&&(s.doppel.strings[0]=s.capitaliseWords(s.doppel.strings[0],0,s.doppel.tags[0]));for(var l=0,u=s.doppel.tags.length;l<u;l++){var c=s.doppel.tags[l],p=s.doppel.strings[l+1];if(null!==s.tagState&&(i[c]?s.tagState.push(i[c]):s.tagState.length&&c===s.tagState[s.tagState.length-1]&&s.tagState.pop()),null!==s.afterPunct&&c.match(/[\!\?\:]$/)&&(s.afterPunct=!0),0===s.tagState.length?s.doppel.strings[l+1]=s.capitaliseWords(p,l+1,s.doppel,s.doppel.tags[l+1]):s.doppel.strings[l+1].trim()&&(s.lastWordPos=null),null!==s.quoteState)if((h=o(c,l))||0===h){var m=s.doppel.origStrings[h+1].slice(0,1);s.doppel.strings[h+1]=m+s.doppel.strings[h+1].slice(1),s.lastWordPos=null}s.isFirst&&p.trim()&&(s.isFirst=!1),s.afterPunct&&p.trim()&&(s.afterPunct=!1)}if(s.quoteState)for(l=0,u=s.quoteState.length;l<u;l++){var h;if(void 0!==(h=s.quoteState[l].pos)){m=s.doppel.origStrings[h+1].slice(0,1);s.doppel.strings[h+1]=m+s.doppel.strings[h+1].slice(1)}}if(s.lastWordPos){var f=e.split(s.doppel.strings[s.lastWordPos.strings]),d=r(f.strings[s.lastWordPos.words]);f.strings[s.lastWordPos.words]=d,s.doppel.strings[s.lastWordPos.strings]=e.join(f)}return t.join(s.doppel)}},t.exports=p,p.Output.Formats=function(){},p.Output.Formats.prototype.html={text_escape:function(t){return t||(t=""),t.replace(/&/g,"&#38;").replace(/</g,"&#60;").replace(/>/g,"&#62;").replace(/\s\s/g,"  ").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"<sup>"+p.SUPERSCRIPTS[t]+"</sup>"})},bibstart:'<div class="csl-bib-body">\n',bibend:"</div>","@font-style/italic":"<i>%%STRING%%</i>","@font-style/oblique":"<em>%%STRING%%</em>","@font-style/normal":'<span style="font-style:normal;">%%STRING%%</span>',"@font-variant/small-caps":'<span style="font-variant:small-caps;">%%STRING%%</span>',"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":'<span style="font-variant:normal;">%%STRING%%</span>',"@font-weight/bold":"<b>%%STRING%%</b>","@font-weight/normal":'<span style="font-weight:normal;">%%STRING%%</span>',"@font-weight/light":!1,"@text-decoration/none":'<span style="text-decoration:none;">%%STRING%%</span>',"@text-decoration/underline":'<span style="text-decoration:underline;">%%STRING%%</span>',"@vertical-align/sup":"<sup>%%STRING%%</sup>","@vertical-align/sub":"<sub>%%STRING%%</sub>","@vertical-align/baseline":'<span style="baseline">%%STRING%%</span>',"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"’":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){var i="";return t.sys.embedBibliographyEntry&&(i=t.sys.embedBibliographyEntry(this.item_id)+"\n"),'  <div class="csl-entry">'+e+"</div>\n"+i},"@display/block":function(t,e){return'\n\n    <div class="csl-block">'+e+"</div>\n"},"@display/left-margin":function(t,e){return'\n    <div class="csl-left-margin">'+e+"</div>"},"@display/right-inline":function(t,e){return'<div class="csl-right-inline">'+e+"</div>\n  "},"@display/indent":function(t,e){return'<div class="csl-indent">'+e+"</div>\n  "},"@showid/true":function(t,e,i){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;if(i)return'<span class="'+t.opt.nodenames[i]+'" cslid="'+i+'">'+e+"</span>";if(this.params&&"string"==typeof e){var r="";if(e){var s=e.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);r=s[1],e=s[2]}var n="";return e&&p.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(n=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,r,e,n)}return e},"@URL/true":function(t,e){return'<a href="'+e+'">'+e+"</a>"},"@DOI/true":function(t,e){var i=e;return e.match(/^https?:\/\//)||(i="https://doi.org/"+e),'<a href="'+i+'">'+e+"</a>"}},p.Output.Formats.prototype.text={text_escape:function(t){return t||(t=""),t},bibstart:"",bibend:"","@font-style/italic":!1,"@font-style/oblique":!1,"@font-style/normal":!1,"@font-variant/small-caps":!1,"@passthrough/true":p.Output.Formatters.passthrough,"@font-variant/normal":!1,"@font-weight/bold":!1,"@font-weight/normal":!1,"@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":!1,"@vertical-align/baseline":!1,"@vertical-align/sup":!1,"@vertical-align/sub":!1,"@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?t.getTerm("open-quote"):t.getTerm("open-quote")+e+t.getTerm("close-quote")},"@quotes/inner":function(t,e){return void 0===e?"’":t.getTerm("open-inner-quote")+e+t.getTerm("close-inner-quote")},"@quotes/false":!1,"@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e+"\n"},"@display/block":function(t,e){return"\n"+e},"@display/left-margin":function(t,e){return e},"@display/right-inline":function(t,e){return e},"@display/indent":function(t,e){return"\n    "+e},"@showid/true":function(t,e,i){return e},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},p.Output.Formats.prototype.rtf={text_escape:function(t){return t||(t=""),t.replace(/([\\{}])/g,"\\$1").replace(p.SUPERSCRIPTS_REGEXP,function(t){return"\\super "+p.SUPERSCRIPTS[t]+"\\nosupersub{}"}).replace(/[\u007F-\uFFFF]/g,function(t){return"\\uc0\\u"+t.charCodeAt(0).toString()+"{}"}).split("\t").join("\\tab{}")},"@passthrough/true":p.Output.Formatters.passthrough,"@font-style/italic":"{\\i{}%%STRING%%}","@font-style/normal":"{\\i0{}%%STRING%%}","@font-style/oblique":"{\\i{}%%STRING%%}","@font-variant/small-caps":"{\\scaps %%STRING%%}","@font-variant/normal":"{\\scaps0{}%%STRING%%}","@font-weight/bold":"{\\b{}%%STRING%%}","@font-weight/normal":"{\\b0{}%%STRING%%}","@font-weight/light":!1,"@text-decoration/none":!1,"@text-decoration/underline":"{\\ul{}%%STRING%%}","@vertical-align/baseline":!1,"@vertical-align/sup":"\\super %%STRING%%\\nosupersub{}","@vertical-align/sub":"\\sub %%STRING%%\\nosupersub{}","@strip-periods/true":p.Output.Formatters.passthrough,"@strip-periods/false":p.Output.Formatters.passthrough,"@quotes/true":function(t,e){return void 0===e?p.Output.Formats.rtf.text_escape(t.getTerm("open-quote")):p.Output.Formats.rtf.text_escape(t.getTerm("open-quote"))+e+p.Output.Formats.rtf.text_escape(t.getTerm("close-quote"))},"@quotes/inner":function(t,e){return void 0===e?p.Output.Formats.rtf.text_escape("’"):p.Output.Formats.rtf.text_escape(t.getTerm("open-inner-quote"))+e+p.Output.Formats.rtf.text_escape(t.getTerm("close-inner-quote"))},"@quotes/false":!1,bibstart:"{\\rtf ",bibend:"}","@display/block":"\\line{}%%STRING%%\\line\r\n","@cite/entry":function(t,e){return t.sys.wrapCitationEntry(e,this.item_id,this.locator_txt,this.suffix_txt)},"@bibliography/entry":function(t,e){return e},"@display/left-margin":function(t,e){return e+"\\tab "},"@display/right-inline":function(t,e){return e+"\r\n"},"@display/indent":function(t,e){return"\n\\tab "+e+"\\line\r\n"},"@showid/true":function(t,e,i){if(t.tmp.just_looking||t.tmp.suppress_decorations)return e;var r="";if(e){var s=e.match(p.VARIABLE_WRAPPER_PREPUNCT_REX);r=s[1],e=s[2]}var n="";return e&&p.SWAPPING_PUNCTUATION.indexOf(e.slice(-1))>-1&&(n=e.slice(-1),e=e.slice(0,-1)),t.sys.variableWrapper(this.params,r,e,n)},"@URL/true":function(t,e){return e},"@DOI/true":function(t,e){return e}},p.Output.Formats=new p.Output.Formats,t.exports=p,p.Registry=function(t){this.debug=!1,this.state=t,this.registry={},this.reflist=[],this.refhash={},this.namereg=new p.Registry.NameReg(t),this.citationreg=new p.Registry.CitationReg(t),this.authorstrings={},this.mylist=[],this.myhash={},this.deletes=[],this.inserts=[],this.uncited={},this.refreshes={},this.akeys={},this.oldseq={},this.return_data={},this.ambigcites={},this.ambigresets={},this.sorter=new p.Registry.Comparifier(t,"bibliography_sort"),this.getSortedIds=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(""+this.reflist[e].id);return t},this.getSortedRegistryItems=function(){for(var t=[],e=0,i=this.reflist.length;e<i;e+=1)t.push(this.reflist[e]);return t}},p.Registry.prototype.init=function(t,e){if(this.oldseq={},e){this.uncited={};for(var i=0,r=t.length;i<r;i+=1)this.myhash[t[i]]||this.mylist.push(""+t[i]),this.uncited[t[i]]=!0,this.myhash[t[i]]=!0}else{for(var s in this.uncited)t.push(s);var n={};for(i=t.length-1;i>-1;i+=-1)n[t[i]]?t=t.slice(0,i).concat(t.slice(i+1)):n[t[i]]=!0;this.mylist=t,this.myhash=n}this.refreshes={},this.touched={},this.ambigsTouched={},this.ambigresets={}},p.Registry.prototype.dopurge=function(t){for(var e=this.mylist.length-1;e>-1;e+=-1)this.citationreg.citationsByItemId&&(this.citationreg.citationsByItemId[this.mylist[e]]||t[this.mylist[e]]||(delete this.myhash[this.mylist[e]],this.mylist=this.mylist.slice(0,e).concat(this.mylist.slice(e+1))));this.dodeletes(this.myhash)},p.Registry.prototype.dodeletes=function(t){var e,i,r,s,n,a,o;if("string"==typeof t){var l=t;(t={})[l]=!0}for(var l in this.registry)if(!t[l]){if(this.uncited[l])continue;for(n in this.namereg.delitems(l))this.refreshes[n]=!0;for(e=this.registry[l].ambig,(a=this.ambigcites[e].indexOf(l))>-1&&(s=this.ambigcites[e].slice(),this.ambigcites[e]=s.slice(0,a).concat(s.slice(a+1,s.length)),this.ambigresets[e]=this.ambigcites[e].length),r=this.ambigcites[e].length,i=0;i<r;i+=1)o=""+this.ambigcites[e][i],this.refreshes[o]=!0;if(this.registry[l].siblings)if(1==this.registry[l].siblings.length){var u=this.registry[l].siblings[0];this.registry[u].master=!0,this.registry[u].siblings.pop(),this.registry[u].parallel=!1}else if(this.registry[l].siblings.length>1){var c=[l];if(this.registry[l].master){var p=this.registry[l].siblings[0],m=this.registry[p];m.master=!0,m.parallel=!1,c.push(p);for(var h=0,f=this.registry[l].siblings.length;h<f;h+=1)this.registry[this.registry[l].siblings[h]].parallel=p}var d=[];for(h=this.registry[l].siblings.length-1;h>-1;h+=-1){var g=this.registry[l].siblings.pop();-1===c.indexOf(g)&&d.push(g)}for(h=d.length-1;h>-1;h+=-1)this.registry[l].siblings.push(d[h])}for(var b=this.reflist.length-1;b>-1;b--)this.reflist[b].id===l&&(this.reflist=this.reflist.slice(0,b).concat(this.reflist.slice(b+1)));delete this.registry[l],delete this.refhash[l],this.return_data.bibchange=!0}},p.Registry.prototype.doinserts=function(t){var e,i,r,s,n;"string"==typeof t&&(t=[t]);for(var a=0,o=t.length;a<o;a+=1)e=t[a],this.registry[e]||(i=this.state.retrieveItem(e),r=p.getAmbiguousCite.call(this.state,i),this.ambigsTouched[r]=!0,i.legislation_id||(this.akeys[r]=!0),s={id:""+e,seq:0,offset:0,sortkeys:!1,ambig:!1,rendered:!1,disambig:!1,ref:i,newItem:!0},this.registry[e]=s,this.citationreg.citationsByItemId&&this.citationreg.citationsByItemId[e]&&(this.registry[e]["first-reference-note-number"]=this.citationreg.citationsByItemId[e][0].properties.noteIndex),n=p.getAmbigConfig.call(this.state),this.registerAmbigToken(r,e,n),this.touched[e]=!0,this.return_data.bibchange=!0)},p.Registry.prototype.rebuildlist=function(t){var e,i,r,s;if(t)for(this.reflist=[],e=this.mylist.length,i=0;i<e;i+=1)r=this.mylist[i],s=this.registry[r],this.reflist.push(s),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=i+1;else for(this.reflist_inserts=[],e=this.mylist.length,i=0;i<e;i+=1)r=this.mylist[i],(s=this.registry[r]).newItem&&this.reflist_inserts.push(s),this.oldseq[r]=this.registry[r].seq,this.registry[r].seq=i+1},p.Registry.prototype.dorefreshes=function(){var t;for(var e in this.refreshes)if(t=this.registry[e]){t.sortkeys=void 0,n=this.state.retrieveItem(e);var i=t.ambig;for(var r in void 0===i&&(this.state.tmp.disambig_settings=!1,i=p.getAmbiguousCite.call(this.state,n),a=p.getAmbigConfig.call(this.state),this.registerAmbigToken(i,e,a)),this.ambigresets)if(1===this.ambigresets[r]){var s=this.ambigcites[i][0],n=this.state.retrieveItem(s);this.registry[s].disambig=new p.AmbigConfig,this.state.tmp.disambig_settings=!1;i=p.getAmbiguousCite.call(this.state,n);var a=p.getAmbigConfig.call(this.state);this.registerAmbigToken(i,s,a)}this.state.tmp.taintedItemIDs[e]=!0,this.ambigsTouched[i]=!0,n.legislation_id||(this.akeys[i]=!0),this.touched[e]=!0}},p.Registry.prototype.setdisambigs=function(){var t;for(t in this.ambigsTouched)this.state.disambiguate.run(t);this.ambigsTouched={},this.akeys={}},p.Registry.prototype.renumber=function(){var t,e,i;for(t=this.reflist.length,e=0;e<t;e+=1)(i=this.reflist[e]).seq=e+1,this.state.opt.update_mode===p.NUMERIC&&i.seq!=this.oldseq[i.id]&&(this.state.tmp.taintedItemIDs[i.id]=!0),this.state.opt.bib_mode===p.NUMERIC&&i.seq!=this.oldseq[i.id]&&(this.return_data.bibchange=!0);this.state.opt.citation_number_sort_direction===p.DESCENDING&&this.state.opt.citation_number_sort_used&&this.reflist.reverse()},p.Registry.prototype.setsortkeys=function(){for(var t=0,e=this.mylist.length;t<e;t+=1){var i=this.mylist[t];(this.touched[i]||this.state.tmp.taintedItemIDs[i]||!this.registry[i].sortkeys)&&(this.registry[i].sortkeys=p.getSortKeys.call(this.state,this.state.retrieveItem(i),"bibliography_sort"))}},p.Registry.prototype._insertItem=function(t,e){return e.splice(this._locationOf(t,e)+1,0,t),e},p.Registry.prototype._locationOf=function(t,e,i,r){if(0===e.length)return-1;var s=(i=i||0)+(r=r||e.length)>>1,n=this.sorter.compareKeys(t,e[s]);if(r-i<=1)return-1==n?s-1:s;switch(n){case-1:return this._locationOf(t,e,i,s);case 0:return s;case 1:return this._locationOf(t,e,s,r)}},p.Registry.prototype.sorttokens=function(t){var e,i,r;if(!t){for(this.reflist_inserts=[],e=this.mylist.length,r=0;r<e;r+=1)i=this.mylist[r],(o=this.registry[i]).newItem&&this.reflist_inserts.push(o);for(var s in this.state.tmp.taintedItemIDs)if(this.registry[s]&&!this.registry[s].newItem)for(var n=this.reflist.length-1;n>-1;n--)this.reflist[n].id===s&&(this.reflist_inserts.push(this.reflist[n]),this.reflist=this.reflist.slice(0,n).concat(this.reflist.slice(n+1)));n=0;for(var a=this.reflist_inserts.length;n<a;n++){var o;delete(o=this.reflist_inserts[n]).newItem,this.reflist=this._insertItem(o,this.reflist)}for(r=0;r<e;r+=1)i=this.mylist[r],o=this.registry[i],this.registry[i].seq=r+1}},p.Registry.Comparifier=function(t,e){var i,r,s,n,a=p.getSortCompare(t.opt["default-locale-sort"]);i=t[e].opt.sort_directions,this.compareKeys=function(t,e){for(r=t.sortkeys?t.sortkeys.length:0,s=0;s<r;s+=1){var n=0;if(0<(n=t.sortkeys[s]===e.sortkeys[s]?0:void 0===t.sortkeys[s]?i[s][1]:void 0===e.sortkeys[s]?i[s][0]:a(t.sortkeys[s],e.sortkeys[s])))return i[s][1];if(0>n)return i[s][0]}return t.seq>e.seq?1:t.seq<e.seq?-1:0},n=this.compareKeys,this.compareCompositeKeys=function(t,e){return n(t[1],e[1])}},p.Registry.prototype.compareRegistryTokens=function(t,e){return t.seq>e.seq?1:t.seq<e.seq?-1:0},p.Registry.prototype.registerAmbigToken=function(t,e,i){if(this.registry[e]&&this.registry[e].disambig&&this.registry[e].disambig.names)for(var r=0,s=i.names.length;r<s;r+=1){if(i.names[r]!==this.registry[e].disambig.names[r])this.state.tmp.taintedItemIDs[e]=!0;else if(i.givens[r])for(var n=0,a=i.givens[r].length;n<a;n+=1){i.givens[r][n]!==this.registry[e].disambig.givens[r][n]&&(this.state.tmp.taintedItemIDs[e]=!0)}}this.ambigcites[t]||(this.ambigcites[t]=[]),-1===this.ambigcites[t].indexOf(""+e)&&this.ambigcites[t].push(""+e),this.registry[e].ambig=t;this.registry[e].disambig=p.cloneAmbigConfig(i)},p.getSortKeys=function(t,e){var i,r,s,n,a,o;for(i=this.tmp.area,r=this.tmp.root,s=this.tmp.extension,n=p.Util.Sort.strip_prepositions,this.tmp.area=e,this.tmp.root=e.indexOf("_")>-1?e.slice(0,-5):e,this.tmp.extension="_sort",this.tmp.disambig_override=!0,this.tmp.disambig_request=!1,this.parallel.use_parallels=(!0===this.parallel.use_parallels||null===this.parallel.use_parallels)&&null,this.tmp.suppress_decorations=!0,p.getCite.call(this,t),this.tmp.suppress_decorations=!1,this.parallel.use_parallels=null===this.parallel.use_parallels,this.tmp.disambig_override=!1,a=this[e].keys.length,o=0;o<a;o+=1)this[e].keys[o]=n(this[e].keys[o]);return this.tmp.area=i,this.tmp.root=r,this.tmp.extension=s,this[e].keys},t.exports=p,p.Registry.NameReg=function(t){var e,i,r,s,n,a,o,l,u,c,m,h;this.state=t,this.namereg={},this.nameind={},this.nameindpkeys={},this.itemkeyreg={},o=function(t){return t||(t=""),t.replace(/\./g," ").replace(/\s+/g," ").replace(/\s+$/,"")},l=function(t,s,n){e=o(n.family);var a=(r=o(n.given)).match(/[,\!]* ([^,]+)$/);a&&a[1]===a[1].toLowerCase()&&(r=r.replace(/[,\!]* [^,]+$/,"")),i=p.Util.Names.initializeWith(t,r,"%s"),"by-cite"===t.citation.opt["givenname-disambiguation-rule"]&&(e=""+s+e)},u=function(r,a,o,u,c,p){var m;if("bibliography"===t.tmp.area.slice(0,12)&&!c)return"string"==typeof p?1:2;a=t.nameOutput.getName(a,"locale-translit",!0).name,l(this.state,""+r,a),m=2,s=t.opt["disambiguate-add-givenname"];var h=n=t.citation.opt["givenname-disambiguation-rule"];return"by-cite"===n&&(n="all-names"),"short"===c?m=0:"string"==typeof p&&(m=1),void 0===this.namereg[e]||void 0===this.namereg[e].ikey[i]?m:"by-cite"===h&&m<=u?u:s?"string"==typeof n&&"primary-name"===n.slice(0,12)&&o>0?m:(n&&"all-names"!==n&&"primary-name"!==n?"all-names-with-initials"!==n&&"primary-name-with-initials"!==n||(m=this.namereg[e].count>1?1:0):(this.namereg[e].count>1&&(m=1),(this.namereg[e].ikey&&this.namereg[e].ikey[i].count>1||this.namereg[e].count>1&&"string"!=typeof p)&&(m=2)),t.registry.registry[r]?m:"short"==c?0:"string"==typeof p?1:void 0):m},c=function(s){var n,o,l,u,c;"string"!=typeof s&&"number"!=typeof s||(s=[""+s]);for(o=s.length,n=0;n<o;n+=1)if(u=""+s[n],this.nameind[u]){for(c in this.nameind[u])if(this.nameind[u].hasOwnProperty(c)){var p=c.split("::");if(e=p[0],i=p[1],r=p[2],void 0===this.namereg[e])continue;if(a=this.namereg[e].items,r&&this.namereg[e].ikey[i]&&this.namereg[e].ikey[i].skey[r]&&((l=(h=this.namereg[e].ikey[i].skey[r].items).indexOf(""+u))>-1&&(this.namereg[e].ikey[i].skey[r].items=h.slice(0,l).concat(h.slice([l+1]))),0===this.namereg[e].ikey[i].skey[r].items.length&&(delete this.namereg[e].ikey[i].skey[r],this.namereg[e].ikey[i].count+=-1,this.namereg[e].ikey[i].count<2)))for(var m=0,f=this.namereg[e].ikey[i].items.length;m<f;m+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[i].items[m]]=!0;if(i&&this.namereg[e].ikey[i]&&((l=this.namereg[e].ikey[i].items.indexOf(""+u))>-1&&(a=this.namereg[e].ikey[i].items.slice(),this.namereg[e].ikey[i].items=a.slice(0,l).concat(a.slice([l+1]))),0===this.namereg[e].ikey[i].items.length&&(delete this.namereg[e].ikey[i],this.namereg[e].count+=-1,this.namereg[e].count<2)))for(m=0,f=this.namereg[e].items.length;m<f;m+=1)t.tmp.taintedItemIDs[this.namereg[e].items[m]]=!0;e&&((l=this.namereg[e].items.indexOf(""+u))>-1&&(a=this.namereg[e].items.slice(),this.namereg[e].items=a.slice(0,l).concat(a.slice([l+1],a.length))),this.namereg[e].items.length<2&&delete this.namereg[e]),delete this.nameind[u][c]}delete this.nameind[u],delete this.nameindpkeys[u]}return{}},m=function(s,n,a){if(n=t.nameOutput.getName(n,"locale-translit",!0).name,!t.citation.opt["givenname-disambiguation-rule"]||"primary-"!==t.citation.opt["givenname-disambiguation-rule"].slice(0,8)||0===a){if(l(this.state,""+s,n),e&&(void 0===this.namereg[e]?(this.namereg[e]={},this.namereg[e].count=0,this.namereg[e].ikey={},this.namereg[e].items=[s]):-1===this.namereg[e].items.indexOf(s)&&this.namereg[e].items.push(s)),e&&i)if(void 0===this.namereg[e].ikey[i]){if(this.namereg[e].ikey[i]={},this.namereg[e].ikey[i].count=0,this.namereg[e].ikey[i].skey={},this.namereg[e].ikey[i].items=[s],this.namereg[e].count+=1,2===this.namereg[e].count)for(var o=0,u=this.namereg[e].items.length;o<u;o+=1)t.tmp.taintedItemIDs[this.namereg[e].items[o]]=!0}else-1===this.namereg[e].ikey[i].items.indexOf(s)&&this.namereg[e].ikey[i].items.push(s);if(e&&i&&r)if(void 0===this.namereg[e].ikey[i].skey[r]){if(this.namereg[e].ikey[i].skey[r]={},this.namereg[e].ikey[i].skey[r].items=[s],this.namereg[e].ikey[i].count+=1,2===this.namereg[e].ikey[i].count)for(o=0,u=this.namereg[e].ikey[i].items.length;o<u;o+=1)t.tmp.taintedItemIDs[this.namereg[e].ikey[i].items[o]]=!0}else-1===this.namereg[e].ikey[i].skey[r].items.indexOf(s)&&this.namereg[e].ikey[i].skey[r].items.push(s);void 0===this.nameind[s]&&(this.nameind[s]={},this.nameindpkeys[s]={}),e&&(this.nameind[s][e+"::"+i+"::"+r]=!0,this.nameindpkeys[s][e]=this.namereg[e])}},this.addname=m,this.delitems=c,this.evalname=u},t.exports=p,p.Registry.CitationReg=function(t){this.citationById={},this.citationByIndex=[]},t.exports=p,p.Disambiguation=function(t){this.state=t,this.sys=this.state.sys,this.registry=t.registry.registry,this.ambigcites=t.registry.ambigcites,this.configModes(),this.debug=!1},p.Disambiguation.prototype.run=function(t){this.modes.length&&(this.akey=t,this.initVars(t)&&this.runDisambig())},p.Disambiguation.prototype.runDisambig=function(){var t;for(this.initGivens=!0;this.lists.length;){for(this.gnameset=0,this.gname=0,this.clashes=[1,0];this.lists[0][1].length;){this.listpos=0,this.base||(this.base=this.lists[0][0]);t=this.incrementDisambig(),this.scanItems(this.lists[0]),this.evalScan(t)}this.lists=this.lists.slice(1)}},p.Disambiguation.prototype.scanItems=function(t){var e;this.Item=t[1][0],this.ItemCite=p.getAmbiguousCite.call(this.state,this.Item,this.base,!0),this.scanlist=t[1],this.partners=[],this.partners.push(this.Item),this.nonpartners=[];for(var i=0,r=1,s=t[1].length;r<s;r+=1){e=t[1][r];var n=p.getAmbiguousCite.call(this.state,e,this.base,!0);this.ItemCite===n?(i+=1,this.partners.push(e)):this.nonpartners.push(e)}this.clashes[0]=this.clashes[1],this.clashes[1]=i},p.Disambiguation.prototype.evalScan=function(t){this[this.modes[this.modeindex]](t),t&&(this.modeindex<this.modes.length-1?this.modeindex+=1:this.lists[this.listpos+1]=[this.base,[]])},p.Disambiguation.prototype.disNames=function(t){if(0===this.clashes[1]&&1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,[]];else if(0===this.clashes[1])this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.partners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.nonpartners.length&&(this.initGivens=!0);else if(1===this.nonpartners.length)this.captureStepToBase(),this.state.registry.registerAmbigToken(this.akey,""+this.nonpartners[0].id,this.betterbase),this.lists[this.listpos]=[this.betterbase,this.partners];else if(this.clashes[1]<this.clashes[0])this.captureStepToBase(),this.lists[this.listpos]=[this.betterbase,this.partners],this.lists.push([this.betterbase,this.nonpartners]);else if(t&&(this.lists[this.listpos]=[this.betterbase,this.nonpartners],this.lists.push([this.betterbase,this.partners]),this.modeindex===this.modes.length-1)){for(var e=0,i=this.partners.length;e<i;e+=1)this.state.registry.registerAmbigToken(this.akey,""+this.partners[e].id,this.betterbase);this.lists[this.listpos]=[this.betterbase,[]]}},p.Disambiguation.prototype.disExtraText=function(){var t=!1;if(0===this.clashes[1]&&this.nonpartners.length<2&&(t=!0),t||this.base.disambiguate&&this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax){if(t||this.state.tmp.disambiguate_count===this.state.tmp.disambiguate_maxMax)if(t||this.modeindex===this.modes.length-1){var e=this.lists[this.listpos][0];for(i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,e);this.lists[this.listpos]=[this.betterbase,[]]}else{this.modeindex=this.modes.length-1,(e=this.lists[this.listpos][0]).disambiguate=!0;for(i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0,this.state.registry.registerAmbigToken(this.akey,""+this.lists[this.listpos][1][i].id,e)}}else if(this.modeindex=0,this.base.disambiguate=this.state.tmp.disambiguate_count,this.betterbase.disambiguate=this.state.tmp.disambiguate_count,this.base.disambiguate)this.disNames();else{this.initGivens=!0,this.base.disambiguate=1;for(var i=0,r=this.lists[this.listpos][1].length;i<r;i+=1)this.state.tmp.taintedItemIDs[this.lists[this.listpos][1][i].id]=!0}},p.Disambiguation.prototype.disYears=function(){var t;t=[];var e=this.lists[this.listpos][0];if(this.clashes[1])for(var i=0,r=this.state.registry.mylist.length;i<r;i+=1)for(var s=this.state.registry.mylist[i],n=0,a=this.lists[this.listpos][1].length;n<a;n+=1){var o;if((o=this.lists[this.listpos][1][n]).id==s){t.push(this.registry[o.id]);break}}t.sort(this.state.registry.sorter.compareKeys);for(var l=0,u=t.length;l<u;l+=1){e.year_suffix=""+l;var c=this.state.registry.registry[t[l].id].disambig;this.state.registry.registerAmbigToken(this.akey,""+t[l].id,e),p.ambigConfigDiff(c,e)&&(this.state.tmp.taintedItemIDs[t[l].id]=!0)}this.lists[this.listpos]=[this.betterbase,[]]},p.Disambiguation.prototype.incrementDisambig=function(){if(this.initGivens)return this.initGivens=!1,!1;var t=!1,e=!0;if("disNames"===this.modes[this.modeindex]){e=!1,"number"!=typeof this.givensMax&&(e=!0);var i=!1;if("number"!=typeof this.namesMax&&(i=!0),"number"==typeof this.givensMax&&(this.base.givens.length&&this.base.givens[this.gnameset][this.gname]<this.givensMax?this.base.givens[this.gnameset][this.gname]+=1:e=!0),"number"==typeof this.namesMax&&e&&(this.state.opt["disambiguate-add-names"]?(i=!1,this.gname<this.namesMax?(this.base.names[this.gnameset]+=1,this.gname+=1):i=!0):i=!0),"number"==typeof this.namesetsMax&&i)if(this.gnameset<this.namesetsMax)this.gnameset+=1,this.base.names[this.gnameset]=1,this.gname=0;else;"number"==typeof this.namesetsMax&&-1!==this.namesetsMax&&this.gnameset!==this.namesetsMax||this.state.opt["disambiguate-add-names"]&&"number"==typeof this.namesMax&&this.gname!==this.namesMax||"number"==typeof this.givensMax&&void 0!==this.base.givens[this.gnameset]&&void 0!==this.base.givens[this.gnameset][this.gname]&&this.base.givens[this.gnameset][this.gname]!==this.givensMax||(t=!0)}else"disExtraText"===this.modes[this.modeindex]&&(this.base.disambiguate+=1,this.betterbase.disambiguate+=1);return t},p.Disambiguation.prototype.initVars=function(t){var e,i,r;if(this.lists=[],this.base=!1,this.betterbase=!1,this.akey=t,this.maxNamesByItemId={},i=[],!(e=this.ambigcites[t])||!e.length)return!1;var s=this.state.retrieveItem(""+e[0]);if(this.getCiteData(s),this.base=p.getAmbigConfig.call(this.state),e&&e.length>1){i.push([this.maxNamesByItemId[s.id],s]);for(var n=1,a=e.length;n<a;n+=1)s=this.state.retrieveItem(""+e[n]),this.getCiteData(s,this.base),i.push([this.maxNamesByItemId[s.id],s]);i.sort(function(t,e){return t[0]>e[0]?1:t[0]<e[0]?-1:t[1].id>e[1].id?1:t[1].id<e[1].id?-1:0}),r=[];for(var n=0,a=i.length;n<a;n+=1)r.push(i[n][1]);this.lists.push([this.base,r]),this.Item=this.lists[0][1][0]}else this.Item=this.state.retrieveItem(""+e[0]);return this.modeindex=0,this.state.citation.opt["disambiguate-add-names"],this.namesMax=this.maxNamesByItemId[this.Item.id][0],this.padBase(this.base),this.padBase(this.betterbase),this.base.year_suffix=!1,this.base.disambiguate=!1,this.betterbase.year_suffix=!1,this.betterbase.disambiguate=!1,"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.state.opt["disambiguate-add-givenname"]&&(this.givensMax=2),!0},p.Disambiguation.prototype.padBase=function(t){for(var e=0,i=t.names.length;e<i;e+=1){t.givens[e]||(t.givens[e]=[]);for(var r=0,s=t.names[e];r<s;r+=1)t.givens[e][r]||(t.givens[e][r]=0)}},p.Disambiguation.prototype.configModes=function(){var t,e;this.modes=[],t=this.state.opt["disambiguate-add-givenname"],e=this.state.citation.opt["givenname-disambiguation-rule"],(this.state.opt["disambiguate-add-names"]||t&&"by-cite"===e)&&this.modes.push("disNames"),this.state.opt.has_disambiguate&&this.modes.push("disExtraText"),this.state.opt["disambiguate-add-year-suffix"]&&this.modes.push("disYears")},p.Disambiguation.prototype.getCiteData=function(t,e){if(!this.maxNamesByItemId[t.id]){p.getAmbiguousCite.call(this.state,t,e),e=p.getAmbigConfig.call(this.state),this.maxNamesByItemId[t.id]=p.getMaxVals.call(this.state),this.state.registry.registry[t.id].disambig.givens=this.state.tmp.disambig_settings.givens.slice();for(var i=0,r=this.state.registry.registry[t.id].disambig.givens.length;i<r;i+=1)this.state.registry.registry[t.id].disambig.givens[i]=this.state.tmp.disambig_settings.givens[i].slice();this.namesetsMax=this.state.registry.registry[t.id].disambig.names.length-1,this.base||(this.base=e,this.betterbase=p.cloneAmbigConfig(e)),e.names.length<this.base.names.length&&(this.base=e);for(i=0,r=e.names.length;i<r;i+=1)e.names[i]>this.base.names[i]&&(this.base.givens[i]=e.givens[i].slice(),this.base.names[i]=e.names[i],this.betterbase.names=this.base.names.slice(),this.betterbase.givens=this.base.givens.slice(),this.padBase(this.base),this.padBase(this.betterbase));this.betterbase.givens=this.base.givens.slice();for(var s=0,n=this.base.givens.length;s<n;s+=1)this.betterbase.givens[s]=this.base.givens[s].slice()}},p.Disambiguation.prototype.captureStepToBase=function(){"by-cite"===this.state.citation.opt["givenname-disambiguation-rule"]&&this.base.givens&&this.base.givens.length&&void 0!==this.base.givens[this.gnameset][this.gname]&&(this.betterbase.givens[this.gnameset][this.gname]=this.base.givens[this.gnameset][this.gname]),this.betterbase.names[this.gnameset]=this.base.names[this.gnameset]},t.exports=p,p.Engine.prototype.getJurisdictionList=function(t){for(var e=[],i=t.split(":"),r=i.length;r>0;r--)e.push(i.slice(0,r).join(":"));return-1===e.indexOf("us")&&e.push("us"),e},p.Engine.prototype.retrieveAllStyleModules=function(t){for(var e={},i=this.locale[this.opt.lang].opts["jurisdiction-preference"],r=(i=[""].concat(i=i||[])).length-1;r>-1;r--)for(var s=i[r],n=0,a=t.length;n<a;n++){var o=t[n];if(!this.opt.jurisdictions_seen[o]){var l=this.sys.retrieveStyleModule(o,s);(!l&&!s||l)&&(this.opt.jurisdictions_seen[o]=!0),l&&(e[o]=l)}}return e},t.exports=p,p.ParticleList=[["'s",r=[[null,[0,1]]]],["'s-",r],["'t",r],["a",r],["aan 't",s=[[null,[0,2]]]],["aan de",s],["aan den",s],["aan der",s],["aan het",s],["aan t",s],["aan",r],["ad-",a=[[null,[0,1]],[[0,1],null]]],["adh-",a],["af",a],["al",a],["al-",a],["am de",s],["am",r],["an-",a],["ar-",a],["as-",a],["ash-",a],["at-",a],["ath-",a],["auf dem",u=[[[0,2],null],[null,[0,2]]]],["auf den",u],["auf der",u],["auf ter",s],["auf",l=[[[0,1],null],[null,[0,1]]]],["aus 'm",u],["aus dem",u],["aus den",u],["aus der",u],["aus m",u],["aus",l],["aus'm",u],["az-",a],["aš-",a],["aḍ-",a],["aḏ-",a],["aṣ-",a],["aṭ-",a],["aṯ-",a],["aẓ-",a],["ben",r],["bij 't",s],["bij de",s],["bij den",s],["bij het",s],["bij t",s],["bij",r],["bin",r],["boven d",s],["boven d'",s],["d",r],["d'",a],["da",a],["dal",r],["dal'",r],["dall'",r],["dalla",r],["das",a],["de die le",n=[[null,[0,3]]]],["de die",s],["de l",s],["de l'",s],["de la",c=[[null,[0,2]],[[0,1],[1,2]]]],["de las",c],["de le",s],["de li",o=[[null,[0,2]],[[0,2],null]]],["de van der",n],["de",a],["de'",a],["deca",r],["degli",a],["dei",a],["del",a],["dela",i=[[[0,1],null]]],["dell'",a],["della",a],["delle",a],["dello",a],["den",a],["der",a],["des",a],["di",a],["die le",s],["do",r],["don",r],["dos",a],["du",a],["ed-",a],["edh-",a],["el",a],["el-",a],["en-",a],["er-",a],["es-",a],["esh-",a],["et-",a],["eth-",a],["ez-",a],["eš-",a],["eḍ-",a],["eḏ-",a],["eṣ-",a],["eṭ-",a],["eṯ-",a],["eẓ-",a],["het",r],["i",r],["il",i],["im",r],["in 't",s],["in de",s],["in den",s],["in der",o],["in het",s],["in t",s],["in",r],["l",r],["l'",r],["la",r],["las",r],["le",r],["les",a],["lo",a],["los",r],["lou",r],["of",r],["onder 't",s],["onder de",s],["onder den",s],["onder het",s],["onder t",s],["onder",r],["op 't",s],["op de",o],["op den",s],["op der",s],["op gen",s],["op het",s],["op t",s],["op ten",s],["op",r],["over 't",s],["over de",s],["over den",s],["over het",s],["over t",s],["over",r],["s",r],["s'",r],["sen",i],["t",r],["te",r],["ten",r],["ter",r],["tho",r],["thoe",r],["thor",r],["to",r],["toe",r],["tot",r],["uijt 't",s],["uijt de",s],["uijt den",s],["uijt te de",n],["uijt ten",s],["uijt",r],["uit 't",s],["uit de",s],["uit den",s],["uit het",s],["uit t",s],["uit te de",n],["uit ten",s],["uit",r],["unter",r],["v",r],["v.",r],["v.d.",r],["van 't",s],["van de l",n],["van de l'",n],["van de",s],["van de",s],["van den",s],["van der",s],["van gen",s],["van het",s],["van la",s],["van t",s],["van ter",s],["van van de",n],["van",a],["vander",r],["vd",r],["ver",r],["vom und zum",[[[0,3],null]]],["vom",a],["von 't",s],["von dem",u],["von den",u],["von der",u],["von t",s],["von und zu",[[[0,3],null],[null,[0,3]]]],["von zu",u],["von",l],["voor 't",s],["voor de",s],["voor den",s],["voor in 't",n],["voor in t",n],["voor",r],["vor der",u],["vor",l],["z",i],["ze",i],["zu",l],["zum",a],["zur",a]],p.parseParticles=function(){function t(t,e,i){var r=t;t=i?t.toLowerCase():t;var s,n,a=[];e?(t=t.split("").reverse().join(""),s=p.PARTICLE_GIVEN_REGEXP):s=p.PARTICLE_FAMILY_REGEXP;for(var o=t.match(s);o;){var l,u=e?o[1].split("").reverse().join(""):o[1];if(!(n=!!(l=!!(l=!!o&&u)&&u.replace(/^[-\'\u02bb\u2019\s]*(.).*$/,"$1"))&&l.toUpperCase()!==l))break;e?(a.push(r.slice(-1*u.length)),r=r.slice(0,-1*u.length)):(a.push(r.slice(0,u.length)),r=r.slice(u.length)),o=(t=o[2]).match(s)}if(e){t=t.split("").reverse().join(""),a.reverse();for(var c=1,m=a.length;c<m;c++)" "==a[c].slice(0,1)&&(a[c-1]+=" ");for(c=0,m=a.length;c<m;c++)" "==a[c].slice(0,1)&&(a[c]=a[c].slice(1));t=r.slice(0,t.length)}else t=r.slice(-1*t.length);return[n,t,a]}return function(e){(o=t(e.family))[0];var i=o[1],r=o[2];e.family=i;var s,n,a=(s=r.join(""),n=s.slice(-1),s=s.trim()," "===n&&["'","’"].indexOf(s.slice(-1))>-1&&(s+=" "),s);a&&(e["non-dropping-particle"]=a),function(t){if(!t.suffix&&t.given){var e=t.given.match(/(\s*,!*\s*)/);if(e){var i=t.given.indexOf(e[1]),r=t.given.slice(i+e[1].length),s=t.given.slice(i,i+e[1].length).replace(/\s*/g,"");"et al"!==r.replace(/\./g,"")||t["dropping-particle"]?(2===s.length&&(t["comma-suffix"]=!0),t.suffix=r):(t["dropping-particle"]=r,t["comma-dropping-particle"]=","),t.given=t.given.slice(0,i)}}}(e);(o=t(e.given,!0))[0];var o,l=o[1],u=o[2];e.given=l;var c=u.join("").trim();c&&(e["dropping-particle"]=c)}}(),t.exports=p}).call(this,i(609)(t))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getPrefixedEntry=e.getAttributedEntry=void 0;var r=function(t,e,i){return t.replace(/^\s*<[a-z]+/i,"$& data-".concat(e,'="').concat(i,'"'))};e.getAttributedEntry=r;e.getPrefixedEntry=function(t,e){return r(t,"csl-entry-id",e)}},function(t,e,i){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.getWrappedEntry=void 0;var s=function(t,e){return"function"==typeof e?e(t):"string"==typeof e?e:""},n=/^([^>]+>)([\s\S]+)(<[^<]+)$/i;e.getWrappedEntry=function(t,e,i){var a=i.prepend,o=i.append,l=r(t.match(n)||[],4),u=l[1],c=void 0===u?"":u,p=l[2],m=void 0===p?t:p,h=l[3],f=void 0===h?"":h;return c+s(e,a)+m+s(e,o)+f}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=function(t){switch(t){case"article":case"article-journal":case"article-magazine":case"article-newspaper":return"article";case"book":return"book";case"chapter":return"incollection";case"manuscript":return"unpublished";case"paper-conference":return"inproceedings";case"patent":return"patent";case"report":return"techreport";case"thesis":return"phdthesis";case"graphic":case"interview":case"motion_picture":case"personal_communication":case"webpage":return"misc";default:return logger.warn("CSL publication type not recognized: ".concat(t,'}. Interpreting as "misc".')),"misc"}};e.default=r},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.getBibtex=void 0;var r,s=(r=i(422))&&r.__esModule?r:{default:r},n=i(394);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o={"|":"{\\textbar}","<":"{\\textless}",">":"{\\textgreater}","~":"{\\textasciitilde}","^":"{\\textasciicircum}","\\":"{\\textbackslash}","{":"\\{\\vphantom{\\}}","}":"\\vphantom{\\{}\\}"};function l(t){return t.replace(/[|<>~^\\{}]/g,function(t){return o[t]})}var u={"":"","{":"}"};var c={i:"\\textit{",b:"\\textbf{",sc:"\\textsc{",sup:"\\textsuperscript{",sub:"\\textsubscript{",'span style="font-variant:small-caps;"':"\\textsc{",'span class="nocase"':"{"};var p=["title"];function m(t,e,i){return e=p.includes(t)?function(t){var e=t.split(/<(\/.*?|i|b|sc|sup|sub|span.*?)>/g);return(e=e.map(function(t,e){return e%2==0?l(t):t in c?c[t]:"}"})).join("")}(e):l(e),i.listItem.join("".concat(t,"=").concat(function(t,e){var i=isNaN(+e)?"{":"";return i+e+u[i]}(0,e),","))}function h(t,e){var i=(0,s.default)(t),r=i.type,n=i.label,o=i.properties;return o=function(t,e){return t.map(function(t){var i=a(t,2);return m(i[0],i[1],e)}).join("")}(Object.entries(o),e),e.entry.join("@".concat(r,"{").concat(n,",").concat(e.list.join(o),"}"))}var f=function(t,e){var i=t.map(function(t){return h(t,e)}).join("");return e.bibliographyContainer.join(i)};e.getBibtex=f;var d=function(t,e){var i=(0,n.get)(e?"html":"text");return f(t,i)};e.default=d},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.getBibtxt=void 0;var r,s=(r=i(422))&&r.__esModule?r:{default:r},n=i(394);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var o=function(t,e){var i=t.map(function(t){var i=(0,s.default)(t);i.properties.type=i.type;var r=Object.entries(i.properties).map(function(t){var i=a(t,2),r=i[0],s=i[1];return e.listItem.join("".concat(r,": ").concat(s))}).join("");return e.entry.join("[".concat(i.label,"]").concat(e.list.join(r)))}).join("\n");return e.bibliographyContainer.join(i)};e.getBibtxt=o;var l=function(t,e){var i=(0,n.get)(e?"html":"text");return o(t,i)};e.default=l},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.getJsonWrapper=void 0;var r,s=(r=i(432))&&r.__esModule?r:{default:r},n=i(394);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var l=function(t,e,i){return t+(e<i.length-1?",":"")},u=function(t,e){var i,r=Array.isArray(t);return i=(i=r?t.map(function(t){return c(t,e)}):Object.entries(t).map(function(t){var i=o(t,2),r=i[0],s=i[1];return'"'.concat(r,'": ').concat(c(s,e))})).map(l).map(function(t){return e.listItem.join(t)}),i=e.list.join(i.join("")),r?"[".concat(i,"]"):"{".concat(i,"}")},c=function(t,e){return"object"===a(t)&&null!==t?0===t.length?"[]":0===Object.keys(t).length?"{}":u(t,e):JSON.stringify(t)+""},p=function(t,e){var i=t.map(function(t){return u(t,e)});return i=(i=i.map(l).map(function(t){return e.entry.join(t)})).join(""),e.bibliographyContainer.join("[".concat(i,"]"))};e.getJsonWrapper=function(t){return p(t,(0,n.get)("html"))};var m={data:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.type,r=e.format,a=void 0===r?i||"text":r;return"object"===a?(0,s.default)(t):"text"===a?JSON.stringify(t,null,2):(logger.warn("[get]","This feature (JSON output with special formatting) is unstable. See https://github.com/larsgw/citation.js/issues/144"),(0,n.has)(a)?p(t,(0,n.get)(a)):"")}};e.default=m},function(t,e,i){(function(t){function i(t,e){for(var i=0,r=t.length-1;r>=0;r--){var s=t[r];"."===s?t.splice(r,1):".."===s?(t.splice(r,1),i++):i&&(t.splice(r,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,s=function(t){return r.exec(t).slice(1)};function n(t,e){if(t.filter)return t.filter(e);for(var i=[],r=0;r<t.length;r++)e(t[r],r,t)&&i.push(t[r]);return i}e.resolve=function(){for(var e="",r=!1,s=arguments.length-1;s>=-1&&!r;s--){var a=s>=0?arguments[s]:t.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,r="/"===a.charAt(0))}return(r?"/":"")+(e=i(n(e.split("/"),function(t){return!!t}),!r).join("/"))||"."},e.normalize=function(t){var r=e.isAbsolute(t),s="/"===a(t,-1);return(t=i(n(t.split("/"),function(t){return!!t}),!r).join("/"))||r||(t="."),t&&s&&(t+="/"),(r?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(n(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,i){function r(t){for(var e=0;e<t.length&&""===t[e];e++);for(var i=t.length-1;i>=0&&""===t[i];i--);return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var s=r(t.split("/")),n=r(i.split("/")),a=Math.min(s.length,n.length),o=a,l=0;l<a;l++)if(s[l]!==n[l]){o=l;break}var u=[];for(l=o;l<s.length;l++)u.push("..");return(u=u.concat(n.slice(o))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=s(t),i=e[0],r=e[1];return i||r?(r&&(r=r.substr(0,r.length-1)),i+r):"."},e.basename=function(t,e){var i=s(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){return s(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,i(430))},function(t,e,i){"use strict";var r=i(385),s=i(632);t.exports=function(t){var e,i,n;for(i in s(o,t),s(a,o),e=o.prototype)(n=e[i])&&"object"==typeof n&&(e[i]="concat"in n?n.concat():r(n));return o;function a(e){return t.apply(this,e)}function o(){return this instanceof o?t.apply(this,arguments):new a(arguments)}}},function(t,e,i){"use strict";t.exports=function(t,e,i){return function(){var r=i||this,s=r[t];return r[t]=!e,function(){r[t]=s}}}},function(t){t.exports={AElig:"Æ",AMP:"&",Aacute:"Á",Acirc:"Â",Agrave:"À",Aring:"Å",Atilde:"Ã",Auml:"Ä",COPY:"©",Ccedil:"Ç",ETH:"Ð",Eacute:"É",Ecirc:"Ê",Egrave:"È",Euml:"Ë",GT:">",Iacute:"Í",Icirc:"Î",Igrave:"Ì",Iuml:"Ï",LT:"<",Ntilde:"Ñ",Oacute:"Ó",Ocirc:"Ô",Ograve:"Ò",Oslash:"Ø",Otilde:"Õ",Ouml:"Ö",QUOT:'"',REG:"®",THORN:"Þ",Uacute:"Ú",Ucirc:"Û",Ugrave:"Ù",Uuml:"Ü",Yacute:"Ý",aacute:"á",acirc:"â",acute:"´",aelig:"æ",agrave:"à",amp:"&",aring:"å",atilde:"ã",auml:"ä",brvbar:"¦",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",curren:"¤",deg:"°",divide:"÷",eacute:"é",ecirc:"ê",egrave:"è",eth:"ð",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",iacute:"í",icirc:"î",iexcl:"¡",igrave:"ì",iquest:"¿",iuml:"ï",laquo:"«",lt:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",ntilde:"ñ",oacute:"ó",ocirc:"ô",ograve:"ò",ordf:"ª",ordm:"º",oslash:"ø",otilde:"õ",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',raquo:"»",reg:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",thorn:"þ",times:"×",uacute:"ú",ucirc:"û",ugrave:"ù",uml:"¨",uuml:"ü",yacute:"ý",yen:"¥",yuml:"ÿ"}},function(t,e,i){"use strict";t.exports=function(t){var e="string"==typeof t?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}},function(t,e,i){"use strict";var r=i(491),s=i(408);t.exports=function(t){return r(t)||s(t)}},function(t,e,i){"use strict";t.exports=function(t){var e="string"==typeof t?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}},function(t,e,i){"use strict";t.exports=a;var r=["\\","`","*","{","}","[","]","(",")","#","+","-",".","!","_",">"],s=r.concat(["~","|"]),n=s.concat(["\n",'"',"$","%","&","'",",","/",":",";","<","=","?","@","^"]);function a(t){var e=t||{};return e.commonmark?n:e.gfm?s:r}a.default=r,a.gfm=s,a.commonmark=n},function(t,e,i){"use strict";t.exports={position:!0,gfm:!0,commonmark:!1,footnotes:!1,pedantic:!1,blocks:i(641)}},function(t,e,i){"use strict";t.exports=function(t){var e,i=0,s=0,n=t.charAt(i),a={};for(;n in r;)e=r[n],s+=e,e>1&&(s=Math.floor(s/e)*e),a[s]=i,n=t.charAt(++i);return{indent:s,stops:a}};var r={" ":1,"\t":4}},function(t,e,i){"use strict";var r="<[A-Za-z][A-Za-z0-9\\-]*(?:\\s+[a-zA-Z_:][a-zA-Z0-9:._-]*(?:\\s*=\\s*(?:[^\"'=<>`\\u0000-\\u0020]+|'[^']*'|\"[^\"]*\"))?)*\\s*\\/?>",s="<\\/[A-Za-z][A-Za-z0-9\\-]*\\s*>";e.openCloseTag=new RegExp("^(?:"+r+"|"+s+")"),e.tag=new RegExp("^(?:"+r+"|"+s+"|\x3c!----\x3e|\x3c!--(?:-?[^>-])(?:-?[^-])*--\x3e|<[?].*?[?]>|<![A-Za-z]+\\s+[^>]*>|<!\\[CDATA\\[[\\s\\S]*?\\]\\]>)")},function(t,e,i){"use strict";t.exports=function(t){return String(t).replace(/\s+/g," ")}},function(t,e,i){"use strict";t.exports=function(t,e){return t.indexOf("<",e)}},function(t,e,i){"use strict";t.exports=function(t,e){var i=t.indexOf("[",e),r=t.indexOf("![",e);if(-1===r)return i;return i<r?i:r}},function(t,e,i){"use strict";t.exports=function(t){return t}},function(t,e,i){"use strict";t.exports={gfm:!0,commonmark:!1,pedantic:!1,entities:"false",setext:!1,closeAtx:!1,looseTable:!1,spacedTable:!0,paddedTable:!0,stringLength:function(t){return t.length},incrementListMarker:!0,fences:!1,fence:"`",bullet:"-",listItemIndent:"tab",rule:"*",ruleSpaces:!0,ruleRepetition:3,strong:"*",emphasis:"_"}},function(t,e,i){"use strict";var r=i(423);t.exports=function(t){var e;if("&"!==t.charAt(0))return 0;return(e=t.split("&",2).join("&")).length-r(e).length}},function(t,e,i){"use strict";var r=i(388);t.exports=function(t,e){var i,n;t=t.split("\n"),i=t.length,n=r(" ",e*s);for(;i--;)0!==t[i].length&&(t[i]=n+t[i]);return t.join("\n")};var s=4},function(t,e,i){"use strict";t.exports=function(t,e){var i,r,s=0,n=0;if("string"!=typeof e||1!==e.length)throw new Error("Expected character");t=String(t),r=t.indexOf(e),i=r;for(;-1!==r;)s++,r===i?s>n&&(n=s):s=1,i=r+1,r=t.indexOf(e,i);return n}},function(t,e,i){"use strict";t.exports=function(t,e){var i,r=0;if(t=String(t),"string"!=typeof e||1!==e.length)throw new Error("Expected character");i=t.indexOf(e);for(;-1!==i;)r++,i=t.indexOf(e,i+1);return r}},function(t,e,i){"use strict";t.exports=function(t){var e=t.referenceType,i="full"===e?t.identifier:"";return"shortcut"===e?i:"["+i+"]"}},function(t,e,i){"use strict";t.exports=i(722)},function(t,e,i){"use strict";var r=e;function s(t){return e.displayName=t,e;function e(e){var i=e&&e.position&&e.position[t]||{};return{line:i.line||null,column:i.column||null,offset:isNaN(i.offset)?null:i.offset}}}r.start=s("start"),r.end=s("end")},function(t,e,i){"use strict";t.exports=function(t,e,i){var a=e&&e.type,o=n.call(t.handlers,a)?t.handlers[a]:null;if(!a)throw new Error("Expected node, got `"+e+"`");return("function"==typeof o?o:function(t,e){if(function(t){var e=t.data||{};if(n.call(e,"hName")||n.call(e,"hProperties")||n.call(e,"hChildren"))return!1;return"value"in t}(e))return t.augment(e,r("text",e.value));return t(e,"div",s(t,e))})(t,e,i)};var r=i(389),s=i(386),n={}.hasOwnProperty},function(t,e,i){"use strict";t.exports=function(t,e){return t(e,"hr")}},function(t,e,i){"use strict";t.exports=function(t,e){var i={},n=e.ordered?"ol":"ul";"number"==typeof e.start&&1!==e.start&&(i.start=e.start);return t(e,n,i,r(s(t,e),!0))};var r=i(395),s=i(386)},function(t,e,i){"use strict";t.exports=function(t,e){var i=e.identifier;return t(e.position,"sup",{id:"fnref-"+i},[t(e,"a",{href:"#fn-"+i,className:["footnote-ref"]},[r("text",i)])])};var r=i(389)},function(t,e,i){"use strict";t.exports=function(t,e){var i,n,a,o=e.referenceType,l="]";"collapsed"===o?l+="[]":"full"===o&&(l+="["+e.identifier+"]");if("imageReference"===e.type)return r("text","!["+e.alt+l);i=s(t,e),(n=i[0])&&"text"===n.type?n.value="["+n.value:i.unshift(r("text","["));(a=i[i.length-1])&&"text"===a.type?a.value+=l:i.push(r("text",l));return i};var r=i(389),s=i(386)},function(t,e,i){"use strict";t.exports=function(t,e){var i;if(null!=e&&"string"!=typeof e&&("object"!=typeof e||0===e.length))throw new Error("Expected `string` or `Array.<string>` for `tagNames`, not `"+e+"`");if(!t||"object"!=typeof t||"element"!==t.type||"string"!=typeof t.tagName)return!1;if(null==e)return!0;if(i=t.tagName,"string"==typeof e)return i===e;return-1!==e.indexOf(i)}},function(t,e,i){"use strict";t.exports=function(t){var e;if(t&&"object"==typeof t&&"text"===t.type)e=t.value||"";else{if("string"!=typeof t)return!1;e=t}return""===e.replace(r,"")};var r=/[ \t\n\f\r]/g},function(t,e,i){"use strict";var r=i(392),s=i(514);t.exports=function(t){return r("text",t)&&s(t.value.charAt(0))}},function(t,e,i){"use strict";var r=i(392),s=i(513),n=i(515),a=i(447).after,o=i(517);function l(t,e,i){var s=a(i,e,!0);return!s||!r("comment",s)&&!n(s)}function u(t,e,i){var r=a(i,e);return!r||s(r,["rp","rt"])}function c(t,e,i){var r=a(i,e);return!r||s(r,["td","th"])}t.exports=o({html:function(t,e,i){var s=a(i,e);return!s||!r("comment",s)},head:l,body:function(t,e,i){var s=a(i,e);return!s||!r("comment",s)},p:function(t,e,i){var r=a(i,e);if(r)return s(r,["address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","menu","nav","ol","p","pre","section","table","ul"]);return!i||!s(i,["a","audio","del","ins","map","noscript","video"])},li:function(t,e,i){var r=a(i,e);return!r||s(r,"li")},dt:function(t,e,i){var r=a(i,e);return r&&s(r,["dt","dd"])},dd:function(t,e,i){var r=a(i,e);return!r||s(r,["dt","dd"])},rt:u,rp:u,optgroup:function(t,e,i){var r=a(i,e);return!r||s(r,"optgroup")},option:function(t,e,i){var r=a(i,e);return!r||s(r,["option","optgroup"])},menuitem:function(t,e,i){var r=a(i,e);return!r||s(r,["menuitem","hr","menu"])},colgroup:l,caption:l,thead:function(t,e,i){var r=a(i,e);return r&&s(r,["tbody","tfoot"])},tbody:function(t,e,i){var r=a(i,e);return!r||s(r,["tbody","tfoot"])},tfoot:function(t,e,i){return!a(i,e)},tr:function(t,e,i){var r=a(i,e);return!r||s(r,"tr")},td:c,th:c})},function(t,e,i){"use strict";t.exports=function(t){return function(e,i,s){var n=e.tagName,a=!!r.call(t,n)&&t[n];return!!a&&a(e,i,s)}};var r={}.hasOwnProperty},function(t,e,i){"use strict";t.exports=function(t,e,i,n){var a=e&&e.type;if(!a)throw new Error("Expected node, not `"+e+"`");if(!r.call(s,a))throw new Error("Cannot compile unknown node `"+a+"`");return s[a](t,e,i,n)};var r={}.hasOwnProperty,s={};s.root=i(519),s.text=i(520),s.element=i(755),s.doctype=i(756),s.comment=i(757),s.raw=i(758)},function(t,e,i){"use strict";var r=i(518);t.exports=function(t,e){var i=e&&e.children,s=i&&i.length,n=-1,a=[];for(;++n<s;)a[n]=r(t,i[n],n,e);return a.join("")}},function(t,e,i){"use strict";var r=i(385),s=i(444);t.exports=function(t,e,i,n){var a=e.value;return function(t){return t&&("script"===t.tagName||"style"===t.tagName)}(n)?a:s(a,r(t.entities,{subset:["<","&"]}))}},function(t,e,i){"use strict";t.exports=i(759)},,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";i(543),i(554);var r,s=h(i(449)),n=h(i(415)),a=h(i(603)),o=h(i(414)),l=h(i(614)),u=h(i(615)),c=(r=i(435))&&r.__esModule?r:{default:r},p=h(i(439)),m=h(i(440));function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}var f={engine:i(421).fetchEngine,style:m.default,locale:p.default,item:function(t){return function(e){return t.find(function(t){return t.id===e})}},register:{addTemplate:m.templates.add.bind(m.templates),getTemplate:m.templates.get.bind(m.templates),hasTemplate:m.templates.has.bind(m.templates),addLocale:p.locales.add.bind(p.locales),getLocale:p.locales.get.bind(p.locales),hasLocale:p.locales.has.bind(p.locales)}};Object.assign(c.default,s,{plugins:n,get:a,CSL:f,parse:o,util:l,version:u,input:o.chain,inputAsync:o.chainAsync}),t.exports=c.default},function(t,e,i){"use strict";(function(t){i(544),i(545),i(546),i(547),i(548),i(549),i(550),i(551),i(552),i(553),i(292),t._babelPolyfill&&"undefined"!=typeof console&&console.warn&&console.warn("@babel/polyfill is loaded more than once on this page. This is probably not desirable/intended and may have consequences if different versions of the polyfills are applied sequentially. If you do need to load the polyfill more than once, use @babel/polyfill/noConflict instead to bypass the warning."),t._babelPolyfill=!0}).call(this,i(164))},function(t,e,i){i(167),i(117),i(168),i(169),i(170),i(171),i(172),i(173),i(174),i(175),i(176),i(177),i(178),i(179),i(59),i(180),i(181),i(182),i(165),i(166),i(183),i(184),i(185),i(186),i(187),i(188),i(189),i(190),i(191),i(192),i(193),i(194),i(195),i(196),i(197),i(198),i(199),i(200),i(201),i(202),i(203),i(204),i(205),i(206),i(207),i(208),i(209),i(210),i(211),i(212),i(213),i(214),i(215),i(216),i(217),i(118),i(218),i(219),i(220),i(221),i(222),i(223),i(224),i(225),i(226),i(227),i(228),i(229),i(230),i(231),i(232),i(233),i(234),i(235),i(236),i(237),i(238),i(239),i(240),i(241),i(242),i(243),i(244),i(245),i(246),i(119),i(78),i(115),i(83),i(247),i(82),i(248),i(120),i(249),i(250),i(251),i(121),i(252),i(253),i(61),i(254),i(255),i(122),i(81),i(54),i(80),i(113),i(60),i(123),i(124),i(125),i(256),i(257),i(258),i(259),i(260),i(261),i(262),i(263),i(264),i(265),i(266),i(267),i(268),i(269),i(270),i(271),i(272),i(273),i(274),i(275),i(276),i(277),i(278),i(279),i(280),i(281),t.exports=i(22)},function(t,e,i){i(282),t.exports=i(22).Array.includes},function(t,e,i){i(283),t.exports=i(22).String.padStart},function(t,e,i){i(284),t.exports=i(22).String.padEnd},function(t,e,i){i(285),t.exports=i(116).f("asyncIterator")},function(t,e,i){i(286),t.exports=i(22).Object.getOwnPropertyDescriptors},function(t,e,i){i(287),t.exports=i(22).Object.values},function(t,e,i){i(288),t.exports=i(22).Object.entries},function(t,e,i){"use strict";i(60),i(289),t.exports=i(22).Promise.finally},function(t,e,i){i(290),i(291),i(126),t.exports=i(22)},function(t,e,i){"use strict";(function(t,e){"true"===Object({NODE_ENV:"production",PUBLIC_DIR:"/home/tmt514/Documents/git/tmt514.github.io/site/public",BUILD_STAGE:"build-javascript",GATSBY_BUILD_STAGE:"build-javascript"}).TEST_MOCHA?t.logger={error:function(){},warn:function(){},info:function(){}}:"function"==typeof console.Console?t.logger=new console.Console(e.stderr):t.logger=console}).call(this,i(164),i(430))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=i(414),n=(r=i(435))&&r.__esModule?r:{default:r};var a,o,l=(a=regeneratorRuntime.mark(function t(e,i){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=n.default,t.next=3,e;case 3:return t.t1=t.sent,t.t2=i,t.abrupt("return",new t.t0(t.t1,t.t2));case 6:case"end":return t.stop()}},t,this)}),o=function(){var t=this,e=arguments;return new Promise(function(i,r){var s=a.apply(t,e);function n(t,e){try{var n=s[t](e),a=n.value}catch(t){return void r(t)}n.done?i(a):Promise.resolve(a).then(o,l)}function o(t){n("next",t)}function l(t){n("throw",t)}o()})},function(t,e){return o.apply(this,arguments)}),u=function(t,e,i){var r=(0,s.chainAsync)(t);return"function"!=typeof e||i||(i=e,e=void 0),"function"==typeof i?void r.then(function(t){return i(new n.default(t,e))}):l(r,e)};e.default=u},function(t,e,i){"use strict";var r=i(415),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}(i(559));for(var n in s){var a=s[n],o=a.ref,l=a.formats;(0,r.add)(o,{input:l})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.list=e.has=e.remove=e.add=void 0;var r=i(453),s=i(403),n=i(416),a={};e.add=function(t,e){var i=new r.FormatParser(t,e);i.validate();var o=a[t]={};i.typeParser&&((0,s.addTypeParser)(t,i.typeParser),o.type=!0),i.dataParser&&((0,n.addDataParser)(t,i.dataParser),o.data=!0),i.asyncDataParser&&((0,n.addDataParser)(t,i.asyncDataParser),o.asyncData=!0)};e.remove=function(t){var e=a[t];e&&(e.type&&(0,s.removeTypeParser)(t),e.data&&(0,n.removeDataParser)(t),e.asyncData&&(0,n.removeDataParser)(t,!0),delete a[t])};e.has=function(t){return t in a};e.list=function(){return Object.keys(a)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.remove=e.get=e.add=void 0;var r={};e.add=function(t,e){r[t]=e};e.get=function(t){return r[t]};e.remove=function(t){delete r[t]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.other=e.wikidata=e.doi=e.bibtex=e.bibjson=void 0;var r=l(i(454));e.bibjson=r;var s=l(i(455));e.bibtex=s;var n=l(i(459));e.doi=n;var a=l(i(464));e.wikidata=a;var o=l(i(592));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}e.other=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.record=e.quickscrapeRecord=void 0;var r=n(i(417)),s=n(i(405));function n(t){return t&&t.__esModule?t:{default:t}}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t){var e=t.firstname,i=t.lastname,r=t.firstName,n=void 0===r?e:r,a=t.lastName,o=void 0===a?i:a;return n&&o?{given:n,family:o}:t.name?(0,s.default)(t.name):void 0}var l=["PMID","PMCID","DOI","ISBN"],u=["ISSN"];function c(t,e){var i={};for(var r in t){var s=r.toUpperCase();e.includes(s)&&(i[s]=t[r])}if(t.identifier){var n=!0,a=!1,o=void 0;try{for(var l,u=t.identifier[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var c=l.value,p=c.id,m=c.type,h=void 0===m?"":m;h=h.toUpperCase(),e.includes(h)&&(i[h]=p)}}catch(t){a=!0,o=t}finally{try{n||null==u.return||u.return()}finally{if(a)throw o}}}return i}var p={article:"article",book:"book",booklet:"book",proceedings:"book",mastersthesis:"thesis",inbook:"chapter",incollection:"chapter",conference:"paper-conference",inproceedings:"paper-conference",online:"website",patent:"patent",phdthesis:"thesis",techreport:"report",unpublished:"manuscript",manual:void 0,misc:void 0};function m(t){var e={type:p[t.type]||"book"};if(t.title&&(e.title=t.title),t.author&&(e.author=t.author.map(o).filter(Boolean)),t.editor&&(e.editor=t.editor.map(o).filter(Boolean)),t.reviewer&&(t.author&&(e["reviewed-author"]=e.author),e.author=t.reviewer.map(o).filter(Boolean)),Array.isArray(t.keywords)?e.keyword=t.keywords.join():t.keywords&&(e.keyword=t.keywords),t.publisher&&(e.publisher=t.publisher.name||t.publisher),t.date&&Object.keys(t.date).length>0){var i=t.date;i.submitted&&(e.submitted=(0,r.default)(i.submitted)),i.published&&(e.issued=(0,r.default)(i.published))}else t.year&&(e.issued={"date-parts":[[+t.year]]});if(t.journal){var s=t.journal;s.name&&(e["container-title"]=s.name),s.volume&&(e.volume=+s.volume),s.issue&&(e.issue=+s.issue),Object.assign(e,c(s,u)),s.firstpage&&(e["page-first"]=s.firstpage),s.pages?e.page=s.pages.replace("--","-"):s.firstpage&&s.lastpage&&(e.page=s.firstpage+"-"+s.lastpage)}return t.link&&"object"===a(t.link[0])&&(e.URL=t.link[0].url),Object.assign(e,c(t,l)),t.cid?e.id=t.cid:e.DOI&&(e.id=e.DOI),e}e.quickscrapeRecord=function(t){return Object.assign(m(t),{type:"article-journal"})};e.record=function(t){return m(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var r=n(i(456)),s=n(i(562));function n(t){return t&&t.__esModule?t:{default:t}}var a=/\\url|\\href|{\\[a-zA-Z]+}|\$\\[a-zA-Z]+\$|\$[_^]{[0-9()+=\-n]}\$|`{2,3}|'{2,3}|-{2,3}|[!?]!|!\?|{\\~}|\\[#$%&~_^\\{}]|{\\(?:[a-z] |[`"'^~=.])\\?[a-zA-Z]}|[\s\S]/g,o=/^\s$/,l=/^[@{}"=,\\]$/,u={'"':'"',"{":"}","":""};e.default=e.parse=function(t){var e=[],i=function(t){return(t=t.replace(/(\\[`"'^~=.]){\\?([A-Za-z])}/g,"{$1$2}").replace(/(\\[a-z]) ?{\\?([A-Za-z])}/g,"{$1 $2}")).match(a)}(t),n=new r.default(i);try{for(n.consumeWhitespace();n.tokensLeft();){n.consumeToken("@",{spaced:!1}),n.consumeWhitespace();var c=n.consume([o,l],{inverse:!0}).toLowerCase();n.consumeToken("{");var p=n.consume([o,l],{inverse:!0});n.consumeToken(",");for(var m={},h=function(){var t=n.consume([o,"="],{inverse:!0}).toLowerCase();n.consumeToken("=");var e=n.consume(/^({|"|)$/g),i=u[e];if(!u.hasOwnProperty(e))throw new SyntaxError("Unexpected field delimiter at index ".concat(n.index,". Expected ")+"".concat(Object.keys(u).map(function(t){return'"'.concat(t,'"')}).join(", "),'; got "').concat(e,'"'));var r=0,a=n.consume(function(t,e){if("{"===t&&r++,n.tokensLeft()<i.length)throw new SyntaxError("Unmatched delimiter at index ".concat(n.index,": Expected ").concat(i));return i.length?"}"===t&&r--||!n.matchesSequence(i):![o,l].some(function(e){return e.test(t)})},{tokenMap:function(t){if(s.default.hasOwnProperty(t))return s.default[t];if(t.match(/^\\[#$%&~_^\\{}]$/))return t.slice(1);if(t.length>1)throw new SyntaxError("Escape sequence not recognized: ".concat(t));return t}});return m[t]=a,n.consumeN(i.length),n.consumeWhitespace(),n.matches("}")?"break":(n.consumeToken(",",{spaced:!1}),n.consumeWhitespace(),n.matches("}")?"break":void 0)};n.tokensLeft()&&"break"!==h(););n.consumeToken("}",{spaced:!1}),n.consumeWhitespace(),e.push({type:c,label:p,properties:m})}}catch(t){logger.error("Uncaught SyntaxError: ".concat(t.message,". Returning completed entries.")),e.pop()}return e}},function(t){t.exports={"\\url":"","\\href":"","{\\textexclamdown}":"¡","{\\textcent}":"¢","{\\textsterling}":"£","{\\textyen}":"¥","{\\textbrokenbar}":"¦","{\\textsection}":"§","{\\textasciidieresis}":"¨","{\\textcopyright}":"©","{\\textordfeminine}":"ª","{\\guillemotleft}":"«","{\\textlnot}":"¬","{\\textregistered}":"®","{\\textasciimacron}":"¯","{\\textdegree}":"°","{\\textpm}":"±","{\\texttwosuperior}":"²","{\\textthreesuperior}":"³","{\\textasciiacute}":"´","{\\textmu}":"µ","{\\textparagraph}":"¶","{\\textperiodcentered}":"·","{\\c\\ }":"¸","{\\textonesuperior}":"¹","{\\textordmasculine}":"º","{\\guillemotright}":"»","{\\textonequarter}":"¼","{\\textonehalf}":"½","{\\textthreequarters}":"¾","{\\textquestiondown}":"¿","{\\AE}":"Æ","{\\DH}":"Ð","{\\texttimes}":"×","{\\O}":"Ø","{\\TH}":"Þ","{\\ss}":"ß","{\\ae}":"æ","{\\dh}":"ð","{\\textdiv}":"÷","{\\o}":"ø","{\\th}":"þ","{\\i}":"ı","{\\NG}":"Ŋ","{\\ng}":"ŋ","{\\OE}":"Œ","{\\oe}":"œ","{\\textasciicircum}":"ˆ","{\\textacutedbl}":"˝","$\\Gamma$":"Γ","$\\Delta$":"Δ","$\\Theta$":"Θ","$\\Lambda$":"Λ","$\\Xi$":"Ξ","$\\Pi$":"Π","$\\Sigma$":"Σ","$\\Phi$":"Φ","$\\Psi$":"Ψ","$\\Omega$":"Ω","$\\alpha$":"α","$\\beta$":"β","$\\gamma$":"γ","$\\delta$":"δ","$\\varepsilon$":"ε","$\\zeta$":"ζ","$\\eta$":"η","$\\theta$":"θ","$\\iota$":"ι","$\\kappa$":"κ","$\\lambda$":"λ","$\\mu$":"μ","$\\nu$":"ν","$\\xi$":"ξ","$\\pi$":"π","$\\rho$":"ρ","$\\varsigma$":"ς","$\\sigma$":"σ","$\\tau$":"τ","$\\upsilon$":"υ","$\\varphi$":"φ","$\\chi$":"χ","$\\psi$":"ψ","$\\omega$":"ω","$\\vartheta$":"ϑ","$\\Upsilon$":"ϒ","$\\phi$":"ϕ","$\\varpi$":"ϖ","$\\varrho$":"ϱ","$\\epsilon$":"ϵ","{\\textendash}":"–","{\\textemdash}":"—","---":"—","--":"–","{\\textbardbl}":"‖","{\\textunderscore}":"‗","{\\textquoteleft}":"‘","{\\textquoteright}":"’","{\\quotesinglbase}":"‚","{\\textquotedblleft}":"“","{\\textquotedblright}":"”","{\\quotedblbase}":"„","{\\textdagger}":"†","{\\textdaggerdbl}":"‡","{\\textbullet}":"•","{\\textellipsis}":"…","{\\textperthousand}":"‰","'''":"‴","''":"”","``":"“","```":"‷","{\\guilsinglleft}":"‹","{\\guilsinglright}":"›","!!":"‼","{\\textfractionsolidus}":"⁄","?!":"⁈","!?":"⁉","$^{0}$":"⁰","$^{4}$":"⁴","$^{5}$":"⁵","$^{6}$":"⁶","$^{7}$":"⁷","$^{8}$":"⁸","$^{9}$":"⁹","$^{+}$":"⁺","$^{-}$":"⁻","$^{=}$":"⁼","$^{(}$":"⁽","$^{)}$":"⁾","$^{n}$":"ⁿ","$_{0}$":"₀","$_{1}$":"₁","$_{2}$":"₂","$_{3}$":"₃","$_{4}$":"₄","$_{5}$":"₅","$_{6}$":"₆","$_{7}$":"₇","$_{8}$":"₈","$_{9}$":"₉","$_{+}$":"₊","$_{-}$":"₋","$_{=}$":"₌","$_{(}$":"₍","$_{)}$":"₎","{\\texteuro}":"€","{\\textcelsius}":"℃","{\\textnumero}":"№","{\\textcircledP}":"℗","{\\textservicemark}":"℠","{TEL}":"℡","{\\texttrademark}":"™","{\\textohm}":"Ω","{\\textestimated}":"℮","{\\`A}":"À","{\\'A}":"Á","{\\^A}":"Â","{\\~A}":"Ã",'{\\"A}':"Ä","{\\r A}":"Å","{\\c C}":"Ç","{\\`E}":"È","{\\'E}":"É","{\\^E}":"Ê",'{\\"E}':"Ë","{\\`I}":"Ì","{\\'I}":"Í","{\\^I}":"Î",'{\\"I}':"Ï","{\\~N}":"Ñ","{\\`O}":"Ò","{\\'O}":"Ó","{\\^O}":"Ô","{\\~O}":"Õ",'{\\"O}':"Ö","{\\`U}":"Ù","{\\'U}":"Ú","{\\^U}":"Û",'{\\"U}':"Ü","{\\'Y}":"Ý","{\\`a}":"à","{\\'a}":"á","{\\^a}":"â","{\\~a}":"ã",'{\\"a}':"ä","{\\r a}":"å","{\\c c}":"ç","{\\`e}":"è","{\\'e}":"é","{\\^e}":"ê",'{\\"e}':"ë","{\\`i}":"ì","{\\'i}":"í","{\\^i}":"î",'{\\"i}':"ï","{\\~n}":"ñ","{\\`o}":"ò","{\\'o}":"ó","{\\^o}":"ô","{\\~o}":"õ",'{\\"o}':"ö","{\\`u}":"ù","{\\'u}":"ú","{\\^u}":"û",'{\\"u}':"ü","{\\'y}":"ý",'{\\"y}':"ÿ","{\\=A}":"Ā","{\\=a}":"ā","{\\u A}":"Ă","{\\u a}":"ă","{\\k A}":"Ą","{\\k a}":"ą","{\\'C}":"Ć","{\\'c}":"ć","{\\^C}":"Ĉ","{\\^c}":"ĉ","{\\.C}":"Ċ","{\\.c}":"ċ","{\\v C}":"Č","{\\v c}":"č","{\\v D}":"Ď","{\\v d}":"ď","{\\=E}":"Ē","{\\=e}":"ē","{\\u E}":"Ĕ","{\\u e}":"ĕ","{\\.E}":"Ė","{\\.e}":"ė","{\\k E}":"Ę","{\\k e}":"ę","{\\v E}":"Ě","{\\v e}":"ě","{\\^G}":"Ĝ","{\\^g}":"ĝ","{\\u G}":"Ğ","{\\u g}":"ğ","{\\.G}":"Ġ","{\\.g}":"ġ","{\\c G}":"Ģ","{\\c g}":"ģ","{\\^H}":"Ĥ","{\\^h}":"ĥ","{\\~I}":"Ĩ","{\\~i}":"ĩ","{\\=I}":"Ī","{\\=i}":"ī","{\\=\\i}":"ī","{\\u I}":"Ĭ","{\\u i}":"ĭ","{\\k I}":"Į","{\\k i}":"į","{\\.I}":"İ","{\\^J}":"Ĵ","{\\^j}":"ĵ","{\\c K}":"Ķ","{\\c k}":"ķ","{\\'L}":"Ĺ","{\\'l}":"ĺ","{\\c L}":"Ļ","{\\c l}":"ļ","{\\v L}":"Ľ","{\\v l}":"ľ","{\\L }":"Ł","{\\l }":"ł","{\\'N}":"Ń","{\\'n}":"ń","{\\c N}":"Ņ","{\\c n}":"ņ","{\\v N}":"Ň","{\\v n}":"ň","{\\=O}":"Ō","{\\=o}":"ō","{\\u O}":"Ŏ","{\\u o}":"ŏ","{\\H O}":"Ő","{\\H o}":"ő","{\\'R}":"Ŕ","{\\'r}":"ŕ","{\\c R}":"Ŗ","{\\c r}":"ŗ","{\\v R}":"Ř","{\\v r}":"ř","{\\'S}":"Ś","{\\'s}":"ś","{\\^S}":"Ŝ","{\\^s}":"ŝ","{\\c S}":"Ş","{\\c s}":"ş","{\\v S}":"Š","{\\v s}":"š","{\\c T}":"Ţ","{\\c t}":"ţ","{\\v T}":"Ť","{\\v t}":"ť","{\\~U}":"Ũ","{\\~u}":"ũ","{\\=U}":"Ū","{\\=u}":"ū","{\\u U}":"Ŭ","{\\u u}":"ŭ","{\\r U}":"Ů","{\\r u}":"ů","{\\H U}":"Ű","{\\H u}":"ű","{\\k U}":"Ų","{\\k u}":"ų","{\\^W}":"Ŵ","{\\^w}":"ŵ","{\\^Y}":"Ŷ","{\\^y}":"ŷ",'{\\"Y}':"Ÿ","{\\'Z}":"Ź","{\\'z}":"ź","{\\.Z}":"Ż","{\\.z}":"ż","{\\v Z}":"Ž","{\\v z}":"ž","{\\v A}":"Ǎ","{\\v a}":"ǎ","{\\v I}":"Ǐ","{\\v i}":"ǐ","{\\v O}":"Ǒ","{\\v o}":"ǒ","{\\v U}":"Ǔ","{\\v u}":"ǔ","{\\v G}":"Ǧ","{\\v g}":"ǧ","{\\v K}":"Ǩ","{\\v k}":"ǩ","{\\k O}":"Ǫ","{\\k o}":"ǫ","{\\v j}":"ǰ","{\\'G}":"Ǵ","{\\'g}":"ǵ","{\\.B}":"Ḃ","{\\.b}":"ḃ","{\\d B}":"Ḅ","{\\d b}":"ḅ","{\\b B}":"Ḇ","{\\b b}":"ḇ","{\\.D}":"Ḋ","{\\.d}":"ḋ","{\\d D}":"Ḍ","{\\d d}":"ḍ","{\\b D}":"Ḏ","{\\b d}":"ḏ","{\\c D}":"Ḑ","{\\c d}":"ḑ","{\\.F}":"Ḟ","{\\.f}":"ḟ","{\\=G}":"Ḡ","{\\=g}":"ḡ","{\\.H}":"Ḣ","{\\.h}":"ḣ","{\\d H}":"Ḥ","{\\d h}":"ḥ",'{\\"H}':"Ḧ",'{\\"h}':"ḧ","{\\c H}":"Ḩ","{\\c h}":"ḩ","{\\'K}":"Ḱ","{\\'k}":"ḱ","{\\d K}":"Ḳ","{\\d k}":"ḳ","{\\b K}":"Ḵ","{\\b k}":"ḵ","{\\d L}":"Ḷ","{\\d l}":"ḷ","{\\b L}":"Ḻ","{\\b l}":"ḻ","{\\'M}":"Ḿ","{\\'m}":"ḿ","{\\.M}":"Ṁ","{\\.m}":"ṁ","{\\d M}":"Ṃ","{\\d m}":"ṃ","{\\.N}":"Ṅ","{\\.n}":"ṅ","{\\d N}":"Ṇ","{\\d n}":"ṇ","{\\b N}":"Ṉ","{\\b n}":"ṉ","{\\'P}":"Ṕ","{\\'p}":"ṕ","{\\.P}":"Ṗ","{\\.p}":"ṗ","{\\.R}":"Ṙ","{\\.r}":"ṙ","{\\d R}":"Ṛ","{\\d r}":"ṛ","{\\b R}":"Ṟ","{\\b r}":"ṟ","{\\.S}":"Ṡ","{\\.s}":"ṡ","{\\d S}":"Ṣ","{\\d s}":"ṣ","{\\.T}":"Ṫ","{\\.t}":"ṫ","{\\d T}":"Ṭ","{\\d t}":"ṭ","{\\b T}":"Ṯ","{\\b t}":"ṯ","{\\~V}":"Ṽ","{\\~v}":"ṽ","{\\d V}":"Ṿ","{\\d v}":"ṿ","{\\`W}":"Ẁ","{\\`w}":"ẁ","{\\'W}":"Ẃ","{\\'w}":"ẃ",'{\\"W}':"Ẅ",'{\\"w}':"ẅ","{\\.W}":"Ẇ","{\\.w}":"ẇ","{\\d W}":"Ẉ","{\\d w}":"ẉ","{\\.X}":"Ẋ","{\\.x}":"ẋ",'{\\"X}':"Ẍ",'{\\"x}':"ẍ","{\\.Y}":"Ẏ","{\\.y}":"ẏ","{\\^Z}":"Ẑ","{\\^z}":"ẑ","{\\d Z}":"Ẓ","{\\d z}":"ẓ","{\\b Z}":"Ẕ","{\\b z}":"ẕ","{\\b h}":"ẖ",'{\\"t}':"ẗ","{\\r w}":"ẘ","{\\r y}":"ẙ","{\\d A}":"Ạ","{\\d a}":"ạ","{\\d E}":"Ẹ","{\\d e}":"ẹ","{\\~E}":"Ẽ","{\\~e}":"ẽ","{\\d I}":"Ị","{\\d i}":"ị","{\\d O}":"Ọ","{\\d o}":"ọ","{\\d U}":"Ụ","{\\d u}":"ụ","{\\`Y}":"Ỳ","{\\`y}":"ỳ","{\\d Y}":"Ỵ","{\\d y}":"ỵ","{\\~Y}":"Ỹ","{\\~y}":"ỹ","{\\~}":"∼","~":" "}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var r=n(i(457)),s=n(i(458));function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.default=e.parse=function(t){return[].concat(t).map(function(t){var e={},i=[];for(var n in t.properties){var o=t.properties[n],l=a((0,r.default)(n,o)||[],2),u=l[0],c=l[1];u&&(/^[^:\s]+?:[^.\s]+(\.[^.\s]+)*$/.test(u)?i.push([u,c]):e[u]=c)}return e.type=(0,s.default)(t.type),e.id=e["citation-label"]=t.label,/\d(\D+)$/.test(t.label)&&(e["year-suffix"]=t.label.match(/\d(\D+)$/)[1]),i.forEach(function(t){for(var i=a(t,2),r=i[0],s=i[1],n=r.split(/:|\./g),o=e;n.length>0;){var l=n.shift();o=o[l]||(o[l]=n.length?isNaN(+n[0])?{}:[]:s)}}),e})}},function(t,e,i){"use strict";function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}Object.defineProperty(e,"__esModule",{value:!0}),e.textEntry=e.text=e.parse=void 0;var s=/\n\s*(?=\[)/g,n=/^\[(.+?)\]\s*(?:\n([\s\S]+))?$/,a=/((?=.)\s)*\n\s*/g,o=/:(.*)/,l=function(t){var e=r(t.match(n)||[],3),i=e[1],s=e[2];if(i&&s){var l={type:"book",label:i,properties:{}};return s.trim().split(a).filter(function(t){return t}).forEach(function(t){var e=r(t.split(o),2),i=e[0],s=e[1];s&&(i=i.trim(),s=s.trim(),"type"===i?l.type=s:l.properties[i]=s)}),l}return{}};e.textEntry=l;e.text=e.parse=function(t){return t.trim().split(s).map(l)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;e.default=e.parse=function(t){return(Array.isArray(t)?t:t.trim().split(/(?:\s+)/g)).map(function(t){return"https://doi.org/".concat(t)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseAsync=e.parse=void 0;var r=a(i(460)),s=a(i(406)),n=a(i(407));function a(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var n=t.apply(e,i);function a(t,e){try{var i=n[t](e),a=i.value}catch(t){return void s(t)}i.done?r(a):Promise.resolve(a).then(o,l)}function o(t){a("next",t)}function l(t){a("throw",t)}o()})}}var l,u,c={Accept:"application/vnd.citationstyles.csl+json"},p=(l=o(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.default)(e,{headers:c});case 2:return i=t.sent,t.abrupt("return","[]"===i?{}:JSON.parse(i));case 4:case"end":return t.stop()}},t,this)})),function(t){return l.apply(this,arguments)}),m=(u=o(regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat(e).map(p));case 2:return i=t.sent,t.abrupt("return",i.map(r.default));case 4:case"end":return t.stop()}},t,this)})),function(t){return u.apply(this,arguments)});e.parseAsync=m;var h=function(t){var e=(0,s.default)(t,{headers:c});return"[]"===e?{}:JSON.parse(e)};e.parse=function(t){return[].concat(t).map(h).map(r.default)}},function(t,e,i){"use strict";e.__esModule=!0;var r=i(568),s=i(572),n=FormData;function a(t,e,i){var n,a=new XMLHttpRequest;if("string"!=typeof t)throw new TypeError("The method must be a string.");if(e&&"object"==typeof e&&(e=e.href),"string"!=typeof e)throw new TypeError("The URL/path must be a string.");if(null==i&&(i={}),"object"!=typeof i)throw new TypeError("Options must be an object (or null).");t=t.toUpperCase(),i.headers=i.headers||{};var o=!(!(n=/^([\w-]+:)?\/\/([^\/]+)/.exec(e))||n[2]==location.host);for(var l in o||(i.headers["X-Requested-With"]="XMLHttpRequest"),i.qs&&(e=r.default(e,i.qs)),i.json&&(i.body=JSON.stringify(i.json),i.headers["content-type"]="application/json"),i.form&&(i.body=i.form),a.open(t,e,!1),i.headers)a.setRequestHeader(l.toLowerCase(),""+i.headers[l]);a.send(i.body?i.body:null);var u={};return a.getAllResponseHeaders().split("\r\n").forEach(function(t){var e=t.split(":");e.length>1&&(u[e[0].toLowerCase()]=e.slice(1).join(":").trim())}),new s(a.status,u,a.responseText,e)}e.FormData=n,e.default=a,t.exports=a,t.exports.default=a,t.exports.FormData=n},function(t,e,i){"use strict";e.__esModule=!0;var r=i(569);e.default=function(t,e){var i=t.split("?"),s=i[0],n=i[1],a=(n||"").split("#")[0],o=n&&n.split("#").length>1?"#"+n.split("#")[1]:"",l=r.parse(a);for(var u in e)l[u]=e[u];return""!==(a=r.stringify(l))&&(a="?"+a),s+a+o}},function(t,e,i){"use strict";var r=i(570),s=i(571),n=i(463);t.exports={formats:n,parse:s,stringify:r}},function(t,e,i){"use strict";var r=i(462),s=i(463),n={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Date.prototype.toISOString,o={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(t){return a.call(t)},skipNulls:!1,strictNullHandling:!1},l=function t(e,i,s,n,a,l,u,c,p,m,h,f){var d=e;if("function"==typeof u)d=u(i,d);else if(d instanceof Date)d=m(d);else if(null===d){if(n)return l&&!f?l(i,o.encoder):i;d=""}if("string"==typeof d||"number"==typeof d||"boolean"==typeof d||r.isBuffer(d))return l?[h(f?i:l(i,o.encoder))+"="+h(l(d,o.encoder))]:[h(i)+"="+h(String(d))];var g,b=[];if(void 0===d)return b;if(Array.isArray(u))g=u;else{var v=Object.keys(d);g=c?v.sort(c):v}for(var y=0;y<g.length;++y){var _=g[y];a&&null===d[_]||(b=Array.isArray(d)?b.concat(t(d[_],s(i,_),s,n,a,l,u,c,p,m,h,f)):b.concat(t(d[_],i+(p?"."+_:"["+_+"]"),s,n,a,l,u,c,p,m,h,f)))}return b};t.exports=function(t,e){var i=t,a=e?r.assign({},e):{};if(null!==a.encoder&&void 0!==a.encoder&&"function"!=typeof a.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===a.delimiter?o.delimiter:a.delimiter,c="boolean"==typeof a.strictNullHandling?a.strictNullHandling:o.strictNullHandling,p="boolean"==typeof a.skipNulls?a.skipNulls:o.skipNulls,m="boolean"==typeof a.encode?a.encode:o.encode,h="function"==typeof a.encoder?a.encoder:o.encoder,f="function"==typeof a.sort?a.sort:null,d=void 0!==a.allowDots&&a.allowDots,g="function"==typeof a.serializeDate?a.serializeDate:o.serializeDate,b="boolean"==typeof a.encodeValuesOnly?a.encodeValuesOnly:o.encodeValuesOnly;if(void 0===a.format)a.format=s.default;else if(!Object.prototype.hasOwnProperty.call(s.formatters,a.format))throw new TypeError("Unknown format option provided.");var v,y,_=s.formatters[a.format];"function"==typeof a.filter?i=(y=a.filter)("",i):Array.isArray(a.filter)&&(v=y=a.filter);var x,A=[];if("object"!=typeof i||null===i)return"";x=a.arrayFormat in n?a.arrayFormat:"indices"in a?a.indices?"indices":"repeat":"indices";var E=n[x];v||(v=Object.keys(i)),f&&v.sort(f);for(var O=0;O<v.length;++O){var w=v[O];p&&null===i[w]||(A=A.concat(l(i[w],w,E,c,p,m?h:null,y,f,d,g,_,b)))}var k=A.join(u),S=!0===a.addQueryPrefix?"?":"";return k.length>0?S+k:""}},function(t,e,i){"use strict";var r=i(462),s=Object.prototype.hasOwnProperty,n={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},a=function(t,e,i){if(t){var r=i.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,n=/(\[[^[\]]*])/g,a=/(\[[^[\]]*])/.exec(r),o=a?r.slice(0,a.index):r,l=[];if(o){if(!i.plainObjects&&s.call(Object.prototype,o)&&!i.allowPrototypes)return;l.push(o)}for(var u=0;null!==(a=n.exec(r))&&u<i.depth;){if(u+=1,!i.plainObjects&&s.call(Object.prototype,a[1].slice(1,-1))&&!i.allowPrototypes)return;l.push(a[1])}return a&&l.push("["+r.slice(a.index)+"]"),function(t,e,i){for(var r=e,s=t.length-1;s>=0;--s){var n,a=t[s];if("[]"===a)n=(n=[]).concat(r);else{n=i.plainObjects?Object.create(null):{};var o="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,l=parseInt(o,10);!isNaN(l)&&a!==o&&String(l)===o&&l>=0&&i.parseArrays&&l<=i.arrayLimit?(n=[])[l]=r:n[o]=r}r=n}return r}(l,e,i)}};t.exports=function(t,e){var i=e?r.assign({},e):{};if(null!==i.decoder&&void 0!==i.decoder&&"function"!=typeof i.decoder)throw new TypeError("Decoder has to be a function.");if(i.ignoreQueryPrefix=!0===i.ignoreQueryPrefix,i.delimiter="string"==typeof i.delimiter||r.isRegExp(i.delimiter)?i.delimiter:n.delimiter,i.depth="number"==typeof i.depth?i.depth:n.depth,i.arrayLimit="number"==typeof i.arrayLimit?i.arrayLimit:n.arrayLimit,i.parseArrays=!1!==i.parseArrays,i.decoder="function"==typeof i.decoder?i.decoder:n.decoder,i.allowDots="boolean"==typeof i.allowDots?i.allowDots:n.allowDots,i.plainObjects="boolean"==typeof i.plainObjects?i.plainObjects:n.plainObjects,i.allowPrototypes="boolean"==typeof i.allowPrototypes?i.allowPrototypes:n.allowPrototypes,i.parameterLimit="number"==typeof i.parameterLimit?i.parameterLimit:n.parameterLimit,i.strictNullHandling="boolean"==typeof i.strictNullHandling?i.strictNullHandling:n.strictNullHandling,""===t||null==t)return i.plainObjects?Object.create(null):{};for(var o="string"==typeof t?function(t,e){for(var i={},r=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,a=e.parameterLimit===1/0?void 0:e.parameterLimit,o=r.split(e.delimiter,a),l=0;l<o.length;++l){var u,c,p=o[l],m=p.indexOf("]="),h=-1===m?p.indexOf("="):m+1;-1===h?(u=e.decoder(p,n.decoder),c=e.strictNullHandling?null:""):(u=e.decoder(p.slice(0,h),n.decoder),c=e.decoder(p.slice(h+1),n.decoder)),s.call(i,u)?i[u]=[].concat(i[u]).concat(c):i[u]=c}return i}(t,i):t,l=i.plainObjects?Object.create(null):{},u=Object.keys(o),c=0;c<u.length;++c){var p=u[c],m=a(p,o[p],i);l=r.merge(l,m,i)}return r.compact(l)}},function(t,e,i){"use strict";var r=function(){function t(t,e,i,r){if("number"!=typeof t)throw new TypeError("statusCode must be a number but was "+typeof t);if(null===e)throw new TypeError("headers cannot be null");if("object"!=typeof e)throw new TypeError("headers must be an object but was "+typeof e);this.statusCode=t;var s={};for(var n in e)s[n.toLowerCase()]=e[n];this.headers=s,this.body=i,this.url=r}return t.prototype.isError=function(){return 0===this.statusCode||this.statusCode>=400},t.prototype.getBody=function(t){var e;if(0===this.statusCode)throw(e=new Error("This request to "+this.url+" resulted in a status code of 0. This usually indicates some kind of network error in a browser (e.g. CORS not being set up or the DNS failing to resolve):\n"+this.body.toString())).statusCode=this.statusCode,e.headers=this.headers,e.body=this.body,e.url=this.url,e;if(this.statusCode>=300)throw(e=new Error("Server responded to "+this.url+" with status code "+this.statusCode+":\n"+this.body.toString())).statusCode=this.statusCode,e.headers=this.headers,e.body=this.body,e.url=this.url,e;return t&&"string"!=typeof this.body?this.body.toString(t):this.body},t}();t.exports=r},function(t,e,i){i(574),t.exports=self.fetch.bind(self)},function(t,e,i){"use strict";i.r(e),i.d(e,"Headers",function(){return u}),i.d(e,"Request",function(){return g}),i.d(e,"Response",function(){return v}),i.d(e,"DOMException",function(){return _}),i.d(e,"fetch",function(){return x});var r={searchParams:"URLSearchParams"in self,iterable:"Symbol"in self&&"iterator"in Symbol,blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in self,arrayBuffer:"ArrayBuffer"in self};if(r.arrayBuffer)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=ArrayBuffer.isView||function(t){return t&&s.indexOf(Object.prototype.toString.call(t))>-1};function a(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function o(t){return"string"!=typeof t&&(t=String(t)),t}function l(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return r.iterable&&(e[Symbol.iterator]=function(){return e}),e}function u(t){this.map={},t instanceof u?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function c(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function p(t){return new Promise(function(e,i){t.onload=function(){e(t.result)},t.onerror=function(){i(t.error)}})}function m(t){var e=new FileReader,i=p(e);return e.readAsArrayBuffer(t),i}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function f(){return this.bodyUsed=!1,this._initBody=function(t){var e;this._bodyInit=t,t?"string"==typeof t?this._bodyText=t:r.blob&&Blob.prototype.isPrototypeOf(t)?this._bodyBlob=t:r.formData&&FormData.prototype.isPrototypeOf(t)?this._bodyFormData=t:r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)?this._bodyText=t.toString():r.arrayBuffer&&r.blob&&((e=t)&&DataView.prototype.isPrototypeOf(e))?(this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):r.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(t)||n(t))?this._bodyArrayBuffer=h(t):this._bodyText=t=Object.prototype.toString.call(t):this._bodyText="",this.headers.get("content-type")||("string"==typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r.blob&&(this.blob=function(){var t=c(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?c(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var t,e,i,r=c(this);if(r)return r;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,i=p(e),e.readAsText(t),i;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var e=new Uint8Array(t),i=new Array(e.length),r=0;r<e.length;r++)i[r]=String.fromCharCode(e[r]);return i.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}u.prototype.append=function(t,e){t=a(t),e=o(e);var i=this.map[t];this.map[t]=i?i+", "+e:e},u.prototype.delete=function(t){delete this.map[a(t)]},u.prototype.get=function(t){return t=a(t),this.has(t)?this.map[t]:null},u.prototype.has=function(t){return this.map.hasOwnProperty(a(t))},u.prototype.set=function(t,e){this.map[a(t)]=o(e)},u.prototype.forEach=function(t,e){for(var i in this.map)this.map.hasOwnProperty(i)&&t.call(e,this.map[i],i,this)},u.prototype.keys=function(){var t=[];return this.forEach(function(e,i){t.push(i)}),l(t)},u.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),l(t)},u.prototype.entries=function(){var t=[];return this.forEach(function(e,i){t.push([i,e])}),l(t)},r.iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries);var d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function g(t,e){var i,r,s=(e=e||{}).body;if(t instanceof g){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new u(t.headers)),this.method=t.method,this.mode=t.mode,this.signal=t.signal,s||null==t._bodyInit||(s=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"same-origin",!e.headers&&this.headers||(this.headers=new u(e.headers)),this.method=(i=e.method||this.method||"GET",r=i.toUpperCase(),d.indexOf(r)>-1?r:i),this.mode=e.mode||this.mode||null,this.signal=e.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&s)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(s)}function b(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var i=t.split("="),r=i.shift().replace(/\+/g," "),s=i.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(s))}}),e}function v(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new u(e.headers),this.url=e.url||"",this._initBody(t)}g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},f.call(g.prototype),f.call(v.prototype),v.prototype.clone=function(){return new v(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},v.error=function(){var t=new v(null,{status:0,statusText:""});return t.type="error",t};var y=[301,302,303,307,308];v.redirect=function(t,e){if(-1===y.indexOf(e))throw new RangeError("Invalid status code");return new v(null,{status:e,headers:{location:t}})};var _=self.DOMException;try{new _}catch(t){(_=function(t,e){this.message=t,this.name=e;var i=Error(t);this.stack=i.stack}).prototype=Object.create(Error.prototype),_.prototype.constructor=_}function x(t,e){return new Promise(function(i,s){var n=new g(t,e);if(n.signal&&n.signal.aborted)return s(new _("Aborted","AbortError"));var a=new XMLHttpRequest;function o(){a.abort()}a.onload=function(){var t,e,r={status:a.status,statusText:a.statusText,headers:(t=a.getAllResponseHeaders()||"",e=new u,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var i=t.split(":"),r=i.shift().trim();if(r){var s=i.join(":").trim();e.append(r,s)}}),e)};r.url="responseURL"in a?a.responseURL:r.headers.get("X-Request-URL");var s="response"in a?a.response:a.responseText;i(new v(s,r))},a.onerror=function(){s(new TypeError("Network request failed"))},a.ontimeout=function(){s(new TypeError("Network request failed"))},a.onabort=function(){s(new _("Aborted","AbortError"))},a.open(n.method,n.url,!0),"include"===n.credentials?a.withCredentials=!0:"omit"===n.credentials&&(a.withCredentials=!1),"responseType"in a&&r.blob&&(a.responseType="blob"),n.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),n.signal&&(n.signal.addEventListener("abort",o),a.onreadystatechange=function(){4===a.readyState&&n.signal.removeEventListener("abort",o)}),a.send(void 0===n._bodyInit?null:n._bodyInit)})}x.polyfill=!0,self.fetch||(self.fetch=x,self.Headers=u,self.Request=g,self.Response=v)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.parse=void 0;var r,s=(r=i(434))&&r.__esModule?r:{default:r};e.default=e.parse=function(t){var e=Array.isArray(t)?t:t.trim().split(/(?:[\s,]\s*)/g);return[].concat(s.default.getEntities(e,["en"]))}},function(t,e,i){const r=i(418),{isPlainObject:s}=i(391);t.exports=function(t,e,i,n,a){if(s(t)){const r=t;t=r.search,e=r.language,i=r.limit,n=r.format,a=r.uselang}if(!(t&&t.length>0))throw new Error("search can't be empty");return r({action:"wbsearchentities",search:t,language:e=e||"en",limit:i=i||"20",format:n=n||"json",uselang:a=a||e})}},function(t,e){t.exports={stringify:function(t){var e="";for(let i in t){let r=t[i];r&&(e+=`&${i}=${r}`)}return e=e.slice(1),encodeURI?encodeURI(e):e}}},function(t,e,i){"use strict";e.decode=e.parse=i(579),e.encode=e.stringify=i(580)},function(t,e,i){"use strict";function r(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,i,n){e=e||"&",i=i||"=";var a={};if("string"!=typeof t||0===t.length)return a;var o=/\+/g;t=t.split(e);var l=1e3;n&&"number"==typeof n.maxKeys&&(l=n.maxKeys);var u=t.length;l>0&&u>l&&(u=l);for(var c=0;c<u;++c){var p,m,h,f,d=t[c].replace(o,"%20"),g=d.indexOf(i);g>=0?(p=d.substr(0,g),m=d.substr(g+1)):(p=d,m=""),h=decodeURIComponent(p),f=decodeURIComponent(m),r(a,h)?s(a[h])?a[h].push(f):a[h]=[a[h],f]:a[h]=f}return a};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)}},function(t,e,i){"use strict";var r=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,i,o){return e=e||"&",i=i||"=",null===t&&(t=void 0),"object"==typeof t?n(a(t),function(a){var o=encodeURIComponent(r(a))+i;return s(t[a])?n(t[a],function(t){return o+encodeURIComponent(r(t))}).join(e):o+encodeURIComponent(r(t[a]))}).join(e):o?encodeURIComponent(r(o))+i+encodeURIComponent(r(t)):""};var s=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function n(t,e){if(t.map)return t.map(e);for(var i=[],r=0;r<t.length;r++)i.push(e(t[r],r));return i}var a=Object.keys||function(t){var e=[];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.push(i);return e}},function(t,e,i){const r=i(465),{isPlainObject:s}=i(391);t.exports=function(t,e,i,a){if(s(t)&&({ids:t,languages:e,props:i,format:a}=t),!(t instanceof Array))throw new Error("getManyEntities expects an array of ids");return n(t).map(t=>r(t,e,i,a))};const n=function(t){const e=[];for(;t.length>0;){let i=t.slice(0,50);t=t.slice(50),e.push(i)}return e}},function(t,e,i){const r=i(419),s=i(466);function n(t){return r.isItemId(t)?t=`wd:${t}`:"string"==typeof t&&(t=`'${t}'`),t}function a(t,e,i,r){return`?subject ${t} ${e} .\n    ${i}`}function o(t,e,i,r){return`?subject ${t} ?value .\n    FILTER (lcase(?value) = ${e.toLowerCase()})\n    ${i}`}t.exports=function(t,e,i={}){var{limit:r,caseInsensitive:u,keepProperties:c}=i;const p=c?"":"FILTER NOT EXISTS { ?subject rdf:type wikibase:Property . } ";var m=`SELECT DISTINCT ?subject WHERE { ${function(t,e,i,r){if(!(t instanceof Array))return e(i,n(t),r);return"{ "+t.map(n).map(t=>e(i,t,r)).join("} UNION {")+" }"}(e,u?o:a,t=t instanceof Array?t.map(l).join("|"):l(t),p)} }`;return r&&(m+=` LIMIT ${r}`),s(m)};const l=t=>"wdt:"+t},function(t,e){t.exports=function(t){"object"==typeof t&&(t=t.time);const e=t[0],r=t.slice(1),s=i(e,r);return"Invalid Date"===s.toString()?n(e,r):s};const i=function(t,e){return"-"===t?s(e):r(e)},r=t=>new Date(t),s=function(t){const e=t.split("-")[0];var i;return i=4===e.length?`-00${t}`:5===e.length?`-0${t}`:`-${t}`,new Date(i)},n=function(t,e){const r=e.split("T")[0].split("-")[0];return i(t,r)}},function(t,e,i){const r=i(418),{forceArray:s}=i(391);t.exports=function(t,e={}){const i=1===(t=s(t)).length,a={action:"query",prop:"revisions"};return a.titles=t.join("|"),a.format=e.format||"json",i&&(a.rvlimit=e.limit||"max"),i&&e.start&&(a.rvstart=n(e.start)),i&&e.end&&(a.rvend=n(e.end)),r(a)};const n=function(t){return"number"==typeof t&&t<a?t:Math.trunc(new Date(t).getTime()/1e3)},a=new Date("2000-01-01").getTime()},function(t,e,i){const r=i(418),{isPlainObject:s,forceArray:n,shortLang:a}=i(391);t.exports=function(t,e,i,l,u){if(s(t)){const r=t;t=r.titles,e=r.sites,i=r.languages,l=r.props,u=r.format}if(u=u||"json",!(t&&t.length>0))throw new Error("no title provided");e&&e.length>0||(e=["enwiki"]),t=n(t),e=n(e).map(o),l=n(l);const c={action:"wbgetentities",titles:t.join("|"),sites:e.join("|"),format:u};return 1===e.length&&1===t.length&&(c.normalize=!0),i&&(i=n(i).map(a),c.languages=i.join("|")),l&&l.length>0&&(c.props=l.join("|")),r(c)};const o=t=>2===t.length?`${t}wiki`:t},function(t,e,i){const r=i(467);t.exports={wd:{entities:function(t){t=t.body||t;const{entities:e}=t;return Object.keys(e).forEach(t=>{e[t]=r(e[t])}),e}}}},function(t,e,i){const{wikidataTimeToISOString:r,wikidataTimeToEpochTime:s,wikidataTimeToSimpleDay:n}=i(419),a=t=>t.value,o=(t,e)=>u(t,e.entityPrefix),l={item:"Q",lexeme:"L",property:"P"},u=function(t,e){const{value:i}=t,r=i.id||l[i["entity-type"]]+i["numeric-id"];return"string"==typeof e?`${e}:${r}`:r},c=(t="iso")=>p[t],p={iso:r,epoch:s,"simple-day":n,none:t=>t.time||t},m={string:a,commonsMedia:a,url:a,"external-id":a,math:a,monolingualtext:(t,e)=>e.keepRichValues?t.value:t.value.text,"wikibase-item":o,"wikibase-lexeme":o,"wikibase-property":o,time:(t,e)=>c(e.timeConverter)(t.value),quantity:(t,e)=>{const{value:i}=t,r=parseFloat(i.amount);if(e.keepRichValues)return{amount:parseFloat(i.amount),unit:i.unit.replace("http://www.wikidata.org/entity/",""),upperBound:parseFloat(i.upperBound),lowerBound:parseFloat(i.lowerBound)};return r},"globe-coordinate":t=>[t.value.latitude,t.value.longitude],"geo-shape":a,"tabular-data":a};t.exports={parsers:m,parse:(t,e,i,r)=>{if(!t)return console.error("invalid claim",r),null;try{return m[t](e,i)}catch(e){throw"parsers[datatype] is not a function"===e.message&&(e.message=`${t} claim parser isn't implemented\n        Claim id: ${r}\n        Please report to https://github.com/maxlath/wikidata-sdk/issues`),e}}}},function(t,e){t.exports=["aa","ab","af","ak","als","am","ang","an","ar","ast","as","av","ay","az","ba","be","bg","bh","bi","bm","bn","bo","br","bs","ca","chr","ch","co","cr","csb","cs","cv","cy","da","de","dv","dz","el","en","eo","es","et","eu","fa","fi","fj","fo","fr","fy","ga","gd","gl","gn","got","gu","gv","ha","he","hif","hi","hr","hsb","ht","hu","hy","ia","id","ie","ik","io","is","it","iu","ja","jbo","jv","ka","kk","kl","km","kn","ko","kr","ks","ku","kw","ky","la","lb","li","ln","lo","lt","lv","mg","mh","mi","mk","ml","mn","mo","mr","ms","mt","my","nah","na","nds","ne","nl","nn","no","oc","om","or","pa","pi","pl","pms","pnb","ps","pt","qu","rm","rn","roa_rup","ro","ru","rw","sah","sa","scn","sc","sd","se","sg","sh","simple","si","sk","sl","sm","sn","so","sq","sr","ss","st","su","sv","sw","ta","te","tg","th","ti","tk","tl","tn","to","tpi","tr","ts","tt","tw","ug","uk","ur","uz","vec","vi","vo","wa","wo","xh","yi","yo","za","zh_min_nan","zh","zu","aa","ab","ace","af","ak","als","am","an","ang","ar","arc","arz","as","ast","av","ay","az","ba","bar","bat_smg","bcl","be","be_x_old","bg","bh","bi","bjn","bm","bn","bo","bpy","br","bs","bug","bxr","ca","cbk_zam","cdo","ce","ceb","ch","cho","chr","chy","ckb","co","cr","crh","cs","csb","cu","cv","cy","da","de","diq","dsb","dv","dz","ee","el","eml","en","eo","es","et","eu","ext","fa","ff","fi","fiu_vro","fj","fo","fr","frp","frr","fur","fy","ga","gag","gan","gd","gl","glk","gn","got","gu","gv","ha","hak","haw","he","hi","hif","ho","hr","hsb","ht","hu","hy","hz","ia","id","ie","ig","ii","ik","ilo","io","is","it","iu","ja","jbo","jv","ka","kaa","kab","kbd","kg","ki","kj","kk","kl","km","kn","ko","koi","kr","krc","ks","ksh","ku","kv","kw","ky","la","lad","lb","lbe","lez","lg","li","lij","lmo","ln","lo","lt","ltg","lv","mai","map_bms","mdf","mg","mh","mhr","mi","min","mk","ml","mn","mo","mr","mrj","ms","mt","mus","mwl","my","myv","mzn","na","nah","nap","nds","nds_nl","ne","new","ng","nl","nn","no","nov","nrm","nso","nv","ny","oc","om","or","os","pa","pag","pam","pap","pcd","pdc","pfl","pi","pih","pl","pms","pnb","pnt","ps","pt","qu","rm","rmy","rn","ro","roa_rup","roa_tara","ru","rue","rw","sa","sah","sc","scn","sco","sd","se","sg","sh","si","simple","sk","sl","sm","sn","so","sq","sr","srn","ss","st","stq","su","sv","sw","szl","ta","te","tet","tg","th","ti","tk","tl","tn","to","tpi","tr","ts","tt","tum","tw","ty","tyv","udm","ug","uk","ur","uz","ve","vec","vep","vi","vls","vo","wa","war","wo","wuu","xal","xh","xmf","yi","yo","za","zea","zh","zh_classical","zh_min_nan","zh_yue","zu","lrc","gom","azb","ady","jam","tcy","olo","dty","atj","kbp","din","gor","inh","lfn","sat"]},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseAsync=e.default=e.parse=void 0;var r,s=(r=i(434))&&r.__esModule?r:{default:r},n=i(473);function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var n=t.apply(e,i);function a(t,e){try{var i=n[t](e),a=i.value}catch(t){return void s(t)}i.done?r(a):Promise.resolve(a).then(o,l)}function o(t){a("next",t)}function l(t){a("throw",t)}o()})}}var l,u=(l=o(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.all(Object.keys(e.entities).map(function(){var t=o(regeneratorRuntime.mark(function t(i){var r,l,u,c,p;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.entities[i],l=r.labels,u=r.claims,c=s.default.simplifyClaims(u,null,null,!0),p={_wikiId:i,id:i},t.next=5,Promise.all(Object.keys(c).map(function(){var t=o(regeneratorRuntime.mark(function t(e){var i,r,s,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,n.parseAsync)(e,c[e],"en");case 2:(i=t.sent)&&(r=a(i,2),s=r[0],o=r[1],Array.isArray(p[s])?p[s]=p[s].concat(o):void 0!==o&&(p[s]=o));case 4:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()));case 5:return Array.isArray(p.author)&&p.author.sort(function(t,e){return t._ordinal-e._ordinal}),p.title||(p.title=l.en.value),t.abrupt("return",p);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}())));case 1:case"end":return t.stop()}},t,this)})),function(t){return l.apply(this,arguments)});e.parseAsync=u;e.default=e.parse=function(t){return Object.keys(t.entities).map(function(e){var i=t.entities[e],r=i.labels,o=i.claims,l=s.default.simplifyClaims(o,null,null,!0),u={_wikiId:e,id:e};return Object.keys(l).forEach(function(t){var e=(0,n.parse)(t,l[t],"en");if(e){var i=a(e,2),r=i[0],s=i[1];Array.isArray(u[r])?u[r]=u[r].concat(s):void 0!==s&&(u[r]=s)}}),Array.isArray(u.author)&&u.author.sort(function(t,e){return t._ordinal-e._ordinal}),u.title||(u.title=r.en.value),u})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;e.parse=function(t){return t.match(/\/(Q\d+)(?:[#?\/]|\s*$)/)[1]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"parseAsync",{enumerable:!0,get:function(){return s.default}});var r=n(i(406)),s=n(i(407));function n(t){return t&&t.__esModule?t:{default:t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.formats=e.parsers=e.ref=void 0;var r=l(i(593)),s=l(i(594)),n=l(i(475)),a=l(i(595)),o=l(i(596));function l(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}e.ref="@else";var u={empty:r,url:s,json:n,jquery:a,html:o};e.parsers=u;var c={"@empty/text":{parse:r.parse,parseType:{dataType:"String",predicate:function(t){return""===t}}},"@empty/whitespace+text":{parse:r.parse,parseType:{dataType:"String",predicate:/^\s+$/}},"@empty":{parse:r.parse,parseType:{dataType:"Primitive",predicate:function(t){return null==t}}},"@else/json":{parse:n.parse,parseType:{dataType:"String",predicate:/^\s*(\{[\S\s]*\}|\[[\S\s]*\])\s*$/}},"@else/url":{parse:s.parse,parseAsync:s.parseAsync,parseType:{dataType:"String",predicate:/^https?:\/\/(([\w-]+\.)*[\w-]+)(:\d+)?(\/[^?\/]*)*(\?[^#]*)?(#.*)?$/i}},"@else/jquery":{parse:a.parse,parseType:{dataType:"ComplexObject",predicate:function(t){return"undefined"!=typeof jQuery&&t instanceof jQuery}}},"@else/html":{parse:o.parse,parseType:{dataType:"ComplexObject",predicate:function(t){return"undefined"!=typeof HTMLElement&&t instanceof HTMLElement}}}};e.formats=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;e.parse=function(){return[]}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"parse",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"parseAsync",{enumerable:!0,get:function(){return s.default}});var r=n(i(406)),s=n(i(407));function n(t){return t&&t.__esModule?t:{default:t}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;e.parse=function(t){return t.val()||t.text()||t.html()}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parse=void 0;e.parse=function(t){return t.value||t.textContent}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=(r=i(405))&&r.__esModule?r:{default:r};function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o={author:2,"collection-editor":2,composer:2,"container-author":2,editor:2,"editorial-director":2,director:2,interviewer:2,illustrator:2,"original-author":2,"reviewed-author":2,recipient:2,translator:2,accessed:3,container:3,"event-date":3,issued:3,"original-date":3,submitted:3,categories:"object",id:["string","number"],type:"string",language:"string",journalAbbreviation:"string",shortTitle:"string",abstract:"string",annote:"string",archive:"string",archive_location:"string","archive-place":"string",authority:"string","call-number":"string","chapter-number":"string","citation-number":"string","citation-label":"string","collection-number":"string","collection-title":"string","container-title":"string","container-title-short":"string",dimensions:"string",DOI:"string",edition:["string","number"],event:"string","event-place":"string","first-reference-note-number":"string",genre:"string",ISBN:"string",ISSN:"string",issue:["string","number"],jurisdiction:"string",keyword:"string",locator:"string",medium:"string",note:"string",number:["string","number"],"number-of-pages":"string","number-of-volumes":["string","number"],"original-publisher":"string","original-publisher-place":"string","original-title":"string",page:"string","page-first":"string",PMCID:"string",PMID:"string",publisher:"string","publisher-place":"string",references:"string","reviewed-title":"string",scale:"string",section:"string",source:"string",status:"string",title:"string","title-short":"string",URL:"string",version:"string",volume:["string","number"],"year-suffix":"string"},l=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return"object"===a(t)&&(t.literal||t.given||t.family)?t:e&&"string"==typeof t?(0,s.default)(t):void 0},u=function t(e,i){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=[].concat(o[e]);switch(o[e]){case 1:return l(i,r);case 2:return function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t instanceof Array)return t.map(function(t){return l(t,e)}).filter(Boolean)||void 0}(i,r);case 3:return function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i="date-parts";if(t&&t[i]instanceof Array&&t[i].every(function(t){return t instanceof Array})){if(t[i].every(function(t){return t.every(function(t){return"number"==typeof t})}))return n({},i,t[i].map(function(t){return t.slice()}));if(!e)return;if(t[i].some(function(t){return t.some(function(t){return"string"==typeof t})}))return n({},i,t[i].map(function(t){return t.map(parseFloat)}))}else if(t&&t instanceof Array&&t[0][i]instanceof Array){if(t[0][i].every(function(t){return"number"==typeof t}))return n({},i,[t[0][i].slice()]);if(!e)return;if(t[0][i].every(function(t){return"string"==typeof t}))return n({},i,[t[0][i].map(parseFloat)])}}(i,r)}return s.includes(a(i))?i:/^_/.test(i)?i:r?"string"==typeof i&&s.includes("number")&&parseFloat(i)?parseFloat(i):"number"==typeof i&&s.includes("string")&&!s.includes("number")?i.toString():Array.isArray(i)&&i.length?t(e,i[0]):void 0:void 0},c=function(t){return t.map(function(t){var e={};for(var i in t){var r=u(i,t[i]);void 0!==r&&(e[i]=r)}return e})};e.default=c},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.save=e.undo=e.retrieveLastVersion=e.retrieveVersion=e.currentVersion=void 0;var r,s=(r=i(435))&&r.__esModule?r:{default:r};function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.currentVersion=function(){return this.log.length};e.retrieveVersion=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(t<=0||t>this.currentVersion())return null;var e=n(this.log[t-1],2),i=e[0],r=e[1],a=new s.default(JSON.parse(i),JSON.parse(r));return a.log=this.log.slice(0,t),a};e.undo=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return this.retrieveVersion(this.currentVersion()-t)};e.retrieveLastVersion=function(){return this.retrieveVersion(this.currentVersion())};e.save=function(){return this.log.push([JSON.stringify(this.data),JSON.stringify(this._options)]),this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.options=void 0;var r=i(476);e.defaultOptions={format:"real",type:"json",style:"csl",lang:"en-US"};e.options=function(t,e){e&&this.save();try{(0,r.validateOutputOptions)(t),Object.assign(this._options,t)}catch(t){var i=t.message;logger.warn("[options]",i)}return this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.reset=e.setAsync=e.set=e.addAsync=e.add=void 0;var r,s=i(414),n=(r=i(477))&&r.__esModule?r:{default:r};function a(t){return function(){var e=this,i=arguments;return new Promise(function(r,s){var n=t.apply(e,i);function a(t,e){try{var i=n[t](e),a=i.value}catch(t){return void s(t)}i.done?r(a):Promise.resolve(a).then(o,l)}function o(t){a("next",t)}function l(t){a("throw",t)}o()})}}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}e.add=function(t){var e,i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0!==r&&!0!==a||this.save(),(e=this.data).push.apply(e,o((0,s.chain)(t,r))),this.data.filter(function(t){return!t.hasOwnProperty("id")}).forEach(function(t){t.id=(0,n.default)(i.getIds(),"temp_id_")}),this};var l,u=(l=a(regeneratorRuntime.mark(function t(e){var i,r,a,l=this,u=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},a=u.length>2&&void 0!==u[2]&&u[2],!0!==r&&!0!==a||this.save(),t.t0=(i=this.data).push,t.t1=i,t.t2=o,t.next=8,(0,s.chainAsync)(e,r);case 8:return t.t3=t.sent,t.t4=(0,t.t2)(t.t3),t.t0.apply.call(t.t0,t.t1,t.t4),this.data.filter(function(t){return!t.hasOwnProperty("id")}).forEach(function(t){t.id=(0,n.default)(l.getIds(),"temp_id_")}),t.abrupt("return",this);case 13:case"end":return t.stop()}},t,this)})),function(t){return l.apply(this,arguments)});e.addAsync=u;e.set=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!0!==e&&!0!==i||this.save(),this.data=[],"boolean"!=typeof e?this.add(t,e):this.add(t)};var c,p=(c=a(regeneratorRuntime.mark(function t(e){var i,r,s=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>1&&void 0!==s[1]?s[1]:{},r=s.length>2&&void 0!==s[2]&&s[2],!0!==i&&!0!==r||this.save(),this.data=[],t.abrupt("return","boolean"!=typeof i?this.addAsync(e,i):this.addAsync(e));case 5:case"end":return t.stop()}},t,this)})),function(t){return c.apply(this,arguments)});e.setAsync=p;e.reset=function(t){return t&&this.save(),this.data=[],this._options={},this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sort=void 0;var r,s=i(436),n=(r=i(420))&&r.__esModule?r:{default:r};function a(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var o=function(t,e){var i=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label"===e)?(0,s.getLabel)(t):t[e];switch(e){case"author":case"editor":return i.map(function(t){return t.literal||t.family||(0,n.default)(t)});case"accessed":case"issued":return i["date-parts"][0];case"page":return i.split("-").map(function(t){return parseInt(t)});case"edition":case"issue":case"volume":return i=parseInt(i),isNaN(i)?-1/0:i;default:return i||-1/0}},l=function(t,e,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:/^!/.test(i);i=i.replace(/^!/,"");var s=o(t,i),n=o(e,i);return s===n?0:r!==s>n?1:-1};e.sort=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(arguments.length>1?arguments[1]:void 0)&&this.save(),this.data.sort("function"==typeof t?t:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return function(t,i){for(var r=e.slice(),s=0;!s&&r.length;)s=l(t,i,r.shift());return s}}.apply(void 0,a(t).concat(["label"]))),this}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.get=e.getIds=e.format=void 0;var r=i(449),s=i(433),n=i(414);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}e.getIds=function(){return this.data.map(function(t){return t.id})};e.format=function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),r=1;r<e;r++)i[r-1]=arguments[r];return s.format.apply(void 0,[t,(0,n.csl)(this.data)].concat(i))};e.get=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{(0,r.validateOutputOptions)(t)}catch(t){var e=t.message;logger.error("[get]",e)}var i,s=Object.assign({},this.defaultOptions,this._options.output,t),n=s.type,l=o(s.style.split("-"),2),u=l[0],c=l[1],p="citation"===u?"bibliography":"csl"===u?"data":u,m="string"===n?"text":"json"===n?"object":n;switch(p){case"bibliography":i={template:c,lang:s.lang,format:m,append:s.append,prepend:s.prepend};break;case"data":case"bibtex":case"bibtxt":i={type:m};break;default:logger.error("[get]","Invalid options")}var h=this.format(p,i),f=s.format;if("real"===f&&"html"===m&&"undefined"!=typeof document&&"function"==typeof document.createElement){var d=document.createElement("div");return d.innerHTML=h,d.firstChild}return"string"===f&&"object"===a(h)?JSON.stringify(h):h}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={bibtex:!0,date:!0,name:!0,dict:!0,bibtxt:!0,json:!0,label:!0};Object.defineProperty(e,"date",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"name",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"bibtxt",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(e,"json",{enumerable:!0,get:function(){return m.getJsonWrapper}}),Object.defineProperty(e,"label",{enumerable:!0,get:function(){return h.getLabel}}),e.dict=e.bibtex=void 0;var s=d(i(438)),n=d(i(420));i(604);var a=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}(i(394));e.dict=a;var o=d(i(422)),l=d(i(437)),u=d(i(482)),c=d(i(481)),p=d(i(483)),m=i(484),h=i(436),f=i(433);function d(t){return t&&t.__esModule?t:{default:t}}Object.keys(f).forEach(function(t){"default"!==t&&"__esModule"!==t&&(Object.prototype.hasOwnProperty.call(r,t)||Object.defineProperty(e,t,{enumerable:!0,get:function(){return f[t]}}))});var g={json:o.default,label:l.default,text:u.default,type:c.default};e.bibtex=g},function(t,e,i){"use strict";var r=i(415),s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}(i(605));for(var n in s){var a=s[n];(0,r.add)(n,{output:a})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"bibtex",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"data",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"label",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"ris",{enumerable:!0,get:function(){return a.default}}),i(606);var r=o(i(612)),s=o(i(484)),n=o(i(436)),a=o(i(613));function o(t){return t&&t.__esModule?t:{default:t}}},function(t,e,i){"use strict";var r=i(415),s=i(439),n=i(440),a=u(i(421)),o=u(i(610)),l=u(i(611));function u(t){return t&&t.__esModule?t:{default:t}}(0,r.add)("csl",{output:{bibliography:o.default,citation:l.default},config:{engine:a.default,locales:s.locales,templates:n.templates}})},function(t){t.exports={"en-US":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="en-US"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2015-10-10T23:31:02+00:00</updated></info><style-options punctuation-in-quote="true"/><date form="text"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date><date form="numeric"><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">accessed</term><term name="and">and</term><term name="and others">and others</term><term name="anonymous">anonymous</term><term name="anonymous" form="short">anon.</term><term name="at">at</term><term name="available at">available at</term><term name="by">by</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">cited</term><term name="edition"><single>edition</single><multiple>editions</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et al.</term><term name="forthcoming">forthcoming</term><term name="from">from</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in press</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">letter</term><term name="no date">no date</term><term name="no date" form="short">n.d.</term><term name="online">online</term><term name="presented at">presented at the</term><term name="reference"><single>reference</single><multiple>references</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">retrieved</term><term name="scale">scale</term><term name="version">version</term><term name="ad">AD</term><term name="bc">BC</term><term name="open-quote">“</term><term name="close-quote">”</term><term name="open-inner-quote">‘</term><term name="close-inner-quote">’</term><term name="page-range-delimiter">–</term><term name="ordinal">th</term><term name="ordinal-01">st</term><term name="ordinal-02">nd</term><term name="ordinal-03">rd</term><term name="ordinal-11">th</term><term name="ordinal-12">th</term><term name="ordinal-13">th</term><term name="long-ordinal-01">first</term><term name="long-ordinal-02">second</term><term name="long-ordinal-03">third</term><term name="long-ordinal-04">fourth</term><term name="long-ordinal-05">fifth</term><term name="long-ordinal-06">sixth</term><term name="long-ordinal-07">seventh</term><term name="long-ordinal-08">eighth</term><term name="long-ordinal-09">ninth</term><term name="long-ordinal-10">tenth</term><term name="book"><single>book</single><multiple>books</multiple></term><term name="chapter"><single>chapter</single><multiple>chapters</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>number</single><multiple>numbers</multiple></term><term name="line"><single>line</single><multiple>lines</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraph</single><multiple>paragraphs</multiple></term><term name="part"><single>part</single><multiple>parts</multiple></term><term name="section"><single>section</single><multiple>sections</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verse</single><multiple>verses</multiple>\n</term><term name="volume"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short"><single>bk.</single><multiple>bks.</multiple></term><term name="chapter" form="short"><single>chap.</single><multiple>chaps.</multiple></term><term name="column" form="short"><single>col.</single><multiple>cols.</multiple></term><term name="figure" form="short"><single>fig.</single><multiple>figs.</multiple></term><term name="folio" form="short"><single>fol.</single><multiple>fols.</multiple></term><term name="issue" form="short"><single>no.</single><multiple>nos.</multiple></term><term name="line" form="short"><single>l.</single><multiple>ll.</multiple></term><term name="note" form="short"><single>n.</single><multiple>nn.</multiple></term><term name="opus" form="short"><single>op.</single><multiple>opp.</multiple></term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short"><single>para.</single><multiple>paras.</multiple></term><term name="part" form="short"><single>pt.</single><multiple>pts.</multiple></term><term name="section" form="short"><single>sec.</single><multiple>secs.</multiple></term><term name="sub verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term><term name="director"><single>director</single><multiple>directors</multiple></term><term name="editor"><single>editor</single><multiple>editors</multiple></term><term name="editorial-director"><single>editor</single><multiple>editors</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>translator</single><multiple>translators</multiple></term><term name="editortranslator"><single>editor &amp; translator</single><multiple>editors &amp; translators</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ills.</multiple></term><term name="translator" form="short"><single>tran.</single><multiple>trans.</multiple></term><term name="editortranslator" form="short"><single>ed. &amp; tran.</single><multiple>eds. &amp; trans.</multiple></term><term name="container-author" form="verb">by</term><term name="director" form="verb">directed by</term><term name="editor" form="verb">edited by</term><term name="editorial-director" form="verb">edited by</term><term name="illustrator" form="verb">illustrated by</term><term name="interviewer" form="verb">interview by</term><term name="recipient" form="verb">to</term><term name="reviewed-author" form="verb">by</term><term name="translator" form="verb">translated by</term><term name="editortranslator" form="verb">edited &amp; translated by</term><term name="director" form="verb-short">dir. by</term><term name="editor" form="verb-short">ed. by</term><term name="editorial-director" form="verb-short">ed. by</term><term name="illustrator" form="verb-short">illus. by</term><term name="translator" form="verb-short">trans. by</term><term name="editortranslator" form="verb-short">ed. &amp; trans. by</term><term name="month-01">January</term><term name="month-02">February</term><term name="month-03">March</term><term name="month-04">April</term><term name="month-05">May</term><term name="month-06">June</term><term name="month-07">July</term><term name="month-08">August</term><term name="month-09">September</term>\n<term name="month-10">October</term><term name="month-11">November</term><term name="month-12">December</term><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term><term name="month-03" form="short">Mar.</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">May</term><term name="month-06" form="short">Jun.</term><term name="month-07" form="short">Jul.</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Oct.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dec.</term><term name="season-01">Spring</term><term name="season-02">Summer</term><term name="season-03">Autumn</term><term name="season-04">Winter</term></terms></locale>',"nl-NL":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="nl-NL"><info><translator><name>Rintze Zelle</name><uri>http://twitter.com/rintzezelle</uri></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" suffix="-" range-delimiter="/"/><date-part name="month" form="numeric" suffix="-" range-delimiter="/"/><date-part name="year"/></date><terms><term name="accessed">geraadpleegd</term><term name="and">en</term><term name="and others">en anderen</term><term name="anonymous">anoniem</term><term name="anonymous" form="short">anon.</term><term name="at">bij</term><term name="available at">beschikbaar op</term><term name="by">door</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">geciteerd</term><term name="edition"><single>editie</single><multiple>edities</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">e.a.</term><term name="forthcoming">in voorbereiding</term><term name="from">van</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">in druk</term><term name="internet">internet</term><term name="interview">interview</term><term name="letter">brief</term><term name="no date">zonder datum</term><term name="no date" form="short">z.d.</term><term name="online">online</term><term name="presented at">gepresenteerd bij</term><term name="reference"><single>referentie</single><multiple>referenties</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">geraadpleegd</term><term name="scale">schaal</term><term name="version">versie</term><term name="ad">AD</term><term name="bc">BC</term><term name="open-quote">“</term><term name="close-quote">”</term><term name="open-inner-quote">‘</term><term name="close-inner-quote">’</term><term name="page-range-delimiter">–</term><term name="ordinal">ste</term><term name="ordinal-00" match="whole-number">de</term><term name="ordinal-02" match="last-two-digits">de</term><term name="ordinal-03" match="last-two-digits">de</term><term name="ordinal-04" match="last-two-digits">de</term><term name="ordinal-05" match="last-two-digits">de</term><term name="ordinal-06" match="last-two-digits">de</term><term name="ordinal-07" match="last-two-digits">de</term><term name="ordinal-09" match="last-two-digits">de</term><term name="ordinal-10">de</term><term name="ordinal-11">de</term><term name="ordinal-12">de</term><term name="ordinal-13">de</term><term name="ordinal-14">de</term><term name="ordinal-15">de</term><term name="ordinal-16">de</term><term name="ordinal-17">de</term><term name="ordinal-18">de</term><term name="ordinal-19">de</term><term name="long-ordinal-01">eerste</term><term name="long-ordinal-02">tweede</term><term name="long-ordinal-03">derde</term><term name="long-ordinal-04">vierde</term><term name="long-ordinal-05">vijfde</term><term name="long-ordinal-06">zesde</term><term name="long-ordinal-07">zevende</term><term name="long-ordinal-08">achtste</term><term name="long-ordinal-09">negende</term><term name="long-ordinal-10">tiende</term><term name="book"><single>boek</single><multiple>boeken</multiple></term><term name="chapter"><single>hoofdstuk</single><multiple>hoofdstukken</multiple></term><term name="column"><single>column</single><multiple>columns</multiple></term><term name="figure"><single>figuur</single><multiple>figuren</multiple></term><term name="folio"><single>folio</single><multiple>folio\'s</multiple></term><term name="issue"><single>nummer</single><multiple>nummers</multiple></term><term name="line"><single>regel</single><multiple>regels</multiple>\n</term><term name="note"><single>aantekening</single><multiple>aantekeningen</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="number-of-pages"><single>pagina</single><multiple>pagina\'s</multiple></term><term name="paragraph"><single>paragraaf</single><multiple>paragrafen</multiple></term><term name="part"><single>deel</single><multiple>delen</multiple></term><term name="section"><single>sectie</single><multiple>secties</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>vers</single><multiple>versen</multiple></term><term name="volume"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short">bk.</term><term name="chapter" form="short">hfdst.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">nr.</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">par.</term><term name="part" form="short">deel</term><term name="section" form="short">sec.</term><term name="sub verbo" form="short"><single>s.v.</single><multiple>s.vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term><term name="director"><single>regisseur</single><multiple>regisseurs</multiple></term><term name="editor"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="editorial-director"><single>redacteur</single><multiple>redacteuren</multiple></term><term name="illustrator"><single>illustrator</single><multiple>illustrators</multiple></term><term name="translator"><single>vertaler</single><multiple>vertalers</multiple></term><term name="editortranslator"><single>redacteur &amp; vertaler</single><multiple>redacteuren &amp; vertalers</multiple></term><term name="director" form="short"><single>reg.</single><multiple>reg.</multiple></term><term name="editor" form="short"><single>red.</single><multiple>red.</multiple></term><term name="editorial-director" form="short"><single>red.</single><multiple>red.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>vert.</single><multiple>vert.</multiple></term><term name="editortranslator" form="short"><single>red. &amp; vert.</single><multiple>red. &amp; vert.</multiple></term><term name="container-author" form="verb">door</term><term name="director" form="verb">geregisseerd door</term><term name="editor" form="verb">bewerkt door</term><term name="editorial-director" form="verb">bewerkt door</term><term name="illustrator" form="verb">geïllustreerd door</term><term name="interviewer" form="verb">geïnterviewd door</term><term name="recipient" form="verb">ontvangen door</term><term name="reviewed-author" form="verb">door</term><term name="translator" form="verb">vertaald door</term><term name="editortranslator" form="verb">bewerkt &amp; vertaald door</term><term name="director" form="verb-short">geregisseerd door</term><term name="editor" form="verb-short">bewerkt door</term><term name="editorial-director" form="verb-short">bewerkt door</term><term name="illustrator" form="verb-short">geïllustreerd door</term><term name="translator" form="verb-short">vertaald door</term><term name="editortranslator" form="verb-short">bewerkt &amp; vertaald door</term>\n<term name="month-01">januari</term><term name="month-02">februari</term><term name="month-03">maart</term><term name="month-04">april</term><term name="month-05">mei</term><term name="month-06">juni</term><term name="month-07">juli</term><term name="month-08">augustus</term><term name="month-09">september</term><term name="month-10">oktober</term><term name="month-11">november</term><term name="month-12">december</term><term name="month-01" form="short">jan.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mrt.</term><term name="month-04" form="short">apr.</term><term name="month-05" form="short">mei</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">aug.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">okt.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">dec.</term><term name="season-01">lente</term><term name="season-02">zomer</term><term name="season-03">herst</term><term name="season-04">winter</term></terms></locale>',"fr-FR":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="fr-FR"><info><translator><name>Grégoire Colly</name></translator><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false" limit-day-ordinals-to-day-1="true"/><date form="text"><date-part name="day" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">consulté le</term><term name="and">et</term><term name="and others">et autres</term><term name="anonymous">anonyme</term><term name="anonymous" form="short">anon.</term><term name="at">sur</term><term name="available at">disponible sur</term><term name="by">par</term><term name="circa">vers</term><term name="circa" form="short">v.</term><term name="cited">cité</term><term name="edition" gender="feminine"><single>édition</single><multiple>éditions</multiple></term><term name="edition" form="short">éd.</term><term name="et-al">et al.</term><term name="forthcoming">à paraître</term><term name="from">à l\'adresse</term><term name="ibid">ibid.</term><term name="in">in</term><term name="in press">sous presse</term><term name="internet">Internet</term><term name="interview">entretien</term><term name="letter">lettre</term><term name="no date">sans date</term><term name="no date" form="short">s.&#160;d.</term><term name="online">en ligne</term><term name="presented at">présenté à</term><term name="reference"><single>référence</single><multiple>références</multiple></term><term name="reference" form="short"><single>réf.</single><multiple>réf.</multiple></term><term name="retrieved">consulté</term><term name="scale">échelle</term><term name="version">version</term><term name="ad">apr. J.-C.</term><term name="bc">av. J.-C.</term><term name="open-quote">«&#160;</term><term name="close-quote">&#160;»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">&#8209;</term><term name="ordinal">ᵉ</term><term name="ordinal-01" gender-form="feminine" match="whole-number">ʳᵉ</term><term name="ordinal-01" gender-form="masculine" match="whole-number">ᵉʳ</term><term name="long-ordinal-01">premier</term><term name="long-ordinal-02">deuxième</term><term name="long-ordinal-03">troisième</term><term name="long-ordinal-04">quatrième</term><term name="long-ordinal-05">cinquième</term><term name="long-ordinal-06">sixième</term><term name="long-ordinal-07">septième</term><term name="long-ordinal-08">huitième</term><term name="long-ordinal-09">neuvième</term><term name="long-ordinal-10">dixième</term><term name="book"><single>livre</single><multiple>livres</multiple></term><term name="chapter"><single>chapitre</single><multiple>chapitres</multiple></term><term name="column"><single>colonne</single><multiple>colonnes</multiple></term><term name="figure"><single>figure</single><multiple>figures</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue" gender="masculine"><single>numéro</single><multiple>numéros</multiple></term><term name="line"><single>ligne</single><multiple>lignes</multiple></term><term name="note"><single>note</single><multiple>notes</multiple></term><term name="opus"><single>opus</single><multiple>opus</multiple></term><term name="page"><single>page</single><multiple>pages</multiple></term><term name="number-of-pages"><single>page</single><multiple>pages</multiple></term><term name="paragraph"><single>paragraphe</single><multiple>paragraphes</multiple></term><term name="part"><single>partie</single><multiple>parties</multiple></term><term name="section"><single>section</single><multiple>sections</multiple>\n</term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>verset</single><multiple>versets</multiple></term><term name="volume" gender="masculine"><single>volume</single><multiple>volumes</multiple></term><term name="book" form="short">liv.</term><term name="chapter" form="short">chap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short"><single>fᵒ</single><multiple>fᵒˢ</multiple></term><term name="issue" form="short"><single>nᵒ</single><multiple>nᵒˢ</multiple></term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>p.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>p.</multiple></term><term name="paragraph" form="short">paragr.</term><term name="part" form="short">part.</term><term name="section" form="short">sect.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>v.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vol.</multiple></term><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term><term name="director"><single>réalisateur</single><multiple>réalisateurs</multiple></term><term name="editor"><single>éditeur</single><multiple>éditeurs</multiple></term><term name="editorial-director"><single>directeur</single><multiple>directeurs</multiple></term><term name="illustrator"><single>illustrateur</single><multiple>illustrateurs</multiple></term><term name="translator"><single>traducteur</single><multiple>traducteurs</multiple></term><term name="editortranslator"><single>éditeur et traducteur</single><multiple>éditeurs et traducteurs</multiple></term><term name="director" form="short"><single>réal.</single><multiple>réal.</multiple></term><term name="editor" form="short"><single>éd.</single><multiple>éd.</multiple></term><term name="editorial-director" form="short"><single>dir.</single><multiple>dir.</multiple></term><term name="illustrator" form="short"><single>ill.</single><multiple>ill.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trad.</multiple></term><term name="editortranslator" form="short"><single>éd. et trad.</single><multiple>éd. et trad.</multiple></term><term name="container-author" form="verb">par</term><term name="director" form="verb">réalisé par</term><term name="editor" form="verb">édité par</term><term name="editorial-director" form="verb">sous la direction de</term><term name="illustrator" form="verb">illustré par</term><term name="interviewer" form="verb">entretien réalisé par</term><term name="recipient" form="verb">à</term><term name="reviewed-author" form="verb">par</term><term name="translator" form="verb">traduit par</term><term name="editortranslator" form="verb">édité et traduit par</term><term name="director" form="verb-short">réal. par</term><term name="editor" form="verb-short">éd. par</term><term name="editorial-director" form="verb-short">ss la dir. de</term><term name="illustrator" form="verb-short">ill. par</term><term name="translator" form="verb-short">trad. par</term><term name="editortranslator" form="verb-short">éd. et trad. par</term><term name="month-01" gender="masculine">janvier</term><term name="month-02" gender="masculine">février</term><term name="month-03" gender="masculine">mars</term><term name="month-04" gender="masculine">avril</term><term name="month-05" gender="masculine">mai</term><term name="month-06" gender="masculine">juin</term><term name="month-07" gender="masculine">juillet</term><term name="month-08" gender="masculine">août</term><term name="month-09" gender="masculine">septembre</term><term name="month-10" gender="masculine">\noctobre</term><term name="month-11" gender="masculine">novembre</term><term name="month-12" gender="masculine">décembre</term><term name="month-01" form="short">janv.</term><term name="month-02" form="short">févr.</term><term name="month-03" form="short">mars</term><term name="month-04" form="short">avr.</term><term name="month-05" form="short">mai</term><term name="month-06" form="short">juin</term><term name="month-07" form="short">juill.</term><term name="month-08" form="short">août</term><term name="month-09" form="short">sept.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">déc.</term><term name="season-01">printemps</term><term name="season-02">été</term><term name="season-03">automne</term><term name="season-04">hiver</term></terms></locale>',"de-DE":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="de-DE"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" form="ordinal" suffix=" "/><date-part name="month" suffix=" "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="."/><date-part name="month" form="numeric-leading-zeros" suffix="."/><date-part name="year"/></date><terms><term name="accessed">zugegriffen</term><term name="and">und</term><term name="and others">und andere</term><term name="anonymous">ohne Autor</term><term name="anonymous" form="short">o.&#160;A.</term><term name="at">auf</term><term name="available at">verfügbar unter</term><term name="by">von</term><term name="circa">circa</term><term name="circa" form="short">ca.</term><term name="cited">zitiert</term><term name="edition"><single>Auflage</single><multiple>Auflagen</multiple></term><term name="edition" form="short">Aufl.</term><term name="et-al">u.&#160;a.</term><term name="forthcoming">i.&#160;E.</term><term name="from">von</term><term name="ibid">ebd.</term><term name="in">in</term><term name="in press">im Druck</term><term name="internet">Internet</term><term name="interview">Interview</term><term name="letter">Brief</term><term name="no date">ohne Datum</term><term name="no date" form="short">o.&#160;J.</term><term name="online">online</term><term name="presented at">gehalten auf der</term><term name="reference"><single>Referenz</single><multiple>Referenzen</multiple></term><term name="reference" form="short"><single>Ref.</single><multiple>Ref.</multiple></term><term name="retrieved">abgerufen</term><term name="scale">Maßstab</term><term name="version">Version</term><term name="ad">n.&#160;Chr.</term><term name="bc">v.&#160;Chr.</term><term name="open-quote">„</term><term name="close-quote">“</term><term name="open-inner-quote">‚</term><term name="close-inner-quote">‘</term><term name="page-range-delimiter">–</term><term name="ordinal">.</term><term name="long-ordinal-01">erster</term><term name="long-ordinal-02">zweiter</term><term name="long-ordinal-03">dritter</term><term name="long-ordinal-04">vierter</term><term name="long-ordinal-05">fünfter</term><term name="long-ordinal-06">sechster</term><term name="long-ordinal-07">siebter</term><term name="long-ordinal-08">achter</term><term name="long-ordinal-09">neunter</term><term name="long-ordinal-10">zehnter</term><term name="book"><single>Buch</single><multiple>Bücher</multiple></term><term name="chapter"><single>Kapitel</single><multiple>Kapitel</multiple></term><term name="column"><single>Spalte</single><multiple>Spalten</multiple></term><term name="figure"><single>Abbildung</single><multiple>Abbildungen</multiple></term><term name="folio"><single>Blatt</single><multiple>Blätter</multiple></term><term name="issue"><single>Nummer</single><multiple>Nummern</multiple></term><term name="line"><single>Zeile</single><multiple>Zeilen</multiple></term><term name="note"><single>Note</single><multiple>Noten</multiple></term><term name="opus"><single>Opus</single><multiple>Opera</multiple></term><term name="page"><single>Seite</single><multiple>Seiten</multiple></term><term name="number-of-pages"><single>Seite</single><multiple>Seiten</multiple></term><term name="paragraph"><single>Absatz</single><multiple>Absätze</multiple></term><term name="part"><single>Teil</single><multiple>Teile</multiple></term><term name="section"><single>Abschnitt</single><multiple>Abschnitte</multiple></term><term name="sub verbo"><single>sub verbo</single><multiple>sub verbis</multiple></term><term name="verse"><single>Vers</single><multiple>Verse</multiple></term><term name="volume"><single>Band</single><multiple>Bände</multiple></term><term name="book" form="short">B.</term>\n<term name="chapter" form="short">Kap.</term><term name="column" form="short">Sp.</term><term name="figure" form="short">Abb.</term><term name="folio" form="short">Fol.</term><term name="issue" form="short">Nr.</term><term name="line" form="short">Z.</term><term name="note" form="short">N.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>S.</single><multiple>S.</multiple></term><term name="number-of-pages" form="short"><single>S.</single><multiple>S.</multiple></term><term name="paragraph" form="short">Abs.</term><term name="part" form="short">Teil</term><term name="section" form="short">Abschn.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>V.</single><multiple>V.</multiple></term><term name="volume" form="short"><single>Bd.</single><multiple>Bde.</multiple></term><term name="paragraph" form="symbol"><single>¶</single><multiple>¶¶</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§§</multiple></term><term name="director"><single>Regisseur</single><multiple>Regisseure</multiple></term><term name="editor"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="collection-editor"><single>Reihenherausgeber</single><multiple>Reihenherausgeber</multiple></term><term name="editorial-director"><single>Herausgeber</single><multiple>Herausgeber</multiple></term><term name="illustrator"><single>Illustrator</single><multiple>Illustratoren</multiple></term><term name="translator"><single>Übersetzer</single><multiple>Übersetzer</multiple></term><term name="editortranslator"><single>Herausgeber&#160;&amp; Übersetzer</single><multiple>Herausgeber&#160;&amp; Übersetzer</multiple></term><term name="director" form="short"><single>Reg.</single><multiple>Reg.</multiple></term><term name="editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="collection-editor" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="editorial-director" form="short"><single>Hrsg.</single><multiple>Hrsg.</multiple></term><term name="illustrator" form="short"><single>Ill.</single><multiple>Ill.</multiple></term><term name="translator" form="short"><single>Übers.</single><multiple>Übers.</multiple></term><term name="editortranslator" form="short"><single>Hrsg.&#160;&amp; Übers.</single><multiple>Hrsg.&#160;&amp; Übers</multiple></term><term name="container-author" form="verb">von</term><term name="director" form="verb">Regie von</term><term name="editor" form="verb">herausgegeben von</term><term name="collection-editor" form="verb">herausgegeben von</term><term name="editorial-director" form="verb">herausgegeben von</term><term name="illustrator" form="verb">illustriert von</term><term name="interviewer" form="verb">interviewt von</term><term name="recipient" form="verb">an</term><term name="reviewed-author" form="verb">von</term><term name="translator" form="verb">übersetzt von</term><term name="editortranslator" form="verb">herausgegeben und übersetzt von</term><term name="director" form="verb-short">Reg.</term><term name="editor" form="verb-short">hg. von</term><term name="collection-editor" form="verb-short">hg. von</term><term name="editorial-director" form="verb-short">hg. von</term><term name="illustrator" form="verb-short">illus. von</term><term name="translator" form="verb-short">übers. von</term><term name="editortranslator" form="verb-short">hg.&#160;&amp; übers. von</term><term name="month-01">Januar</term><term name="month-02">Februar</term><term name="month-03">März</term><term name="month-04">April</term><term name="month-05">Mai</term><term name="month-06">Juni</term><term name="month-07">Juli</term><term name="month-08">August</term><term name="month-09">September</term><term name="month-10">Oktober</term><term name="month-11">November</term><term name="month-12">Dezember</term><term name="month-01" form="short">Jan.</term><term name="month-02" form="short">Feb.</term>\n<term name="month-03" form="short">März</term><term name="month-04" form="short">Apr.</term><term name="month-05" form="short">Mai</term><term name="month-06" form="short">Juni</term><term name="month-07" form="short">Juli</term><term name="month-08" form="short">Aug.</term><term name="month-09" form="short">Sep.</term><term name="month-10" form="short">Okt.</term><term name="month-11" form="short">Nov.</term><term name="month-12" form="short">Dez.</term><term name="season-01">Frühjahr</term><term name="season-02">Sommer</term><term name="season-03">Herbst</term><term name="season-04">Winter</term></terms></locale>',"es-ES":'<?xml version="1.0" encoding="utf-8"?><locale xmlns="http://purl.org/net/xbiblio/csl" version="1.0" xml:lang="es-ES"><info><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights><updated>2012-07-04T23:31:02+00:00</updated></info><style-options punctuation-in-quote="false"/><date form="text"><date-part name="day" suffix=" de "/><date-part name="month" suffix=" de "/><date-part name="year"/></date><date form="numeric"><date-part name="day" form="numeric-leading-zeros" suffix="/"/><date-part name="month" form="numeric-leading-zeros" suffix="/"/><date-part name="year"/></date><terms><term name="accessed">accedido</term><term name="and">y</term><term name="and others">y otros</term><term name="anonymous">anónimo</term><term name="anonymous" form="short">anón.</term><term name="at">en</term><term name="available at">disponible en</term><term name="by">de</term><term name="circa">circa</term><term name="circa" form="short">c.</term><term name="cited">citado</term><term name="edition"><single>edición</single><multiple>ediciones</multiple></term><term name="edition" form="short">ed.</term><term name="et-al">et&#160;al.</term><term name="forthcoming">previsto</term><term name="from">a partir de</term><term name="ibid">ibid.</term><term name="in">en</term><term name="in press">en imprenta</term><term name="internet">internet</term><term name="interview">entrevista</term><term name="letter">carta</term><term name="no date">sin fecha</term><term name="no date" form="short">s.&#160;f.</term><term name="online">en línea</term><term name="presented at">presentado en</term><term name="reference"><single>referencia</single><multiple>referencias</multiple></term><term name="reference" form="short"><single>ref.</single><multiple>refs.</multiple></term><term name="retrieved">recuperado</term><term name="scale">escala</term><term name="version">versión</term><term name="ad">d.&#160;C.</term><term name="bc">a.&#160;C.</term><term name="open-quote">«</term><term name="close-quote">»</term><term name="open-inner-quote">“</term><term name="close-inner-quote">”</term><term name="page-range-delimiter">-</term><term name="ordinal">.ª</term><term name="long-ordinal-01">primera</term><term name="long-ordinal-02">segunda</term><term name="long-ordinal-03">tercera</term><term name="long-ordinal-04">cuarta</term><term name="long-ordinal-05">quinta</term><term name="long-ordinal-06">sexta</term><term name="long-ordinal-07">séptima</term><term name="long-ordinal-08">octava</term><term name="long-ordinal-09">novena</term><term name="long-ordinal-10">décima</term><term name="book"><single>libro</single><multiple>libros</multiple></term><term name="chapter"><single>capítulo</single><multiple>capítulos</multiple></term><term name="column"><single>columna</single><multiple>columnas</multiple></term><term name="figure"><single>figura</single><multiple>figuras</multiple></term><term name="folio"><single>folio</single><multiple>folios</multiple></term><term name="issue"><single>número</single><multiple>números</multiple></term><term name="line"><single>línea</single><multiple>líneas</multiple></term><term name="note"><single>nota</single><multiple>notas</multiple></term><term name="opus"><single>opus</single><multiple>opera</multiple></term><term name="page"><single>página</single><multiple>páginas</multiple></term><term name="number-of-pages"><single>página</single><multiple>páginas</multiple></term><term name="paragraph"><single>párrafo</single><multiple>párrafos</multiple></term><term name="part"><single>parte</single><multiple>partes</multiple></term><term name="section"><single>sección</single><multiple>secciones</multiple></term><term name="sub verbo"><single>sub voce</single><multiple>sub vocibus</multiple></term><term name="verse"><single>verso</single><multiple>versos</multiple></term><term name="volume"><single>volumen</single><multiple>volúmenes</multiple></term><term name="book" form="short">lib.</term>\n<term name="chapter" form="short">cap.</term><term name="column" form="short">col.</term><term name="figure" form="short">fig.</term><term name="folio" form="short">f.</term><term name="issue" form="short">n.º</term><term name="line" form="short">l.</term><term name="note" form="short">n.</term><term name="opus" form="short">op.</term><term name="page" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="number-of-pages" form="short"><single>p.</single><multiple>pp.</multiple></term><term name="paragraph" form="short">párr.</term><term name="part" form="short">pt.</term><term name="section" form="short">sec.</term><term name="sub verbo" form="short"><single>s.&#160;v.</single><multiple>s.&#160;vv.</multiple></term><term name="verse" form="short"><single>v.</single><multiple>vv.</multiple></term><term name="volume" form="short"><single>vol.</single><multiple>vols.</multiple></term><term name="paragraph" form="symbol"><single>§</single><multiple>§</multiple></term><term name="section" form="symbol"><single>§</single><multiple>§</multiple></term><term name="director"><single>director</single><multiple>directores</multiple></term><term name="editor"><single>editor</single><multiple>editores</multiple></term><term name="editorial-director"><single>editor</single><multiple>editores</multiple></term><term name="illustrator"><single>ilustrador</single><multiple>ilustradores</multiple></term><term name="translator"><single>traductor</single><multiple>traductores</multiple></term><term name="editortranslator"><single>editor y traductor</single><multiple>editores y traductores</multiple></term><term name="director" form="short"><single>dir.</single><multiple>dirs.</multiple></term><term name="editor" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="editorial-director" form="short"><single>ed.</single><multiple>eds.</multiple></term><term name="illustrator" form="short"><single>ilust.</single><multiple>ilusts.</multiple></term><term name="translator" form="short"><single>trad.</single><multiple>trads.</multiple></term><term name="editortranslator" form="short"><single>ed. y trad.</single><multiple>eds. y trads.</multiple></term><term name="container-author" form="verb">de</term><term name="director" form="verb">dirigido por</term><term name="editor" form="verb">editado por</term><term name="editorial-director" form="verb">editado por</term><term name="illustrator" form="verb">ilustrado por</term><term name="interviewer" form="verb">entrevistado por</term><term name="recipient" form="verb">a</term><term name="reviewed-author" form="verb">por</term><term name="translator" form="verb">traducido por</term><term name="editortranslator" form="verb">editado y traducido por</term><term name="director" form="verb-short">dir.</term><term name="editor" form="verb-short">ed.</term><term name="editorial-director" form="verb-short">ed.</term><term name="illustrator" form="verb-short">ilust.</term><term name="translator" form="verb-short">trad.</term><term name="editortranslator" form="verb-short">ed. y trad.</term><term name="month-01">enero</term><term name="month-02">febrero</term><term name="month-03">marzo</term><term name="month-04">abril</term><term name="month-05">mayo</term><term name="month-06">junio</term><term name="month-07">julio</term><term name="month-08">agosto</term><term name="month-09">septiembre</term><term name="month-10">octubre</term><term name="month-11">noviembre</term><term name="month-12">diciembre</term><term name="month-01" form="short">ene.</term><term name="month-02" form="short">feb.</term><term name="month-03" form="short">mar.</term><term name="month-04" form="short">abr.</term><term name="month-05" form="short">may</term><term name="month-06" form="short">jun.</term><term name="month-07" form="short">jul.</term><term name="month-08" form="short">ago.</term><term name="month-09" form="short">sep.</term><term name="month-10" form="short">oct.</term><term name="month-11" form="short">nov.</term><term name="month-12" form="short">\ndic.</term><term name="season-01">primavera</term><term name="season-02">verano</term><term name="season-03">otoño</term><term name="season-04">invierno</term></terms></locale>'}},function(t){t.exports={apa:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="never"><info><title>American Psychological Association 6th edition</title><title-short>APA</title-short><id>http://www.zotero.org/styles/apa</id><link href="http://www.zotero.org/styles/apa" rel="self"/><link href="http://owl.english.purdue.edu/owl/resource/560/01/" rel="documentation"/><author><name>Simon Kornblith</name><email>simon@simonster.com</email></author><contributor><name>Bruce D\'Arcus</name></contributor><contributor><name>Curtis M. Humphrey</name></contributor><contributor><name>Richard Karnesky</name><email>karnesky+zotero@gmail.com</email><uri>http://arc.nucapt.northwestern.edu/Richard_Karnesky</uri></contributor><contributor><name>Sebastian Karcher</name></contributor><contributor><name> Brenton M. Wiernik</name><email>zotero@wiernik.org</email></contributor><category citation-format="author-date"/><category field="psychology"/><category field="generic-base"/><updated>2016-05-25T09:01:49+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><terms><term name="editortranslator" form="short"><single>ed. &amp; trans.</single><multiple>eds. &amp; trans.</multiple></term><term name="translator" form="short"><single>trans.</single><multiple>trans.</multiple></term></terms></locale><macro name="container-contributors"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><group delimiter=", "><names variable="container-author" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=" (" text-case="title" suffix=")"/></names><names variable="editor translator" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=" (" text-case="title" suffix=")"/></names></group></if></choose></macro><macro name="secondary-contributors"><choose><if type="article-journal chapter paper-conference entry-dictionary entry-encyclopedia" match="none"><group delimiter=", " prefix=" (" suffix=")"><names variable="container-author" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names><names variable="editor translator" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="title"/></names></group></if></choose></macro><macro name="author"><names variable="author"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with=". " delimiter=", " delimiter-precedes-last="always"/><label form="short" prefix=" (" suffix=")" text-case="capitalize-first"/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="report"><text variable="publisher"/><text macro="title"/></if><else><text macro="title"/></else></choose></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="symbol" delimiter=", " initialize-with=". "/><substitute><names variable="editor"/><names variable="translator"/><choose><if type="report"><text variable="publisher"/><text variable="title" form="short" font-style="italic"/></if><else-if type="legal_case"><text variable="title" font-style="italic"/></else-if><else-if type="bill book graphic legislation motion_picture song" match="any"><text variable="title" form="short" font-style="italic"/></else-if><else-if variable="reviewed-author"><choose><if variable="reviewed-title" match="none"><text variable="title" form="short" font-style="italic" prefix="Review of "/></if><else><text variable="title" form="short" quotes="true"/></else></choose></else-if><else><text variable="title" form="short" quotes="true"/></else></choose></substitute></names></macro><macro name="access"><choose><if type="thesis report" match="any"><choose><if variable="DOI" match="any">\n<text variable="DOI" prefix="https://doi.org/"/></if><else-if variable="archive" match="any"><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="archive" suffix="."/><text variable="archive_location" prefix=" (" suffix=")"/></group></else-if><else><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="URL"/></group></else></choose></if><else><choose><if variable="DOI"><text variable="DOI" prefix="https://doi.org/"/></if><else><choose><if type="webpage"><group delimiter=" "><text term="retrieved" text-case="capitalize-first" suffix=" "/><group><date variable="accessed" form="text" suffix=", "/></group><text term="from"/><text variable="URL"/></group></if><else><group><text term="retrieved" text-case="capitalize-first" suffix=" "/><text term="from" suffix=" "/><text variable="URL"/></group></else></choose></else></choose></else></choose></macro><macro name="title"><choose><if type="book graphic manuscript motion_picture report song speech thesis" match="any"><choose><if variable="version" type="book" match="all"><text variable="title"/></if><else><text variable="title" font-style="italic"/></else></choose></if><else-if variable="reviewed-author"><choose><if variable="reviewed-title"><group delimiter=" "><text variable="title"/><group delimiter=", " prefix="[" suffix="]"><text variable="reviewed-title" font-style="italic" prefix="Review of "/><names variable="reviewed-author" delimiter=", "><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group></group></if><else><group delimiter=", " prefix="[" suffix="]"><text variable="title" font-style="italic" prefix="Review of "/><names variable="reviewed-author" delimiter=", "><label form="verb-short" suffix=" "/><name and="symbol" initialize-with=". " delimiter=", "/></names></group></else></choose></else-if><else><text variable="title"/></else></choose></macro><macro name="title-plus-extra"><text macro="title"/><choose><if type="report thesis" match="any"><group prefix=" (" suffix=")" delimiter=", "><group delimiter=" "><choose><if variable="genre" match="any"><text variable="genre"/></if><else><text variable="collection-title"/></else></choose><text variable="number" prefix="No. "/></group><group delimiter=" "><text term="version" text-case="capitalize-first"/><text variable="version"/></group><text macro="edition"/></group></if><else-if type="post-weblog webpage" match="any"><text variable="genre" prefix=" [" suffix="]"/></else-if><else-if variable="version"><group delimiter=" " prefix=" (" suffix=")"><text term="version" text-case="capitalize-first"/><text variable="version"/></group></else-if></choose><text macro="format" prefix=" [" suffix="]"/></macro><macro name="format"><choose><if match="any" variable="medium"><text variable="medium" text-case="capitalize-first"/></if><else-if type="dataset" match="any"><text value="Data set"/></else-if></choose></macro><macro name="publisher"><choose><if type="report" match="any"><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></if><else-if type="thesis" match="any"><group delimiter=", "><text variable="publisher"/><text variable="publisher-place"/></group></else-if><else-if type="post-weblog webpage" match="none"><group delimiter=", "><choose><if variable="event version" type="speech motion_picture" match="none"><text variable="genre"/></if></choose><choose><if type="article-journal article-magazine" match="none"><group delimiter=": "><choose><if variable="publisher-place"><text variable="publisher-place"/></if><else><text variable="event-place"/></else></choose><text variable="publisher"/></group></if></choose></group></else-if></choose></macro><macro name="event"><choose><if variable="container-title" match="none"><choose><if variable="event"><choose><if variable="genre" match="none"><text term="presented at" text-case="capitalize-first" suffix=" "/><text variable="event"/></if><else>\n<group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/><text variable="event"/></group></else></choose></if><else-if type="speech"><text variable="genre" text-case="capitalize-first"/></else-if></choose></if></choose></macro><macro name="issued"><choose><if type="bill legal_case legislation" match="none"><choose><if variable="issued"><group prefix=" (" suffix=")"><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/><choose><if type="speech" match="any"><date variable="issued"><date-part prefix=", " name="month"/></date></if><else-if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none"><date variable="issued"><date-part prefix=", " name="month"/><date-part prefix=" " name="day"/></date></else-if></choose></group></if><else-if variable="status"><group prefix=" (" suffix=")"><text variable="status"/><text variable="year-suffix" prefix="-"/></group></else-if><else><group prefix=" (" suffix=")"><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></group></else></choose></if></choose></macro><macro name="issued-sort"><choose><if type="article-journal bill book chapter graphic legal_case legislation motion_picture paper-conference report song dataset" match="none"><date variable="issued"><date-part name="year"/><date-part name="month"/><date-part name="day"/></date></if><else><date variable="issued"><date-part name="year"/></date></else></choose></macro><macro name="issued-year"><choose><if variable="issued"><group delimiter="/"><date variable="original-date" form="text"/><group><date variable="issued"><date-part name="year"/></date><text variable="year-suffix"/></group></group></if><else-if variable="status"><text variable="status"/><text variable="year-suffix" prefix="-"/></else-if><else><text term="no date" form="short"/><text variable="year-suffix" prefix="-"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition"/></else></choose></macro><macro name="locators"><choose><if type="article-journal article-magazine" match="any"><group prefix=", " delimiter=", "><group><text variable="volume" font-style="italic"/><text variable="issue" prefix="(" suffix=")"/></group><text variable="page"/></group><choose><if variable="issued"><choose><if variable="page issue" match="none"><text variable="status" prefix=". "/></if></choose></if></choose></if><else-if type="article-newspaper"><group delimiter=" " prefix=", "><label variable="page" form="short"/><text variable="page"/></group></else-if><else-if type="book graphic motion_picture report song chapter paper-conference entry-encyclopedia entry-dictionary" match="any"><group prefix=" (" suffix=")" delimiter=", "><choose><if type="report" match="none"><text macro="edition"/></if></choose><choose><if variable="volume" match="any"><group><text term="volume" form="short" text-case="capitalize-first" suffix=" "/><number variable="volume" form="numeric"/></group></if><else><group><text term="volume" form="short" plural="true" text-case="capitalize-first" suffix=" "/><number variable="number-of-volumes" form="numeric" prefix="1&#8211;"/></group></else></choose><group><label variable="page" form="short" suffix=" "/><text variable="page"/></group></group></else-if><else-if type="legal_case"><group prefix=" (" suffix=")" delimiter=" "><text variable="authority"/><date variable="issued" form="text"/></group></else-if><else-if type="bill legislation" match="any"><date variable="issued" prefix=" (" suffix=")"><date-part name="year"/></date></else-if></choose></macro><macro name="citation-locator"><group><choose><if locator="chapter"><label variable="locator" form="long" text-case="capitalize-first"/></if><else><label variable="locator" form="short"/></else></choose><text variable="locator" prefix=" "/></group></macro>\n<macro name="container"><choose><if type="post-weblog webpage" match="none"><group><choose><if type="chapter paper-conference entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first" suffix=" "/></if></choose><group delimiter=", "><text macro="container-contributors"/><text macro="secondary-contributors"/><text macro="container-title"/></group></group></if></choose></macro><macro name="container-title"><choose><if type="article article-journal article-magazine article-newspaper" match="any"><text variable="container-title" font-style="italic" text-case="title"/></if><else-if type="bill legal_case legislation" match="none"><text variable="container-title" font-style="italic"/></else-if></choose></macro><macro name="legal-cites"><choose><if type="bill legal_case legislation" match="any"><group delimiter=" " prefix=", "><choose><if variable="container-title"><text variable="volume"/><text variable="container-title"/><group delimiter=" "><text term="section" form="symbol"/><text variable="section"/></group><text variable="page"/></if><else><choose><if type="legal_case"><text variable="number" prefix="No. "/></if><else><text variable="number" prefix="Pub. L. No. "/><group delimiter=" "><text term="section" form="symbol"/><text variable="section"/></group></else></choose></else></choose></group></if></choose></macro><macro name="original-date"><choose><if variable="original-date"><group prefix="(" suffix=")" delimiter=" "><text value="Original work published"/><date variable="original-date" form="text"/></group></if></choose></macro><citation et-al-min="6" et-al-use-first="1" et-al-subsequent-min="3" et-al-subsequent-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true" collapse="year" givenname-disambiguation-rule="primary-name"><sort><key macro="author"/><key macro="issued-sort"/></sort><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><text macro="author-short"/><text macro="issued-year"/><text macro="citation-locator"/></group></layout></citation><bibliography hanging-indent="true" et-al-min="8" et-al-use-first="6" et-al-use-last="true" entry-spacing="0" line-spacing="2"><sort><key macro="author"/><key macro="issued-sort" sort="ascending"/><key macro="title"/></sort><layout><group suffix="."><group delimiter=". "><text macro="author"/><text macro="issued"/><text macro="title-plus-extra"/><text macro="container"/></group><text macro="legal-cites"/><text macro="locators"/><group delimiter=", " prefix=". "><text macro="event"/><text macro="publisher"/></group></group><text macro="access" prefix=" "/><text macro="original-date" prefix=" "/></layout></bibliography></style>',vancouver:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only" page-range-format="minimal"><info><title>Vancouver</title><id>http://www.zotero.org/styles/vancouver</id><link href="http://www.zotero.org/styles/vancouver" rel="self"/><link href="http://www.nlm.nih.gov/bsd/uniform_requirements.html" rel="documentation"/><author><name>Michael Berkowitz</name><email>mberkowi@gmu.edu</email></author><contributor><name>Sean Takats</name><email>stakats@gmu.edu</email></contributor><contributor><name>Sebastian Karcher</name></contributor><category citation-format="numeric"/><category field="medicine"/><summary>Vancouver style as outlined by International Committee of Medical Journal Editors Uniform Requirements for Manuscripts Submitted to Biomedical Journals: Sample References</summary><updated>2014-09-06T16:03:01+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><locale xml:lang="en"><date form="text" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><terms><term name="collection-editor" form="long"><single>editor</single><multiple>editors</multiple></term><term name="presented at">presented at</term><term name="available at">available from</term><term name="section" form="short">sect.</term></terms></locale><locale xml:lang="fr"><date form="text" delimiter=" "><date-part name="day"/><date-part name="month" form="short" strip-periods="true"/><date-part name="year"/></date></locale><macro name="author"><names variable="author"><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/><substitute><names variable="editor"/></substitute></names></macro><macro name="editor"><names variable="editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names></macro><macro name="chapter-marker"><choose><if type="chapter paper-conference entry-dictionary entry-encyclopedia" match="any"><text term="in" text-case="capitalize-first"/></if></choose></macro><macro name="publisher"><choose><if type="article-journal article-magazine article-newspaper" match="none"><group delimiter=": " suffix=";"><choose><if type="thesis"><text variable="publisher-place" prefix="[" suffix="]"/></if><else-if type="speech"/><else><text variable="publisher-place"/></else></choose><text variable="publisher"/></group></if></choose></macro><macro name="access"><choose><if variable="URL"><group delimiter=": "><text term="available at" text-case="capitalize-first"/><text variable="URL"/></group></if></choose></macro><macro name="accessed-date"><choose><if variable="URL"><group prefix="[" suffix="]" delimiter=" "><text term="cited" text-case="lowercase"/><date variable="accessed" form="text"/></group></if></choose></macro><macro name="container-title"><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="any"><group suffix="." delimiter=" "><choose><if type="article-journal review review-book" match="any"><text variable="container-title" form="short" strip-periods="true"/></if><else><text variable="container-title" strip-periods="true"/></else></choose><choose><if variable="URL"><text term="internet" prefix="[" suffix="]" text-case="capitalize-first"/></if></choose></group><text macro="edition" prefix=" "/></if><else-if type="bill legislation" match="any"><group delimiter=", "><group delimiter=". "><text variable="container-title"/><group delimiter=" "><text term="section" form="short" text-case="capitalize-first"/><text variable="section"/></group></group><text variable="number"/></group></else-if><else-if type="speech">\n<group delimiter=": " suffix=";"><group delimiter=" "><text variable="genre" text-case="capitalize-first"/><text term="presented at"/></group><text variable="event"/></group></else-if><else><group delimiter=", " suffix="."><choose><if variable="collection-title" match="none"><group delimiter=" "><label variable="volume" form="short" text-case="capitalize-first"/><text variable="volume"/></group></if></choose><text variable="container-title"/></group></else></choose></macro><macro name="title"><text variable="title"/><choose><if type="article-journal article-magazine chapter paper-conference article-newspaper review review-book entry-dictionary entry-encyclopedia" match="none"><choose><if variable="URL"><text term="internet" prefix=" [" suffix="]" text-case="capitalize-first"/></if></choose><text macro="edition" prefix=". "/></if></choose><choose><if type="thesis"><text variable="genre" prefix=" [" suffix="]"/></if></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="date"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><group suffix=";" delimiter=" "><date variable="issued" form="text"/><text macro="accessed-date"/></group></if><else-if type="bill legislation" match="any"><group delimiter=", "><date variable="issued" delimiter=" "><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><date variable="issued"><date-part name="year"/></date></group></else-if><else-if type="report"><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/></date><text macro="accessed-date" prefix=" "/></else-if><else-if type="patent"><group suffix="."><group delimiter=", "><text variable="number"/><date variable="issued"><date-part name="year"/></date></group><text macro="accessed-date" prefix=" "/></group></else-if><else-if type="speech"><group delimiter="; "><group delimiter=" "><date variable="issued" delimiter=" "><date-part name="year"/><date-part name="month" form="short" strip-periods="true"/><date-part name="day"/></date><text macro="accessed-date"/></group><text variable="event-place"/></group></else-if><else><group suffix="."><date variable="issued"><date-part name="year"/></date><text macro="accessed-date" prefix=" "/></group></else></choose></macro><macro name="pages"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="any"><text variable="page" prefix=":"/></if><else-if type="book" match="any"><text variable="number-of-pages" prefix=" "/><choose><if is-numeric="number-of-pages"><label variable="number-of-pages" form="short" prefix=" " plural="never"/></if></choose></else-if><else><group prefix=" " delimiter=" "><label variable="page" form="short" plural="never"/><text variable="page"/></group></else></choose></macro><macro name="journal-location"><choose><if type="article-journal article-magazine review review-book" match="any"><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></if></choose></macro><macro name="collection-details"><choose><if type="article-journal article-magazine article-newspaper review review-book" match="none"><choose><if variable="collection-title"><group delimiter=" " prefix="(" suffix=")"><names variable="collection-editor" suffix="."><name sort-separator=" " initialize-with="" name-as-sort-order="all" delimiter=", " delimiter-precedes-last="always"/><label form="long" prefix=", "/></names><group delimiter="; "><text variable="collection-title"/><group delimiter=" "><label variable="volume" form="short"/><text variable="volume"/></group></group></group></if></choose></if></choose></macro><macro name="report-details"><choose><if type="report"><text variable="number" prefix="Report No.: "/></if></choose></macro><citation collapse="citation-number">\n<sort><key variable="citation-number"/></sort><layout prefix="(" suffix=")" delimiter=","><text variable="citation-number"/></layout></citation><bibliography et-al-min="7" et-al-use-first="6" second-field-align="flush"><layout><text variable="citation-number" suffix=". "/><group delimiter=". " suffix=". "><text macro="author"/><text macro="title"/></group><group delimiter=" " suffix=". "><group delimiter=": "><text macro="chapter-marker"/><group delimiter=" "><text macro="editor"/><text macro="container-title"/></group></group><text macro="publisher"/><group><text macro="date"/><text macro="journal-location"/><text macro="pages"/></group></group><text macro="collection-details" suffix=". "/><text macro="report-details" suffix=". "/><text macro="access"/></layout></bibliography></style>',harvard1:'<?xml version="1.0" encoding="utf-8"?><style xmlns="http://purl.org/net/xbiblio/csl" class="in-text" version="1.0" demote-non-dropping-particle="sort-only"><info><title>Harvard Reference format 1 (author-date)</title><id>http://www.zotero.org/styles/harvard1</id><link href="http://www.zotero.org/styles/harvard1" rel="self"/><link href="http://libweb.anglia.ac.uk/referencing/harvard.htm" rel="documentation"/><author><name>Julian Onions</name><email>julian.onions@gmail.com</email></author><category citation-format="author-date"/><category field="generic-base"/><summary>The Harvard author-date style</summary><updated>2012-09-27T22:06:38+00:00</updated><rights license="http://creativecommons.org/licenses/by-sa/3.0/">This work is licensed under a Creative Commons Attribution-ShareAlike 3.0 License</rights></info><macro name="editor"><names variable="editor" delimiter=", "><name and="symbol" initialize-with=". " delimiter=", "/><label form="short" prefix=", " text-case="lowercase"/></names></macro><macro name="anon"><text term="anonymous" form="short" text-case="capitalize-first" strip-periods="true"/></macro><macro name="author"><names variable="author"><name name-as-sort-order="all" and="symbol" sort-separator=", " initialize-with="." delimiter-precedes-last="never" delimiter=", "/><label form="short" prefix=" " text-case="lowercase"/><substitute><names variable="editor"/><text macro="anon"/></substitute></names></macro><macro name="author-short"><names variable="author"><name form="short" and="symbol" delimiter=", " delimiter-precedes-last="never" initialize-with=". "/><substitute><names variable="editor"/><names variable="translator"/><text macro="anon"/></substitute></names></macro><macro name="access"><choose><if variable="URL"><text value="Available at:" suffix=" "/><text variable="URL"/><group prefix=" [" suffix="]"><text term="accessed" text-case="capitalize-first" suffix=" "/><date variable="accessed"><date-part name="month" suffix=" "/><date-part name="day" suffix=", "/><date-part name="year"/></date></group></if></choose></macro><macro name="title"><choose><if type="bill book graphic legal_case legislation motion_picture report song thesis" match="any"><text variable="title" font-style="italic"/></if><else><text variable="title"/></else></choose></macro><macro name="publisher"><group delimiter=": "><text variable="publisher-place"/><text variable="publisher"/></group></macro><macro name="year-date"><choose><if variable="issued"><date variable="issued"><date-part name="year"/></date></if><else><text term="no date" form="short"/></else></choose></macro><macro name="edition"><choose><if is-numeric="edition"><group delimiter=" "><number variable="edition" form="ordinal"/><text term="edition" form="short"/></group></if><else><text variable="edition" suffix="."/></else></choose></macro><macro name="pages"><group><label variable="page" form="short" suffix=" "/><text variable="page"/></group></macro><citation et-al-min="3" et-al-use-first="1" disambiguate-add-year-suffix="true" disambiguate-add-names="true" disambiguate-add-givenname="true"><layout prefix="(" suffix=")" delimiter="; "><group delimiter=", "><group delimiter=" "><text macro="author-short"/><text macro="year-date"/></group><group><label variable="locator" form="short"/><text variable="locator"/></group></group></layout></citation><bibliography hanging-indent="true" et-al-min="4" et-al-use-first="1"><sort><key macro="author"/><key variable="title"/></sort><layout><text macro="author" suffix=","/><date variable="issued" prefix=" " suffix="."><date-part name="year"/></date><choose><if type="bill book graphic legal_case legislation motion_picture report song" match="any"><group prefix=" " delimiter=" " suffix=","><text macro="title"/><text macro="edition"/><text macro="editor"/></group><text prefix=" " suffix="." macro="publisher"/></if><else-if type="chapter paper-conference" match="any"><text macro="title" prefix=" " suffix="."/><group prefix=" " delimiter=" "><text term="in" text-case="capitalize-first"/>\n<text macro="editor"/><text variable="container-title" font-style="italic" suffix="."/><text variable="collection-title" suffix="."/><text variable="event" suffix="."/><group suffix="." delimiter=", "><text macro="publisher" prefix=" "/><text macro="pages"/></group></group></else-if><else-if type="thesis"><group prefix=" " suffix="." delimiter=". "><text macro="title"/><text variable="genre"/><text macro="publisher"/></group></else-if><else><group suffix="."><text macro="title" prefix=" "/><text macro="editor" prefix=" "/></group><group prefix=" " suffix="."><text variable="container-title" font-style="italic"/><group prefix=", "><text variable="volume"/><text variable="issue" prefix="(" suffix=")"/></group><group prefix=", "><label variable="page" form="short"/><text variable="page"/></group></group></else></choose><text prefix=" " macro="access" suffix="."/></layout></bibliography></style>'}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.template,r=void 0===i?"apa":i,o=e.lang,l=void 0===o?"en-US":o,u=e.format,c=void 0===u?"text":u,p=(0,s.default)(t,r,l,c),m=p.updateItems(t.map(function(t){return t.id})),h=(v=p.makeBibliography(),y=2,function(t){if(Array.isArray(t))return t}(v)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(v,y)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()),f=h[0],d=f.bibstart,g=f.bibend,b=h[1].map(function(t,e){return(0,n.getPrefixedEntry)(t,m[e])});var v,y;if(e.append||e.prepend){var _=e.append,x=e.prepend,A=t.reduce(function(t,e){return t[e.id]=e,t},{}),E=m.map(function(t){return A[t]});b.forEach(function(t,e){b[e]=(0,a.getWrappedEntry)(t,E[e],{append:_,prepend:x})})}return d+b.join("")+g};var r,s=(r=i(421))&&r.__esModule?r:{default:r},n=i(479),a=i(480)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.template,r=void 0===i?"apa":i,n=e.lang,a=void 0===n?"en-US":n,o=e.format,l=void 0===o?"text":o,u=t.map(function(t){var e=t.id;return e}),c=e.entry?[].concat(e.entry):u,p=(0,s.default)(t,r,a,l);return p.updateItems(u),p.previewCitationCluster({citationItems:c.map(function(t){return{id:t}}),properties:{noteIndex:0}},[],[],l)};var r,s=(r=i(421))&&r.__esModule?r:{default:r}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,s=i(394),n=(r=i(422))&&r.__esModule?r:{default:r},a=i(482),o=i(483);var l=function(t){return function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=i.type,a=i.format,o=void 0===a?r||"text":a;return"object"===o?e.map(n.default):(0,s.has)(o)?t(e,(0,s.get)(o)):""}},u={bibtex:l(a.getBibtex),bibtxt:l(o.getBibtxt)};e.default=u},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=n(i(420)),s=n(i(438));function n(t){return t&&t.__esModule?t:{default:t}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],r=!0,s=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done)&&(i.push(a.value),!e||i.length!==e);r=!0);}catch(t){s=!0,n=t}finally{try{r||null==o.return||o.return()}finally{if(s)throw n}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function o(t){return function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(t){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var u={graphic:"ART",bill:"BILL","post-webblog":"BLOG",book:"BOOK","review-book":"BOOK",legal_case:"CASE",chapter:"CHAP","paper-conference":"CONF",dataset:"DATA","entry-dictionary":"DICT","entry-encyclopedia":"ENCYC",figure:"FIGURE",interview:"GEN",treaty:"GEN",post:"ICOMM",article:"JOUR","article-journal":"JOUR",review:"JOUR",legislation:"LEGAL",manuscript:"MANSCPT",map:"MAP","article-magazine":"MGZN",broadcast:"MPCT",motion_picture:"MPCT",musical_score:"MUSIC","article-newspaper":"NEWS",pamphlet:"PAMP",patent:"PAT",personal_communication:"PCOMM",report:"RPRT",song:"SOUND",speech:"SOUND",thesis:"THES"},c=function(t){return t.map(function(t){return(0,r.default)(t,!0)})},p={TY:{fieldName:"type",convert:function(t){return u[t]||"GEN"}},AU:[{type:["review","review-book"],fieldName:"reviewed-author",convert:c},{type:"__default",fieldName:"author",convert:c}],DA:{fieldName:"issued",convert:function(t){return(0,s.default)(t,"/")}},PY:{fieldName:"issued",convert:function(t){return t["date-parts"][0][0]}},Y2:{fieldName:"accessed",convert:function(t){return(0,s.default)(t,"/")}},AB:"abstract",CN:"call-number",CY:["event-place","publisher-place"],DO:"DOI",ET:[{type:"book",fieldName:["version","edition"]}],IS:[{type:"__default",fieldName:"issue"}],J2:["journalAbbreviation"],LA:"language",LB:"citation-label",M1:"number",M3:["genre","medium"],N1:"note",RI:"reviewed-title",SE:"section",SN:[{type:"__default",fieldName:["ISBN","ISSN"]},{type:["patent","report"],fieldName:"number"}],SP:{fieldName:["first-page","page"]},T2:["container-title","collection-title"],T3:{fieldName:["container-title","collection-title"],keepAll:!0,convert:function(t,e){return t?e:void 0}},TI:["original-title","title"],TT:{fieldName:["original-title","title"],keepAll:!0,convert:function(t,e){return t?e:void 0}},UR:"URL",VL:"volume",A2:{fieldName:"editor",convert:c},C1:[{type:"chapter",fieldName:"section"},{type:"paper-conference",fieldName:"publisher-place"},{type:"map",fieldName:"scale"},{type:"musical_score",fieldName:"medium"}],C2:[{type:["article-journal","article"],fieldName:"PMCID"},{type:"paper-conference",fieldName:"issued",convert:function(t){return t["date-parts"][0][0]}},{type:"article-newspaper",fieldName:"issue"}],C3:[{type:["graphic","speech","sound","map"],fieldName:"dimensions"},{type:"paper-conference",fieldName:"container-title"}],C4:[{type:["review","review-book"],fieldName:"author",convert:c},{type:["motion_picture","broadcast"],fieldName:"genre"}],C5:[{type:["graphic","speech","sound","motion_picture","broadcast"],fieldName:"medium"}],C6:[{type:"report",fieldName:"issue"},{type:"patent",fieldName:"status"}],C7:[{type:["article-journal","article"],fieldName:"number"}],BT:[{type:"chapter",fieldName:"container-title"}],DB:"archive",DP:"source",ED:{fieldName:"editor",convert:c},ID:"id",NV:"number-of-volumes",OP:"references",PP:"publiser-place",ST:["short-title","titleShort"]},m=function t(e,i,r){if(!0===e)return{sourceFields:[i]};if("string"==typeof e)return{sourceFields:[e]};if(Array.isArray(e)&&"string"==typeof e[0])return{sourceFields:e};if(Array.isArray(e)&&"object"===l(e[0])){var s,n;e.forEach(function(t){"string"==typeof t.type&&t.type===r.type||Array.isArray(t.type)&&t.type.includes(r.type)?s=t:"__default"===t.type&&(n=t)});var a=s||n;return a?t(a.convert?a:a.fieldName,i,r):{}}return"object"===l(e)&&null!==e?{sourceFields:[].concat(e.fieldName),workOnEmptyInput:void 0===e.fieldName,convert:e.convert,keepAll:!0===e.keepAll}:{}},h=function(t){var e={};for(var i in p){var r=m(p[i],i,t),s=r.sourceFields,n=void 0===s?[]:s,a=r.workOnEmptyInput,l=void 0!==a&&a,u=r.convert,c=void 0!==u&&u,h=r.keepAll;if(void 0!==h&&h||(n=n.filter(t.hasOwnProperty.bind(t))),l||0!==n.length){var f=n.map(function(e){return t[e]});"function"==typeof c?void 0!==(f=c.call.apply(c,[t].concat(o(f))))&&(e[i]=f):e[i]=f[0]}}return e},f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return"".concat(t,"  - ").concat(e,"\n")},d=function(t){var e=a(t,2),i=e[0],r=e[1];return Array.isArray(r)?r.map(function(t){return f(i,t)}).join(""):f(i,r)},g=function(t){var e=Object.entries(t);if("TY"!==e[0][0]){var i=e.findIndex(function(t){return"TY"===a(t,1)[0]}),r=a(e.splice(i,1),1)[0];e.unshift(r)}return e.push(["ER"]),e.map(d).join("")},b={ris:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.type,r=e.format;return"object"===(void 0===r?i||"text":r)?t.map(h):t.map(h).map(g).join("")}};e.default=b},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"deepCopy",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"fetchFile",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"fetchFileAsync",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"fetchId",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"TokenStack",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(e,"Register",{enumerable:!0,get:function(){return l.default}}),e.attr=void 0;var r=p(i(432)),s=p(i(406)),n=p(i(407)),a=p(i(477)),o=p(i(456)),l=p(i(404)),u=i(479),c=i(480);function p(t){return t&&t.__esModule?t:{default:t}}var m={getAttributedEntry:u.getAttributedEntry,getPrefixedEntry:u.getPrefixedEntry,getWrappedEntry:c.getWrappedEntry};e.attr=m},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"cite",{enumerable:!0,get:function(){return r.version}}),Object.defineProperty(e,"citeproc",{enumerable:!0,get:function(){return s.PROCESSOR_VERSION}});var r=i(616),s=i(478)},function(t){t.exports={_from:"citation-js",_id:"citation-js@0.4.0-9",_inBundle:!1,_integrity:"sha512-UEwa26rLYMZmcBNse31WIti2J+lRetyRU1SffMQzkinlTFZi6oxWZtFOjW3sXCvdPSRb1PKh2q2g38cO8NlJmg==",_location:"/citation-js",_phantomChildren:{},_requested:{type:"tag",registry:!0,raw:"citation-js",name:"citation-js",escapedName:"citation-js",rawSpec:"",saveSpec:null,fetchSpec:"latest"},_requiredBy:["#USER","/"],_resolved:"https://registry.npmjs.org/citation-js/-/citation-js-0.4.0-9.tgz",_shasum:"ff0acb82712029522696200bfc287f59375123fe",_spec:"citation-js",_where:"/home/tmt514/Documents/git/tmt514.github.io/site",author:{name:"Lars Willighagen",url:"https://larsgw.github.io"},bin:{"citation-js":"bin/cmd.js"},browser:{"./test/citation.js":"./test/citation-browser.js"},bugs:{url:"https://github.com/larsgw/citation.js/issues"},bundleDependencies:!1,dependencies:{"@babel/polyfill":"^7.0.0-beta.49",citeproc:"^2.1.206",commander:"^2.15.1","isomorphic-fetch":"^2.2.1","sync-request":"^5.0.0","wikidata-sdk":"^5.11.0"},deprecated:!1,description:"Citation.js converts formats like BibTeX, Wikidata JSON and ContentMine JSON to CSL-JSON to convert to other formats like APA, Vancouver and back to BibTeX.",devDependencies:{"@babel/cli":"^7.0.0-beta.49","@babel/core":"^7.0.0-beta.49","@babel/plugin-proposal-class-properties":"^7.0.0-beta.49","@babel/plugin-proposal-object-rest-spread":"^7.0.0-beta.49","@babel/plugin-proposal-unicode-property-regex":"^7.0.0-beta.49","@babel/preset-env":"^7.0.0-beta.49","@babel/register":"^7.0.0-beta.49","babel-eslint":"^8.2.3","babel-plugin-istanbul":"^4.1.6",babelify:"github:larsgw/babelify#patch-1",browserify:"^16.2.2","cross-env":"^5.1.6",disc:"^1.3.2","eslint-plugin-vuln-regex-detector":"^1.0.4","expect.js":"^0.3.1",glob:"^7.1.2",jsdoc:"^3.5.5","markdown-toc":"^1.2.0",minami:"^1.2.3",mocha:"^5.2.0","mock-require":"^3.0.2","npm-run-all":"^4.1.3",nyc:"^11.8.0",standard:"^11.0.1","uglify-js":"^3.3.27"},directories:{doc:"docs/",test:"test/",lib:"src/"},engines:{node:">=6.0.0"},files:["/lib","/bin","/build/citation.js","/build/citation.min.js"],homepage:"https://citation.js.org/",jsdelivr:"build/citation.min.js",keywords:["citation","bibtex","wikidata","contentmine","quickscrape","csl","citeproc"],license:"MIT",main:"lib/index.js",man:["bin/man/citation-js.1"],name:"citation-js",nyc:{require:["@babel/register"],sourceMap:!1,instrument:!1},repository:{type:"git",url:"git+https://github.com/larsgw/citation.js.git"},scripts:{"--1--":"lint","--2--":"test","--3--":"coverage","--4--":"compile","--5--":"distributions","--6--":"generate","--7--":"hooks",compile:"babel src -d lib --copy-files","coverage:report":"nyc report --reporter=lcov > coverage.lcov","coverage:test":"cross-env NODE_ENV=test nyc npm test",dist:"npm-run-all dist:*-*","dist:debug":"node tools/build-debug.js","dist:main":"npm-run-all dist:*-main","dist:minify":"npm-run-all dist:minify-*","dist:minify-main":"uglifyjs --config-file .uglify.json build/citation.js -o build/citation.min.js","dist:minify-test":"uglifyjs --config-file .uglify.json build/test.citation.js -o build/test.citation.min.js","dist:regular":"npm-run-all dist:regular-*","dist:regular-main":"node tools/build.js","dist:regular-test":"node tools/build-test.js","dist:test":"npm-run-all dist:*-test",generate:"npm-run-all generate:*","generate:disc":"node tools/disc.js","generate:docs":"markdown-toc -i README.md && jsdoc -c .jsdoc.json","generate:files":"npm run dist",lint:"npm-run-all lint:*","lint:bin":'standard "bin/**/*.js"',"lint:src":'standard "src/**/*.js"',"lint:test":'standard "test/**/*.js"',"lint:tools":'standard "tools/**/*.js"',prepublishOnly:"npm run compile && npm run dist:main",preversion:"npm run lint && npm run test",test:"cross-env TEST_MOCHA=true mocha --check-leaks -r @babel/register -R dot test/*.spec.js","test:live":"cross-env TEST_MOCK_HTTP=false npm test","test:regex":"eslint --parser babel-eslint --plugin vuln-regex-detector --rule 'vuln-regex-detector/no-vuln-regex: 2' \"src/**/*.js\"","test:update":"npm-run-all test:update:*","test:update:doi":"node tools/api/doi.js","test:update:wikidata":"node tools/api/wikidata.js"},standard:{parser:"babel-eslint",globals:["logger"]},unpkg:"build/citation.min.js",version:"0.4.0-9"}},function(t,e,i){"use strict";var r=i(618),s=i(631),n=i(679);t.exports=r().use(s).use(n).freeze()},function(t,e,i){"use strict";var r=i(619),s=i(620),n=i(621),a=i(627),o=i(629),l=i(630);t.exports=function t(){var e=[];var i=a();var v={};var y=!1;var _=-1;x.data=function(t,e){if(o(t))return 2===arguments.length?(d("data",y),v[t]=e,x):c.call(v,t)&&v[t]||null;if(t)return d("data",y),v=t,x;return v};x.freeze=A;x.attachers=e;x.use=function(t){var i;if(d("use",y),null==t);else if("function"==typeof t)o.apply(null,arguments);else{if("object"!=typeof t)throw new Error("Expected usable value, not `"+t+"`");"length"in t?a(t):s(t)}i&&(v.settings=r(v.settings||{},i));return x;function s(t){a(t.plugins),t.settings&&(i=r(i||{},t.settings))}function n(t){if("function"==typeof t)o(t);else{if("object"!=typeof t)throw new Error("Expected usable value, not `"+t+"`");"length"in t?o.apply(null,t):s(t)}}function a(t){var e,i;if(null==t);else{if(!("object"==typeof t&&"length"in t))throw new Error("Expected a list of plugins, not `"+t+"`");for(e=t.length,i=-1;++i<e;)n(t[i])}}function o(t,i){var s=function(t){var i,r=e.length,s=-1;for(;++s<r;)if((i=e[s])[0]===t)return i}(t);s?(l(s[1])&&l(i)&&(i=r(s[1],i)),s[1]=i):e.push(u.call(arguments))}};x.parse=function(t){var e,i=n(t);if(A(),h("parse",e=x.Parser),m(e))return new e(String(i),i).parse();return e(String(i),i)};x.stringify=function(t,e){var i,r=n(e);if(A(),f("stringify",i=x.Compiler),g(t),m(i))return new i(t,r).compile();return i(t,r)};x.run=E;x.runSync=function(t,e){var i,r=!1;return E(t,e,function(t,e){r=!0,s(t),i=e}),b("runSync","run",r),i};x.process=O;x.processSync=function(t){var e,i=!1;return A(),h("processSync",x.Parser),f("processSync",x.Compiler),O(e=n(t),function(t){i=!0,s(t)}),b("processSync","process",i),e};return x;function x(){for(var i=t(),s=e.length,n=-1;++n<s;)i.use.apply(null,e[n]);return i.data(r(!0,{},v)),i}function A(){var t,r,s,n;if(y)return x;for(;++_<e.length;)t=e[_],r=t[0],s=t[1],n=null,!1!==s&&(!0===s&&(t[1]=void 0),"function"==typeof(n=r.apply(x,t.slice(1)))&&i.use(n));return y=!0,_=1/0,x}function E(t,e,r){if(g(t),A(),r||"function"!=typeof e||(r=e,e=null),!r)return new Promise(s);function s(s,a){i.run(t,n(e),function(e,i,n){i=i||t,e?a(e):s?s(i):r(null,i,n)})}s(null,r)}function O(t,e){if(A(),h("process",x.Parser),f("process",x.Compiler),!e)return new Promise(i);function i(i,r){var s=n(t);p.run(x,{file:s},function(t){t?r(t):i?i(s):e(null,s)})}i(null,e)}}().freeze();var u=[].slice,c={}.hasOwnProperty,p=a().use(function(t,e){e.tree=t.parse(e.file)}).use(function(t,e,i){t.run(e.tree,e.file,function(t,r,s){t?i(t):(e.tree=r,e.file=s,i())})}).use(function(t,e){e.file.contents=t.stringify(e.tree,e.file)});function m(t){return"function"==typeof t&&function(t){var e;for(e in t)return!0;return!1}(t.prototype)}function h(t,e){if("function"!=typeof e)throw new Error("Cannot `"+t+"` without `Parser`")}function f(t,e){if("function"!=typeof e)throw new Error("Cannot `"+t+"` without `Compiler`")}function d(t,e){if(e)throw new Error(["Cannot invoke `"+t+"` on a frozen processor.\nCreate a new ","processor first, by invoking it: use `processor()` instead of ","`processor`."].join(""))}function g(t){if(!t||!o(t.type))throw new Error("Expected node, got `"+t+"`")}function b(t,e,i){if(!i)throw new Error("`"+t+"` finished async. Use `"+e+"` instead")}},function(t,e,i){"use strict";var r=Object.prototype.hasOwnProperty,s=Object.prototype.toString,n=Object.defineProperty,a=Object.getOwnPropertyDescriptor,o=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===s.call(t)},l=function(t){if(!t||"[object Object]"!==s.call(t))return!1;var e,i=r.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&r.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!i&&!n)return!1;for(e in t);return void 0===e||r.call(t,e)},u=function(t,e){n&&"__proto__"===e.name?n(t,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):t[e.name]=e.newValue},c=function(t,e){if("__proto__"===e){if(!r.call(t,e))return;if(a)return a(t,e).value}return t[e]};t.exports=function t(){var e,i,r,s,n,a,p=arguments[0],m=1,h=arguments.length,f=!1;for("boolean"==typeof p&&(f=p,p=arguments[1]||{},m=2),(null==p||"object"!=typeof p&&"function"!=typeof p)&&(p={});m<h;++m)if(null!=(e=arguments[m]))for(i in e)r=c(p,i),p!==(s=c(e,i))&&(f&&s&&(l(s)||(n=o(s)))?(n?(n=!1,a=r&&o(r)?r:[]):a=r&&l(r)?r:{},u(p,{name:i,newValue:t(f,a,s)})):void 0!==s&&u(p,{name:i,newValue:s}));return p}},function(t,e,i){"use strict";t.exports=function(t){if(t)throw t}},function(t,e,i){"use strict";var r=i(622),s=i(624);t.exports=s;var n=s.prototype;function a(t,e,i){var s=this.path,n=new r(t,e,i);return s&&(n.name=s+":"+n.name,n.file=s),n.fatal=!1,this.messages.push(n),n}n.message=a,n.info=function(){var t=this.message.apply(this,arguments);return t.fatal=null,t},n.fail=function(){var t=this.message.apply(this,arguments);throw t.fatal=!0,t},n.warn=a},function(t,e,i){"use strict";var r=i(623);function s(){}t.exports=a,s.prototype=Error.prototype,a.prototype=new s;var n=a.prototype;function a(t,e,i){var s,n,a;"string"==typeof e&&(i=e,e=null),s=function(t){var e,i=[null,null];"string"==typeof t&&(-1===(e=t.indexOf(":"))?i[1]=t:(i[0]=t.slice(0,e),i[1]=t.slice(e+1)));return i}(i),n=r(e)||"1:1",a={start:{line:null,column:null},end:{line:null,column:null}},e&&e.position&&(e=e.position),e&&(e.start?(a=e,e=e.start):a.start=e),t.stack&&(this.stack=t.stack,t=t.message),this.message=t,this.name=n,this.reason=t,this.line=e?e.line:null,this.column=e?e.column:null,this.location=a,this.source=s[0],this.ruleId=s[1]}n.file="",n.name="",n.reason="",n.message="",n.stack="",n.fatal=null,n.column=null,n.line=null},function(t,e,i){"use strict";var r={}.hasOwnProperty;function s(t){return t&&"object"==typeof t||(t={}),a(t.line)+":"+a(t.column)}function n(t){return t&&"object"==typeof t||(t={}),s(t.start)+"-"+s(t.end)}function a(t){return t&&"number"==typeof t?t:1}t.exports=function(t){if(!t||"object"!=typeof t)return null;if(r.call(t,"position")||r.call(t,"type"))return n(t.position);if(r.call(t,"start")||r.call(t,"end"))return n(t);if(r.call(t,"line")||r.call(t,"column"))return s(t);return null}},function(t,e,i){"use strict";(function(e){var r=i(485),s=i(625),n=i(626);t.exports=u;var a={}.hasOwnProperty,o=u.prototype;o.toString=function(t){var e=this.contents||"";return n(e)?e.toString(t):String(e)};var l=["history","path","basename","stem","extname","dirname"];function u(t){var i,r,s;if(t){if("string"==typeof t||n(t))t={contents:t};else if("message"in t&&"messages"in t)return t}else t={};if(!(this instanceof u))return new u(t);for(this.data={},this.messages=[],this.history=[],this.cwd=e.cwd(),r=-1,s=l.length;++r<s;)i=l[r],a.call(t,i)&&(this[i]=t[i]);for(i in t)-1===l.indexOf(i)&&(this[i]=t[i])}function c(t,e){if(-1!==t.indexOf(r.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+r.sep+"`")}function p(t,e){if(!t)throw new Error("`"+e+"` cannot be empty")}function m(t,e){if(!t)throw new Error("Setting `"+e+"` requires `path` to be set too")}Object.defineProperty(o,"path",{get:function(){return this.history[this.history.length-1]},set:function(t){p(t,"path"),t!==this.path&&this.history.push(t)}}),Object.defineProperty(o,"dirname",{get:function(){return"string"==typeof this.path?r.dirname(this.path):void 0},set:function(t){m(this.path,"dirname"),this.path=r.join(t||"",this.basename)}}),Object.defineProperty(o,"basename",{get:function(){return"string"==typeof this.path?r.basename(this.path):void 0},set:function(t){p(t,"basename"),c(t,"basename"),this.path=r.join(this.dirname||"",t)}}),Object.defineProperty(o,"extname",{get:function(){return"string"==typeof this.path?r.extname(this.path):void 0},set:function(t){var e=t||"";if(c(e,"extname"),m(this.path,"extname"),e){if("."!==e.charAt(0))throw new Error("`extname` must start with `.`");if(-1!==e.indexOf(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=s(this.path,e)}}),Object.defineProperty(o,"stem",{get:function(){return"string"==typeof this.path?r.basename(this.path,this.extname):void 0},set:function(t){p(t,"stem"),c(t,"stem"),this.path=r.join(this.dirname||"",t+(this.extname||""))}})}).call(this,i(430))},function(t,e,i){"use strict";var r=i(485);t.exports=function(t,e){if("string"!=typeof t)return t;if(0===t.length)return t;var i=r.basename(t,r.extname(t))+e;return r.join(r.dirname(t),i)}},function(t,e){function i(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(i(t)||function(t){return"function"==typeof t.readFloatLE&&"function"==typeof t.slice&&i(t.slice(0,0))}(t)||!!t._isBuffer)}},function(t,e,i){"use strict";var r=i(628);t.exports=n,n.wrap=r;var s=[].slice;function n(){var t=[],e={run:function(){var e=-1,i=s.call(arguments,0,-1),n=arguments[arguments.length-1];if("function"!=typeof n)throw new Error("Expected function as last argument, not "+n);(function a(o){var l=t[++e];var u=s.call(arguments,0);var c=u.slice(1);var p=i.length;var m=-1;if(o)return void n(o);for(;++m<p;)null!==c[m]&&void 0!==c[m]||(c[m]=i[m]);i=c;l?r(l,a).apply(null,i):n.apply(null,[null].concat(i))}).apply(null,[null].concat(i))},use:function(i){if("function"!=typeof i)throw new Error("Expected `fn` to be a function, not "+i);return t.push(i),e}};return e}},function(t,e,i){"use strict";var r=[].slice;t.exports=function(t,e){var i;return function(){var e,a=r.call(arguments,0),o=t.length>a.length;o&&a.push(s);try{e=t.apply(null,a)}catch(t){if(o&&i)throw t;return s(t)}o||(e&&"function"==typeof e.then?e.then(n,s):e instanceof Error?s(e):n(e))};function s(){i||(i=!0,e.apply(null,arguments))}function n(t){s(null,t)}}},function(t,e){var i=Object.prototype.toString;t.exports=function(t){return"[object String]"===i.call(t)}},function(t,e,i){"use strict";var r=Object.prototype.toString;t.exports=function(t){var e;return"[object Object]"===r.call(t)&&(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}},function(t,e,i){"use strict";var r=i(486),s=i(385),n=i(633);function a(t){var e=r(n);e.prototype.options=s(e.prototype.options,this.data("settings"),t),this.Parser=e}t.exports=a,a.Parser=n},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e,i){"use strict";var r=i(385),s=i(487),n=i(634),a=i(635),o=i(636),l=i(639);function u(t,e){this.file=e,this.offset={},this.options=r(this.options),this.setOptions({}),this.inList=!1,this.inBlock=!1,this.inLink=!1,this.atStart=!0,this.toOffset=n(e).toOffset,this.unescape=a(this,"escape"),this.decode=o(this)}t.exports=u;var c=u.prototype;function p(t){var e,i=[];for(e in t)i.push(e);return i}c.setOptions=i(640),c.parse=i(642),c.options=i(493),c.exitStart=s("atStart",!0),c.enterList=s("inList",!1),c.enterLink=s("inLink",!1),c.enterBlock=s("inBlock",!1),c.interruptParagraph=[["thematicBreak"],["atxHeading"],["fencedCode"],["blockquote"],["html"],["setextHeading",{commonmark:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],c.interruptList=[["atxHeading",{pedantic:!1}],["fencedCode",{pedantic:!1}],["thematicBreak",{pedantic:!1}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],c.interruptBlockquote=[["indentedCode",{commonmark:!0}],["fencedCode",{commonmark:!0}],["atxHeading",{commonmark:!0}],["setextHeading",{commonmark:!0}],["thematicBreak",{commonmark:!0}],["html",{commonmark:!0}],["list",{commonmark:!0}],["definition",{commonmark:!1}],["footnote",{commonmark:!1}]],c.blockTokenizers={newline:i(645),indentedCode:i(646),fencedCode:i(647),blockquote:i(648),atxHeading:i(649),thematicBreak:i(650),list:i(651),setextHeading:i(653),html:i(654),footnote:i(655),definition:i(656),table:i(657),paragraph:i(658)},c.inlineTokenizers={escape:i(659),autoLink:i(661),url:i(662),html:i(664),link:i(665),reference:i(666),strong:i(667),emphasis:i(669),deletion:i(672),code:i(674),break:i(676),text:i(678)},c.blockMethods=p(c.blockTokenizers),c.inlineMethods=p(c.inlineTokenizers),c.tokenizeBlock=l("block"),c.tokenizeInline=l("inline"),c.tokenizeFactory=l},function(t,e,i){"use strict";t.exports=function(t){var e=function(t){var e=[],i=t.indexOf("\n");for(;-1!==i;)e.push(i+1),i=t.indexOf("\n",i+1);return e.push(t.length+1),e}(String(t));return{toPosition:function(t){return function(e){var i=-1,r=t.length;if(e<0)return{};for(;++i<r;)if(t[i]>e)return{line:i+1,column:e-(t[i-1]||0)+1,offset:e};return{}}}(e),toOffset:function(t){return function(e){var i=e&&e.line,r=e&&e.column;if(!isNaN(i)&&!isNaN(r)&&i-1 in t)return(t[i-2]||0)+r-1||0;return-1}}(e)}}},function(t,e,i){"use strict";t.exports=function(t,e){return function(i){var r,s=0,n=i.indexOf("\\"),a=t[e],o=[];for(;-1!==n;)o.push(i.slice(s,n)),s=n+1,(r=i.charAt(s))&&-1!==a.indexOf(r)||o.push("\\"),n=i.indexOf("\\",s);return o.push(i.slice(s)),o.join("")}}},function(t,e,i){"use strict";var r=i(385),s=i(423);t.exports=function(t){return n.raw=function(t,n,a){return s(t,r(a,{position:e(n),warning:i}))},n;function e(e){for(var i=t.offset,r=e.line,s=[];++r&&r in i;)s.push((i[r]||0)+1);return{start:e,indent:s}}function i(e,i,r){3!==r&&t.file.message(e,i)}function n(r,n,a){s(r,{position:e(n),warning:i,text:a,reference:a,textContext:t,referenceContext:t})}}},function(t){t.exports={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"}},function(t,e,i){"use strict";var r;t.exports=function(t){var e,i="&"+t+";";if((r=r||document.createElement("i")).innerHTML=i,";"===(e=r.textContent).slice(-1)&&"semi"!==t)return!1;return e!==i&&e}},function(t,e,i){"use strict";t.exports=function(t){return function(e,i){var n,a,o,l,u,c,p=this,m=p.offset,h=[],f=p[t+"Methods"],d=p[t+"Tokenizers"],g=i.line,b=i.column;if(!e)return h;x.now=y,x.file=p.file,v("");for(;e;){for(n=-1,a=f.length,u=!1;++n<a&&(l=f[n],!(o=d[l])||o.onlyAtStart&&!p.atStart||o.notInList&&p.inList||o.notInBlock&&p.inBlock||o.notInLink&&p.inLink||(c=e.length,o.apply(p,[x,e]),!(u=c!==e.length))););u||p.file.fail(new Error("Infinite loop"),x.now())}return p.eof=y(),h;function v(t){for(var e=-1,i=t.indexOf("\n");-1!==i;)g++,e=i,i=t.indexOf("\n",i+1);-1===e?b+=t.length:b=t.length-e,g in m&&(-1!==e?b+=m[g]:b<=m[g]&&(b=m[g]+1))}function y(){var t={line:g,column:b};return t.offset=p.toOffset(t),t}function _(t){this.start=t,this.end=y()}function x(t){var i=function(){var t=[],e=g+1;return function(){for(var i=g+1;e<i;)t.push((m[e]||0)+1),e++;return t}}(),n=function(){var t=y();return function(e,i){var r=e.position,s=r?r.start:t,n=[],a=r&&r.end.line,o=t.line;if(e.position=new _(s),r&&i&&r.indent){if(n=r.indent,a<o){for(;++a<o;)n.push((m[a]||0)+1);n.push(t.column)}i=n.concat(i)}return e.position.indent=i||[],e}}(),a=y();return function(t){e.substring(0,t.length)!==t&&p.file.fail(new Error("Incorrectly eaten value: please report this warning on http://git.io/vg5Ft"),y())}(t),o.reset=l,l.test=u,o.test=u,e=e.substring(t.length),v(t),i=i(),o;function o(t,e){return n(function(t,e){var i=e?e.children:h,n=i[i.length-1];n&&t.type===n.type&&t.type in r&&s(n)&&s(t)&&(t=r[t.type].call(p,n,t));t!==n&&i.push(t);p.atStart&&0!==h.length&&p.exitStart();return t}(n(t),e),i)}function l(){var i=o.apply(null,arguments);return g=a.line,b=a.column,e=t+e,i}function u(){var i=n({});return g=a.line,b=a.column,e=t+e,i.position}}}};var r={text:function(t,e){return t.value+=e.value,t},blockquote:function(t,e){if(this.options.commonmark)return e;return t.children=t.children.concat(e.children),t}};function s(t){var e,i;return"text"!==t.type||!t.position||(e=t.position.start,i=t.position.end,e.line!==i.line||i.column-e.column===t.value.length)}},function(t,e,i){"use strict";var r=i(385),s=i(492),n=i(493);t.exports=function(t){var e,i,a=this.options;if(null==t)t={};else{if("object"!=typeof t)throw new Error("Invalid value `"+t+"` for setting `options`");t=r(t)}for(e in n){if(null==(i=t[e])&&(i=a[e]),"blocks"!==e&&"boolean"!=typeof i||"blocks"===e&&"object"!=typeof i)throw new Error("Invalid value `"+i+"` for setting `options."+e+"`");t[e]=i}return this.options=t,this.escape=s(t),this}},function(t){t.exports=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","legend","li","link","main","menu","menuitem","meta","nav","noframes","ol","optgroup","option","p","param","pre","section","source","title","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"]},function(t,e,i){"use strict";var r=i(385),s=i(643);t.exports=function(){var t,e=String(this.file),i={line:1,column:1,offset:0},o=r(i);65279===(e=e.replace(a,n)).charCodeAt(0)&&(e=e.slice(1),o.column++,o.offset++);t={type:"root",children:this.tokenizeBlock(e,o),position:{start:i,end:this.eof||r(i)}},this.options.position||s(t,!0);return t};var n="\n",a=/\r\n|\r/g},function(t,e,i){"use strict";var r=i(409);function s(t){delete t.position}function n(t){t.position=void 0}t.exports=function(t,e){return r(t,e?s:n),t}},function(t,e,i){"use strict";t.exports=a;var r=i(392),s="skip",n=!1;function a(t,e,i,a){function o(t,l,u){var c;return(e&&!r(e,t,l,u[u.length-1]||null)||(c=i(t,u))!==n)&&t.children&&c!==s&&function(t,e){var i,r,s=a?-1:1,l=(a?t.length:-1)+s;for(;l>-1&&l<t.length;){if(i=t[l],(r=i&&o(i,l,e))===n)return r;l="number"==typeof r?r:l+s}}(t.children,u.concat(t))===n?n:c}"function"==typeof e&&"function"!=typeof i&&(a=i,i=e,e=null),o(t,null,[])}a.CONTINUE=!0,a.SKIP=s,a.EXIT=n},function(t,e,i){"use strict";var r=i(387);t.exports=function(t,e,i){var s,n,a,o,l=e.charAt(0);if("\n"!==l)return;if(i)return!0;o=1,s=e.length,n=l,a="";for(;o<s&&(l=e.charAt(o),r(l));)a+=l,"\n"===l&&(n+=a,a=""),o++;t(n)}},function(t,e,i){"use strict";var r=i(388),s=i(441);t.exports=function(t,e,i){var r,u,c,p=-1,m=e.length,h="",f="",d="",g="";for(;++p<m;)if(r=e.charAt(p),c)if(c=!1,h+=d,f+=g,d="",g="",r===n)d=r,g=r;else for(h+=r,f+=r;++p<m;){if(!(r=e.charAt(p))||r===n){g=r,d=r;break}h+=r,f+=r}else if(r===o&&e.charAt(p+1)===r&&e.charAt(p+2)===r&&e.charAt(p+3)===r)d+=l,p+=3,c=!0;else if(r===a)d+=r,c=!0;else{for(u="";r===a||r===o;)u+=r,r=e.charAt(++p);if(r!==n)break;d+=u+r,g+=r}if(f)return!!i||t(h)({type:"code",lang:null,value:s(f)})};var n="\n",a="\t",o=" ",l=r(o,4)},function(t,e,i){"use strict";var r=i(441);t.exports=function(t,e,i){var p,m,h,f,d,g,b,v,y,_,x,A=this.options,E=e.length+1,O=0,w="";if(!A.gfm)return;for(;O<E&&((h=e.charAt(O))===a||h===n);)w+=h,O++;if(_=O,(h=e.charAt(O))!==o&&h!==l)return;O++,m=h,p=1,w+=h;for(;O<E&&(h=e.charAt(O))===m;)w+=h,p++,O++;if(p<u)return;for(;O<E&&((h=e.charAt(O))===a||h===n);)w+=h,O++;f="",d="";for(;O<E&&(h=e.charAt(O))!==s&&h!==o&&h!==l;)h===a||h===n?d+=h:(f+=d+h,d=""),O++;if((h=e.charAt(O))&&h!==s)return;if(i)return!0;(x=t.now()).column+=w.length,x.offset+=w.length,w+=f,f=this.decode.raw(this.unescape(f),x),d&&(w+=d);d="",v="",y="",g="",b="";for(;O<E;)if(h=e.charAt(O),g+=v,b+=y,v="",y="",h===s){for(g?(v+=h,y+=h):w+=h,d="",O++;O<E&&(h=e.charAt(O))===a;)d+=h,O++;if(v+=d,y+=d.slice(_),!(d.length>=c)){for(d="";O<E&&(h=e.charAt(O))===m;)d+=h,O++;if(v+=d,y+=d,!(d.length<p)){for(d="";O<E&&((h=e.charAt(O))===a||h===n);)v+=h,y+=h,O++;if(!h||h===s)break}}}else g+=h,y+=h,O++;return t(w+=g+v)({type:"code",lang:f||null,value:r(b)})};var s="\n",n="\t",a=" ",o="~",l="`",u=3,c=4},function(t,e,i){"use strict";var r=i(384),s=i(442);t.exports=function(t,e,i){var u,c,p,m,h,f,d,g,b,v=this.offset,y=this.blockTokenizers,_=this.interruptBlockquote,x=t.now(),A=x.line,E=e.length,O=[],w=[],k=[],S=0;for(;S<E&&((c=e.charAt(S))===o||c===a);)S++;if(e.charAt(S)!==l)return;if(i)return!0;S=0;for(;S<E;){for(m=e.indexOf(n,S),d=S,g=!1,-1===m&&(m=E);S<E&&((c=e.charAt(S))===o||c===a);)S++;if(e.charAt(S)===l?(S++,g=!0,e.charAt(S)===o&&S++):S=d,h=e.slice(S,m),!g&&!r(h)){S=d;break}if(!g&&(p=e.slice(S),s(_,y,this,[t,p,!0])))break;f=d===S?h:e.slice(d,m),k.push(S-d),O.push(f),w.push(h),S=m+1}S=-1,E=k.length,u=t(O.join(n));for(;++S<E;)v[A]=(v[A]||0)+k[S],A++;return b=this.enterBlock(),w=this.tokenizeBlock(w.join(n),x),b(),u({type:"blockquote",children:w})};var n="\n",a="\t",o=" ",l=">"},function(t,e,i){"use strict";t.exports=function(t,e,i){var l,u,c,p=this.options,m=e.length+1,h=-1,f=t.now(),d="",g="";for(;++h<m;){if((l=e.charAt(h))!==n&&l!==s){h--;break}d+=l}c=0;for(;++h<=m;){if((l=e.charAt(h))!==a){h--;break}d+=l,c++}if(c>o)return;if(!c||!p.pedantic&&e.charAt(h+1)===a)return;m=e.length+1,u="";for(;++h<m;){if((l=e.charAt(h))!==n&&l!==s){h--;break}u+=l}if(!p.pedantic&&0===u.length&&l&&l!==r)return;if(i)return!0;d+=u,u="",g="";for(;++h<m&&(l=e.charAt(h))&&l!==r;)if(l===n||l===s||l===a){for(;l===n||l===s;)u+=l,l=e.charAt(++h);for(;l===a;)u+=l,l=e.charAt(++h);for(;l===n||l===s;)u+=l,l=e.charAt(++h);h--}else g+=u+l,u="";return f.column+=d.length,f.offset+=d.length,t(d+=g+u)({type:"heading",depth:c,children:this.tokenizeInline(g,f)})};var r="\n",s="\t",n=" ",a="#",o=6},function(t,e,i){"use strict";t.exports=function(t,e,i){var c,p,m,h,f=-1,d=e.length+1,g="";for(;++f<d&&((c=e.charAt(f))===s||c===n);)g+=c;if(c!==a&&c!==l&&c!==o)return;p=c,g+=c,m=1,h="";for(;++f<d;)if((c=e.charAt(f))===p)m++,g+=h+p,h="";else{if(c!==n)return m>=u&&(!c||c===r)?(g+=h,!!i||t(g)({type:"thematicBreak"})):void 0;h+=c}};var r="\n",s="\t",n=" ",a="*",o="_",l="-",u=3},function(t,e,i){"use strict";var r=i(384),s=i(388),n=i(408),a=i(494),o=i(652),l=i(442);t.exports=function(t,e,i){var s,a,o,d,b,v,y,_,x,k,S,T,I,j,N,C,D,P,R,L,B,F,M,U,z=this.options.commonmark,q=this.options.pedantic,$=this.blockTokenizers,V=this.interruptList,X=0,G=e.length,Q=null,H=0;for(;X<G;){if((d=e.charAt(X))===f)H+=g-H%g;else{if(d!==m)break;H++}X++}if(H>=g)return;if(d=e.charAt(X),s=z?O:E,!0===A[d])b=d,o=!1;else{for(o=!0,a="";X<G&&(d=e.charAt(X),n(d));)a+=d,X++;if(d=e.charAt(X),!a||!0!==s[d])return;Q=parseInt(a,10),b=d}if((d=e.charAt(++X))!==m&&d!==f)return;if(i)return!0;X=0,j=[],N=[],C=[];for(;X<G;){for(v=e.indexOf(h,X),y=X,_=!1,U=!1,-1===v&&(v=G),M=X+g,H=0;X<G;){if((d=e.charAt(X))===f)H+=g-H%g;else{if(d!==m)break;H++}X++}if(H>=g&&(U=!0),D&&H>=D.indent&&(U=!0),d=e.charAt(X),x=null,!U){if(!0===A[d])x=d,X++,H++;else{for(a="";X<G&&(d=e.charAt(X),n(d));)a+=d,X++;d=e.charAt(X),X++,a&&!0===s[d]&&(x=d,H+=a.length+1)}if(x)if((d=e.charAt(X))===f)H+=g-H%g,X++;else if(d===m){for(M=X+g;X<M&&e.charAt(X)===m;)X++,H++;X===M&&e.charAt(X)===m&&(X-=g-1,H-=g-1)}else d!==h&&""!==d&&(x=null)}if(x){if(!q&&b!==x)break;_=!0}else z||U||e.charAt(y)!==m?z&&D&&(U=H>=D.indent||H>g):U=!0,_=!1,X=y;if(S=e.slice(y,v),k=y===X?S:e.slice(X,v),(x===u||x===c||x===p)&&$.thematicBreak.call(this,t,S,!0))break;if(T=I,I=!r(k).length,U&&D)D.value=D.value.concat(C,S),N=N.concat(C,S),C=[];else if(_)0!==C.length&&(D.value.push(""),D.trail=C.concat()),D={value:[S],indent:H,trail:[]},j.push(D),N=N.concat(C,S),C=[];else if(I){if(T)break;C.push(S)}else{if(T)break;if(l(V,$,this,[t,S,!0]))break;D.value=D.value.concat(C,S),N=N.concat(C,S),C=[]}X=v+1}B=t(N.join(h)).reset({type:"list",ordered:o,start:Q,loose:null,children:[]}),P=this.enterList(),R=this.enterBlock(),L=!1,X=-1,G=j.length;for(;++X<G;)D=j[X].value.join(h),F=t.now(),(D=t(D)(w(this,D,F),B)).loose&&(L=!0),D=j[X].trail.join(h),X!==G-1&&(D+=h),t(D);return P(),R(),B.loose=L,B};var u="*",c="_",p="-",m=" ",h="\n",f="\t",d="x",g=4,b=/\n\n(?!\s*$)/,v=/^\[([ \t]|x|X)][ \t]/,y=/^([ \t]*)([*+-]|\d+[.)])( {1,4}(?! )| |\t|$|(?=\n))([^\n]*)/,_=/^([ \t]*)([*+-]|\d+[.)])([ \t]+)/,x=/^( {1,4}|\t)?/gm,A={};A[u]=!0,A["+"]=!0,A[p]=!0;var E={".":!0},O={};function w(t,e,i){var r,s,n=t.offset,a=null;return e=(t.options.pedantic?k:S).apply(null,arguments),t.options.gfm&&(r=e.match(v))&&(s=r[0].length,a=r[1].toLowerCase()===d,n[i.line]+=s,e=e.slice(s)),{type:"listItem",loose:b.test(e)||e.charAt(e.length-1)===h,checked:a,children:t.tokenizeBlock(e,i)}}function k(t,e,i){var r=t.offset,s=i.line;return e=e.replace(_,n),s=i.line,e.replace(x,n);function n(t){return r[s]=(r[s]||0)+t.length,s++,""}}function S(t,e,i){var r,n,l,u,c,p,f,d=t.offset,g=i.line;for(u=(e=e.replace(y,function(t,e,i,a,o){n=e+i+a,l=o,Number(i)<10&&n.length%2==1&&(i=m+i);return(r=e+s(m,i.length)+a)+l})).split(h),(c=o(e,a(r).indent).split(h))[0]=l,d[g]=(d[g]||0)+n.length,g++,p=0,f=u.length;++p<f;)d[g]=(d[g]||0)+u[p].length-c[p].length,g++;return c.join(h)}O["."]=!0,O[")"]=!0},function(t,e,i){"use strict";var r=i(384),s=i(388),n=i(494);t.exports=function(t,e){var i,u,c,p,m=t.split(o),h=m.length+1,f=1/0,d=[];m.unshift(s(a,e)+"!");for(;h--;)if(u=n(m[h]),d[h]=u.stops,0!==r(m[h]).length){if(!u.indent){f=1/0;break}u.indent>0&&u.indent<f&&(f=u.indent)}if(f!==1/0)for(h=m.length;h--;){for(c=d[h],i=f;i&&!(i in c);)i--;p=0!==r(m[h]).length&&f&&i!==f?l:"",m[h]=p+m[h].slice(i in c?c[i]+1:0)}return m.shift(),m.join(o)};var a=" ",o="\n",l="\t"},function(t,e,i){"use strict";t.exports=function(t,e,i){var l,u,c,p,m,h=t.now(),f=e.length,d=-1,g="";for(;++d<f;){if((c=e.charAt(d))!==n||d>=a){d--;break}g+=c}l="",u="";for(;++d<f;){if((c=e.charAt(d))===r){d--;break}c===n||c===s?u+=c:(l+=u+c,u="")}if(h.column+=g.length,h.offset+=g.length,g+=l+u,c=e.charAt(++d),p=e.charAt(++d),c!==r||!o[p])return;g+=c,u=p,m=o[p];for(;++d<f;){if((c=e.charAt(d))!==p){if(c!==r)return;d--;break}u+=c}if(i)return!0;return t(g+u)({type:"heading",depth:m,children:this.tokenizeInline(l,h)})};var r="\n",s="\t",n=" ",a=3,o={};o["="]=1,o["-"]=2},function(t,e,i){"use strict";var r=i(495).openCloseTag;t.exports=function(t,e,i){var l,u,c,p,m,h,f,d=this.options.blocks,g=e.length,b=0,v=[[/^<(script|pre|style)(?=(\s|>|$))/i,/<\/(script|pre|style)>/i,!0],[/^<!--/,/-->/,!0],[/^<\?/,/\?>/,!0],[/^<![A-Za-z]/,/>/,!0],[/^<!\[CDATA\[/,/\]\]>/,!0],[new RegExp("^</?("+d.join("|")+")(?=(\\s|/?>|$))","i"),/^$/,!0],[new RegExp(r.source+"\\s*$"),/^$/,!1]];for(;b<g&&((p=e.charAt(b))===s||p===n);)b++;if(e.charAt(b)!==o)return;l=-1===(l=e.indexOf(a,b+1))?g:l,u=e.slice(b,l),c=-1,m=v.length;for(;++c<m;)if(v[c][0].test(u)){h=v[c];break}if(!h)return;if(i)return h[2];if(b=l,!h[1].test(u))for(;b<g;){if(l=-1===(l=e.indexOf(a,b+1))?g:l,u=e.slice(b+1,l),h[1].test(u)){u&&(b=l);break}b=l}return f=e.slice(0,b),t(f)({type:"html",value:f})};var s="\t",n=" ",a="\n",o="<"},function(t,e,i){"use strict";var r=i(387),s=i(443);t.exports=f,f.notInList=!0,f.notInBlock=!0;var n="\\",a="\n",o="\t",l=" ",u="[",c="]",p="^",m=":",h=/^( {4}|\t)?/gm;function f(t,e,i){var f,d,g,b,v,y,_,x,A,E,O,w,k=this.offset;if(this.options.footnotes){for(f=0,d=e.length,g="",b=t.now(),v=b.line;f<d&&(A=e.charAt(f),r(A));)g+=A,f++;if(e.charAt(f)===u&&e.charAt(f+1)===p){for(f=(g+=u+p).length,_="";f<d&&(A=e.charAt(f))!==c;)A===n&&(_+=A,f++,A=e.charAt(f)),_+=A,f++;if(_&&e.charAt(f)===c&&e.charAt(f+1)===m){if(i)return!0;for(E=s(_),f=(g+=_+c+m).length;f<d&&((A=e.charAt(f))===o||A===l);)g+=A,f++;for(b.column+=g.length,b.offset+=g.length,_="",y="",x="";f<d;){if((A=e.charAt(f))===a){for(x=A,f++;f<d&&(A=e.charAt(f))===a;)x+=A,f++;for(_+=x,x="";f<d&&(A=e.charAt(f))===l;)x+=A,f++;if(0===x.length)break;_+=x}_&&(y+=_,_=""),y+=A,f++}return g+=y,y=y.replace(h,function(t){return k[v]=(k[v]||0)+t.length,v++,""}),O=t(g),w=this.enterBlock(),y=this.tokenizeBlock(y,b),w(),O({type:"footnoteDefinition",identifier:E,children:y})}}}}},function(t,e,i){"use strict";var r=i(387),s=i(443);t.exports=v,v.notInList=!0,v.notInBlock=!0;var n='"',a="'",o="\\",l="\n",u="\t",c=" ",p="[",m="]",h="(",f=")",d=":",g="<",b=">";function v(t,e,i){for(var r,b,v,x,A,E,O,w,k=this.options.commonmark,S=0,T=e.length,I="";S<T&&((x=e.charAt(S))===c||x===u);)I+=x,S++;if((x=e.charAt(S))===p){for(S++,I+=x,v="";S<T&&(x=e.charAt(S))!==m;)x===o&&(v+=x,S++,x=e.charAt(S)),v+=x,S++;if(v&&e.charAt(S)===m&&e.charAt(S+1)===d){for(E=v,S=(I+=v+m+d).length,v="";S<T&&((x=e.charAt(S))===u||x===c||x===l);)I+=x,S++;if(v="",r=I,(x=e.charAt(S))===g){for(S++;S<T&&y(x=e.charAt(S));)v+=x,S++;if((x=e.charAt(S))===y.delimiter)I+=g+v+x,S++;else{if(k)return;S-=v.length+1,v=""}}if(!v){for(;S<T&&_(x=e.charAt(S));)v+=x,S++;I+=v}if(v){for(O=v,v="";S<T&&((x=e.charAt(S))===u||x===c||x===l);)v+=x,S++;if(A=null,(x=e.charAt(S))===n?A=n:x===a?A=a:x===h&&(A=f),A){if(!v)return;for(S=(I+=v+x).length,v="";S<T&&(x=e.charAt(S))!==A;){if(x===l){if(S++,(x=e.charAt(S))===l||x===A)return;v+=l}v+=x,S++}if((x=e.charAt(S))!==A)return;b=I,I+=v+x,S++,w=v,v=""}else v="",S=I.length;for(;S<T&&((x=e.charAt(S))===u||x===c);)I+=x,S++;return(x=e.charAt(S))&&x!==l?void 0:!!i||(r=t(r).test().end,O=this.decode.raw(this.unescape(O),r,{nonTerminated:!1}),w&&(b=t(b).test().end,w=this.decode.raw(this.unescape(w),b)),t(I)({type:"definition",identifier:s(E),title:w||null,url:O}))}}}}function y(t){return t!==b&&t!==p&&t!==m}function _(t){return t!==p&&t!==m&&!r(t)}y.delimiter=b},function(t,e,i){"use strict";var r=i(387);t.exports=function(t,e,i){var v,y,_,x,A,E,O,w,k,S,T,I,j,N,C,D,P,R,L,B,F,M,U,z;if(!this.options.gfm)return;v=0,R=0,E=e.length+1,O=[];for(;v<E;){if(M=e.indexOf(c,v),U=e.indexOf(o,v+1),-1===M&&(M=e.length),-1===U||U>M){if(R<h)return;break}O.push(e.slice(v,M)),R++,v=M+1}x=O.join(c),y=O.splice(1,1)[0]||[],v=0,E=y.length,R--,_=!1,T=[];for(;v<E;){if((k=y.charAt(v))===o){if(S=null,!1===_){if(!1===z)return}else T.push(_),_=!1;z=!1}else if(k===a)S=!0,_=_||b;else if(k===l)_=_===f?d:S&&_===b?g:f;else if(!r(k))return;v++}!1!==_&&T.push(_);if(T.length<m)return;if(i)return!0;P=-1,B=[],F=t(x).reset({type:"table",align:T,children:B});for(;++P<R;){for(L=O[P],A={type:"tableRow",children:[]},P&&t(c),t(L).reset(A,F),E=L.length+1,v=0,w="",I="",j=!0,N=null,C=null;v<E;)if((k=L.charAt(v))!==p&&k!==u){if(""===k||k===o)if(j)t(k);else{if(k&&C){w+=k,v++;continue}!I&&!k||j||(x=I,w.length>1&&(k?(x+=w.slice(0,w.length-1),w=w.charAt(w.length-1)):(x+=w,w="")),D=t.now(),t(x)({type:"tableCell",children:this.tokenizeInline(I,D)},A)),t(w+k),w="",I=""}else if(w&&(I+=w,w=""),I+=k,k===s&&v!==E-2&&(I+=L.charAt(v+1),v++),k===n){for(N=1;L.charAt(v+1)===k;)I+=k,v++,N++;C?N>=C&&(C=0):C=N}j=!1,v++}else I?w+=k:t(k),v++;P||t(c+y)}return F};var s="\\",n="`",a="-",o="|",l=":",u=" ",c="\n",p="\t",m=1,h=2,f="left",d="center",g="right",b=null},function(t,e,i){"use strict";var r=i(384),s=i(408),n=i(441),a=i(442);t.exports=function(t,e,i){var p,m,h,f,d,g=this.options,b=g.commonmark,v=g.gfm,y=this.blockTokenizers,_=this.interruptParagraph,x=e.indexOf(o),A=e.length;for(;x<A;){if(-1===x){x=A;break}if(e.charAt(x+1)===o)break;if(b){for(f=0,p=x+1;p<A;){if((h=e.charAt(p))===l){f=c;break}if(h!==u)break;f++,p++}if(f>=c){x=e.indexOf(o,x+1);continue}}if(m=e.slice(x+1),a(_,y,this,[t,m,!0]))break;if(y.list.call(this,t,m,!0)&&(this.inList||b||v&&!s(r.left(m).charAt(0))))break;if(p=x,-1!==(x=e.indexOf(o,x+1))&&""===r(e.slice(p,x))){x=p;break}}if(m=e.slice(0,x),""===r(m))return t(m),null;if(i)return!0;return d=t.now(),m=n(m),t(m)({type:"paragraph",children:this.tokenizeInline(m,d)})};var o="\n",l="\t",u=" ",c=4},function(t,e,i){"use strict";var r=i(660);function s(t,e,i){var r,s;if("\\"===e.charAt(0)&&(r=e.charAt(1),-1!==this.escape.indexOf(r)))return!!i||(s="\n"===r?{type:"break"}:{type:"text",value:r},t("\\"+r)(s))}t.exports=s,s.locator=r},function(t,e,i){"use strict";t.exports=function(t,e){return t.indexOf("\\",e)}},function(t,e,i){"use strict";var r=i(387),s=i(423),n=i(497);t.exports=m,m.locator=n,m.notInLink=!0;var a="<",o=">",l="@",u="/",c="mailto:",p=c.length;function m(t,e,i){var n,m,h,f,d,g,b,v,y,_,x;if(e.charAt(0)===a){for(this,n="",m=e.length,h=0,f="",g=!1,b="",h++,n=a;h<m&&(d=e.charAt(h),!(r(d)||d===o||d===l||":"===d&&e.charAt(h+1)===u));)f+=d,h++;if(f){if(b+=f,f="",b+=d=e.charAt(h),h++,d===l)g=!0;else{if(":"!==d||e.charAt(h+1)!==u)return;b+=u,h++}for(;h<m&&(d=e.charAt(h),!r(d)&&d!==o);)f+=d,h++;if(d=e.charAt(h),f&&d===o)return!!i||(y=b+=f,n+=b+d,(v=t.now()).column++,v.offset++,g&&(b.slice(0,p).toLowerCase()===c?(y=y.substr(p),v.column+=p,v.offset+=p):b=c+b),_=this.inlineTokenizers,this.inlineTokenizers={text:_.text},x=this.enterLink(),y=this.tokenizeInline(y,v),this.inlineTokenizers=_,x(),t(n)({type:"link",title:null,url:s(b,{nonTerminated:!1}),children:y}))}}}},function(t,e,i){"use strict";var r=i(423),s=i(387),n=i(663);t.exports=d,d.locator=n,d.notInLink=!0;var a="[",o="]",l="(",u=")",c="<",p="@",m="mailto:",h=["http://","https://",m],f=h.length;function d(t,e,i){var n,d,g,b,v,y,_,x,A,E,O,w;if(this.options.gfm){for(n="",b=-1,x=f;++b<x;)if(y=h[b],(_=e.slice(0,y.length)).toLowerCase()===y){n=_;break}if(n){for(b=n.length,x=e.length,A="",E=0;b<x&&(g=e.charAt(b),!s(g)&&g!==c)&&("."!==g&&","!==g&&":"!==g&&";"!==g&&'"'!==g&&"'"!==g&&")"!==g&&"]"!==g||(O=e.charAt(b+1))&&!s(O))&&(g!==l&&g!==a||E++,g!==u&&g!==o||!(--E<0));)A+=g,b++;if(A){if(d=n+=A,y===m){if(-1===(v=A.indexOf(p))||v===x-1)return;d=d.substr(m.length)}return!!i||(w=this.enterLink(),d=this.tokenizeInline(d,t.now()),w(),t(n)({type:"link",title:null,url:r(n,{nonTerminated:!1}),children:d}))}}}}},function(t,e,i){"use strict";t.exports=function(t,e){var i,s=r.length,n=-1,a=-1;if(!this.options.gfm)return-1;for(;++n<s;)-1!==(i=t.indexOf(r[n],e))&&(i<a||-1===a)&&(a=i);return a};var r=["https://","http://","mailto:"]},function(t,e,i){"use strict";var r=i(491),s=i(497),n=i(495).tag;t.exports=l,l.locator=s;var a=/^<a /i,o=/^<\/a>/i;function l(t,e,i){var s,l,u=e.length;if(!("<"!==e.charAt(0)||u<3)&&(s=e.charAt(1),(r(s)||"?"===s||"!"===s||"/"===s)&&(l=e.match(n))))return!!i||(l=l[0],!this.inLink&&a.test(l)?this.inLink=!0:this.inLink&&o.test(l)&&(this.inLink=!1),t(l)({type:"html",value:l}))}},function(t,e,i){"use strict";var r=i(387),s=i(498);t.exports=g,g.locator=s;var n={}.hasOwnProperty,a="\\",o="[",l="]",u="(",c=")",p="<",m=">",h="`",f={'"':'"',"'":"'"},d={};function g(t,e,i){var s,g,b,v,y,_,x,A,E,O,w,k,S,T,I,j,N,C,D,P="",R=0,L=e.charAt(0),B=this.options.pedantic,F=this.options.commonmark,M=this.options.gfm;if("!"===L&&(E=!0,P=L,L=e.charAt(++R)),L===o&&(E||!this.inLink)){for(P+=L,I="",R++,k=e.length,T=0,(N=t.now()).column+=R,N.offset+=R;R<k;){if(_=L=e.charAt(R),L===h){for(g=1;e.charAt(R+1)===h;)_+=L,R++,g++;b?g>=b&&(b=0):b=g}else if(L===a)R++,_+=e.charAt(R);else if(b&&!M||L!==o){if((!b||M)&&L===l){if(!T){if(!B)for(;R<k&&(L=e.charAt(R+1),r(L));)_+=L,R++;if(e.charAt(R+1)!==u)return;_+=u,s=!0,R++;break}T--}}else T++;I+=_,_="",R++}if(s){for(O=I,P+=I+_,R++;R<k&&(L=e.charAt(R),r(L));)P+=L,R++;if(L=e.charAt(R),A=F?d:f,I="",v=P,L===p){for(R++,v+=p;R<k&&(L=e.charAt(R))!==m;){if(F&&"\n"===L)return;I+=L,R++}if(e.charAt(R)!==m)return;P+=p+I+m,j=I,R++}else{for(L=null,_="";R<k&&(L=e.charAt(R),!_||!n.call(A,L));){if(r(L)){if(!B)break;_+=L}else{if(L===u)T++;else if(L===c){if(0===T)break;T--}I+=_,_="",L===a&&(I+=a,L=e.charAt(++R)),I+=L}R++}j=I,R=(P+=I).length}for(I="";R<k&&(L=e.charAt(R),r(L));)I+=L,R++;if(L=e.charAt(R),P+=I,I&&n.call(A,L))if(R++,P+=L,I="",w=A[L],y=P,F){for(;R<k&&(L=e.charAt(R))!==w;)L===a&&(I+=a,L=e.charAt(++R)),R++,I+=L;if((L=e.charAt(R))!==w)return;for(S=I,P+=I+L,R++;R<k&&(L=e.charAt(R),r(L));)P+=L,R++}else for(_="";R<k;){if((L=e.charAt(R))===w)x&&(I+=w+_,_=""),x=!0;else if(x){if(L===c){P+=I+w+_,S=I;break}r(L)?_+=L:(I+=w+_+L,_="",x=!1)}else I+=L;R++}if(e.charAt(R)===c)return!!i||(P+=c,j=this.decode.raw(this.unescape(j),t(v).test().end,{nonTerminated:!1}),S&&(y=t(y).test().end,S=this.decode.raw(this.unescape(S),y)),D={type:E?"image":"link",title:S||null,url:j},E?D.alt=this.decode.raw(this.unescape(O),N)||null:(C=this.enterLink(),D.children=this.tokenizeInline(O,N),C()),t(P)(D))}}}d['"']='"',d["'"]="'",d[u]=c},function(t,e,i){"use strict";var r=i(387),s=i(498),n=i(443);t.exports=g,g.locator=s;var a="link",o="image",l="footnote",u="shortcut",c="collapsed",p="full",m="^",h="\\",f="[",d="]";function g(t,e,i){var s,g,b,v,y,_,x,A,E=e.charAt(0),O=0,w=e.length,k="",S="",T=a,I=u;if("!"===E&&(T=o,S=E,E=e.charAt(++O)),E===f){if(O++,S+=E,_="",this.options.footnotes&&e.charAt(O)===m){if(T===o)return;S+=m,O++,T=l}for(A=0;O<w;){if((E=e.charAt(O))===f)x=!0,A++;else if(E===d){if(!A)break;A--}E===h&&(_+=h,E=e.charAt(++O)),_+=E,O++}if(k=_,s=_,(E=e.charAt(O))===d){for(O++,k+=E,_="";O<w&&(E=e.charAt(O),r(E));)_+=E,O++;if(E=e.charAt(O),T!==l&&E===f){for(g="",_+=E,O++;O<w&&(E=e.charAt(O))!==f&&E!==d;)E===h&&(g+=h,E=e.charAt(++O)),g+=E,O++;(E=e.charAt(O))===d?(I=g?p:c,_+=g+E,O++):g="",k+=_,_=""}else{if(!s)return;g=s}if(I===p||!x)return k=S+k,T===a&&this.inLink?null:!!i||(T===l&&-1!==s.indexOf(" ")?t(k)({type:"footnote",children:this.tokenizeInline(s,t.now())}):((b=t.now()).column+=S.length,b.offset+=S.length,v={type:T+"Reference",identifier:n(g=I===p?g:s)},T!==a&&T!==o||(v.referenceType=I),T===a?(y=this.enterLink(),v.children=this.tokenizeInline(s,b),y()):T===o&&(v.alt=this.decode.raw(this.unescape(s),b)||null),t(k)(v)))}}}},function(t,e,i){"use strict";var r=i(384),s=i(387),n=i(668);t.exports=l,l.locator=n;var a="*",o="_";function l(t,e,i){var n,l,u,c,p,m,h,f=0,d=e.charAt(f);if(!(d!==a&&d!==o||e.charAt(++f)!==d||(l=this.options.pedantic,p=(u=d)+u,m=e.length,f++,c="",d="",l&&s(e.charAt(f)))))for(;f<m;){if(h=d,!((d=e.charAt(f))!==u||e.charAt(f+1)!==u||l&&s(h))&&(d=e.charAt(f+2))!==u){if(!r(c))return;return!!i||((n=t.now()).column+=2,n.offset+=2,t(p+c+p)({type:"strong",children:this.tokenizeInline(c,n)}))}l||"\\"!==d||(c+=d,d=e.charAt(++f)),c+=d,f++}}},function(t,e,i){"use strict";t.exports=function(t,e){var i=t.indexOf("**",e),r=t.indexOf("__",e);if(-1===r)return i;if(-1===i)return r;return r<i?r:i}},function(t,e,i){"use strict";var r=i(384),s=i(670),n=i(387),a=i(671);t.exports=u,u.locator=a;var o="*",l="_";function u(t,e,i){var a,u,c,p,m,h,f,d=0,g=e.charAt(d);if(!(g!==o&&g!==l||(u=this.options.pedantic,m=g,c=g,h=e.length,d++,p="",g="",u&&n(e.charAt(d)))))for(;d<h;){if(f=g,!((g=e.charAt(d))!==c||u&&n(f))){if((g=e.charAt(++d))!==c){if(!r(p)||f===c)return;if(!u&&c===l&&s(g)){p+=c;continue}return!!i||((a=t.now()).column++,a.offset++,t(m+p+c)({type:"emphasis",children:this.tokenizeInline(p,a)}))}p+=c}u||"\\"!==g||(p+=g,g=e.charAt(++d)),p+=g,d++}}},function(t,e,i){"use strict";t.exports=function(t){return s.test("number"==typeof t?r(t):t.charAt(0))};var r=String.fromCharCode,s=/\w/},function(t,e,i){"use strict";t.exports=function(t,e){var i=t.indexOf("*",e),r=t.indexOf("_",e);if(-1===r)return i;if(-1===i)return r;return r<i?r:i}},function(t,e,i){"use strict";var r=i(387),s=i(673);t.exports=o,o.locator=s;var n="~",a="~~";function o(t,e,i){var s,o,l,u="",c="",p="",m="";if(this.options.gfm&&e.charAt(0)===n&&e.charAt(1)===n&&!r(e.charAt(2)))for(s=1,o=e.length,(l=t.now()).column+=2,l.offset+=2;++s<o;){if(!((u=e.charAt(s))!==n||c!==n||p&&r(p)))return!!i||t(a+m+a)({type:"delete",children:this.tokenizeInline(m,l)});m+=c,p=c,c=u}}},function(t,e,i){"use strict";t.exports=function(t,e){return t.indexOf("~~",e)}},function(t,e,i){"use strict";var r=i(387),s=i(675);t.exports=a,a.locator=s;var n="`";function a(t,e,i){for(var s,a,o,l,u,c,p,m,h=e.length,f=0,d="",g="";f<h&&e.charAt(f)===n;)d+=n,f++;if(d){for(u=d,l=f,d="",m=e.charAt(f),o=0;f<h;){if(c=m,m=e.charAt(f+1),c===n?(o++,g+=c):(o=0,d+=c),o&&m!==n){if(o===l){u+=d+g,p=!0;break}d+=g,g=""}f++}if(!p){if(l%2!=0)return;d=""}if(i)return!0;for(s="",a="",h=d.length,f=-1;++f<h;)c=d.charAt(f),r(c)?a+=c:(a&&(s&&(s+=a),a=""),s+=c);return t(u)({type:"inlineCode",value:s})}}},function(t,e,i){"use strict";t.exports=function(t,e){return t.indexOf("`",e)}},function(t,e,i){"use strict";var r=i(677);t.exports=n,n.locator=r;var s=2;function n(t,e,i){for(var r,n=e.length,a=-1,o="";++a<n;){if("\n"===(r=e.charAt(a))){if(a<s)return;return!!i||t(o+=r)({type:"break"})}if(" "!==r)return;o+=r}}},function(t,e,i){"use strict";t.exports=function(t,e){var i=t.indexOf("\n",e);for(;i>e&&" "===t.charAt(i-1);)i--;return i}},function(t,e,i){"use strict";t.exports=function(t,e,i){var r,s,n,a,o,l,u,c,p,m;if(i)return!0;r=this.inlineMethods,a=r.length,s=this.inlineTokenizers,n=-1,p=e.length;for(;++n<a;)"text"!==(c=r[n])&&s[c]&&((u=s[c].locator)||t.file.fail("Missing locator: `"+c+"`"),-1!==(l=u.call(this,e,1))&&l<p&&(p=l));o=e.slice(0,p),m=t.now(),this.decode(o,m,function(e,i,r){t(r||e)({type:"text",value:e})})}},function(t,e,i){"use strict";var r=i(486),s=i(385),n=i(680);function a(t){var e=r(n);e.prototype.options=s(e.prototype.options,this.data("settings"),t),this.Compiler=e}t.exports=a,a.Compiler=n},function(t,e,i){"use strict";var r=i(385),s=i(487);function n(t,e){this.inLink=!1,this.inTable=!1,this.tree=t,this.file=e,this.options=r(this.options),this.setOptions({})}t.exports=n;var a=n.prototype;a.enterLink=s("inLink",!1),a.enterTable=s("inTable",!1),a.enterLinkReference=i(681),a.options=i(500),a.setOptions=i(682),a.compile=i(687),a.visit=i(689),a.all=i(690),a.block=i(691),a.visitOrderedItems=i(692),a.visitUnorderedItems=i(693),a.visitors={root:i(694),text:i(695),heading:i(696),paragraph:i(697),blockquote:i(698),list:i(699),listItem:i(700),inlineCode:i(701),code:i(702),html:i(703),thematicBreak:i(704),strong:i(705),emphasis:i(706),break:i(707),delete:i(708),link:i(709),linkReference:i(710),imageReference:i(712),definition:i(713),image:i(714),footnote:i(715),footnoteReference:i(716),footnoteDefinition:i(717),table:i(718),tableCell:i(720)}},function(t,e,i){"use strict";var r=i(499);t.exports=function(t,e){var i=t.encode,s=t.escape,n=t.enterLink();if("shortcut"!==e.referenceType&&"collapsed"!==e.referenceType)return n;return t.escape=r,t.encode=r,function(){t.encode=i,t.escape=s,n()}}},function(t,e,i){"use strict";var r=i(385),s=i(444),n=i(500),a=i(685),o=i(499);t.exports=function(t){var e,i,p=this.options;if(null==t)t={};else{if("object"!=typeof t)throw new Error("Invalid value `"+t+"` for setting `options`");t=r(t)}for(i in n)u[typeof n[i]](t,i,p[i],l[i]);(e=t.ruleRepetition)&&e<3&&c(e,"options.ruleRepetition");return this.encode=function(t){var e={};return"false"===t?o:("true"===t&&(e.useNamedReferences=!0),"escape"===t&&(e.escapeOnly=!0,e.useNamedReferences=!0),function(t){return s(t,e)})}(String(t.entities)),this.escape=a(t),this.options=t,this};var l={entities:{true:!0,false:!0,numbers:!0,escape:!0},bullet:{"*":!0,"-":!0,"+":!0},rule:{"-":!0,_:!0,"*":!0},listItemIndent:{tab:!0,mixed:!0,1:!0},emphasis:{_:!0,"*":!0},strong:{_:!0,"*":!0},fence:{"`":!0,"~":!0}},u={boolean:function(t,e,i){var r=t[e];null==r&&(r=i);"boolean"!=typeof r&&c(r,"options."+e);t[e]=r},string:function(t,e,i,r){var s=t[e];null==s&&(s=i);(s=String(s))in r||c(s,"options."+e);t[e]=s},number:function(t,e,i){var r=t[e];null==r&&(r=i);isNaN(r)&&c(r,"options."+e);t[e]=r},function:function(t,e,i){var r=t[e];null==r&&(r=i);"function"!=typeof r&&c(r,"options."+e);t[e]=r}};function c(t,e){throw new Error("Invalid value `"+t+"` for setting `"+e+"`")}},function(t){t.exports={nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",times:"×",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",divide:"÷",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",fnof:"ƒ",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",bull:"•",hellip:"…",prime:"′",Prime:"″",oline:"‾",frasl:"⁄",weierp:"℘",image:"ℑ",real:"ℜ",trade:"™",alefsym:"ℵ",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lArr:"⇐",uArr:"⇑",rArr:"⇒",dArr:"⇓",hArr:"⇔",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",lang:"〈",rang:"〉",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦",quot:'"',amp:"&",lt:"<",gt:">",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",permil:"‰",lsaquo:"‹",rsaquo:"›",euro:"€"}},function(t){t.exports=["cent","copy","divide","gt","lt","not","para","times"]},function(t,e,i){"use strict";var r=i(408),s=i(686),n=i(387),a=i(492),o=i(501);t.exports=function(t){return function(e,i,c){var d,g,b,v,y,_,x=t.gfm,A=t.commonmark,E=t.pedantic,O=A?[".",")"]:["."],w=c&&c.children,k=w&&w.indexOf(i),S=w&&w[k-1],T=w&&w[k+1],I=e.length,j=a(t),N=-1,C=[],D=C;d=S?h(S)&&/\n\s*$/.test(S.value):!c||"root"===c.type||"paragraph"===c.type;function P(t){return-1===j.indexOf(t)?p[t]:l+t}for(;++N<I;){if(g=e.charAt(N),_=!1,"\n"===g)d=!0;else if(g===l||"`"===g||"*"===g||"["===g||"<"===g||"&"===g&&o(e.slice(N))>0||"]"===g&&this.inLink||x&&"~"===g&&"~"===e.charAt(N+1)||x&&"|"===g&&(this.inTable||m(e,N))||"_"===g&&N>0&&N<I-1&&(E||!s(e.charAt(N-1))||!s(e.charAt(N+1)))||x&&!this.inLink&&":"===g&&f(C.join("")))_=!0;else if(d)if(">"===g||"#"===g||-1!==u.indexOf(g))_=!0;else if(r(g)){for(y=N+1;y<I&&r(e.charAt(y));)y++;-1!==O.indexOf(e.charAt(y))&&((T=e.charAt(y+1))&&" "!==T&&"\t"!==T&&"\n"!==T||(C.push(e.slice(N,y)),N=y,g=e.charAt(N),_=!0))}d&&!n(g)&&(d=!1),C.push(_?P(g):g)}if(w&&h(i)){if(S&&"shortcut"===S.referenceType){for(N=-1,I=D.length;++N<I;)if(" "!==(g=D[N])&&"\t"!==g){"("!==g&&":"!==g||(D[N]=P(g));break}h(T)&&N===I&&"("===T.value.charAt(0)&&D.push(l)}x&&!this.inLink&&h(S)&&":"===e.charAt(0)&&f(S.value.slice(-6))&&(D[0]=P(":")),h(T)&&"&"===e.charAt(I-1)&&0!==o("&"+T.value)&&(D[D.length-1]=P("&")),x&&h(T)&&"~"===e.charAt(I-1)&&"~"===T.value.charAt(0)&&D.splice(D.length-1,0,l),b=h(S)&&s(S.value.slice(-1)),v=h(T)&&s(T.value.charAt(0)),1===I?"_"!==e||!E&&b&&v||D.unshift(l):("_"!==e.charAt(0)||!E&&b&&s(e.charAt(1))||D.unshift(l),"_"!==e.charAt(I-1)||!E&&v&&s(e.charAt(I-2))||D.splice(D.length-1,0,l))}return D.join("")}};var l="\\",u=["*","-","+"],c=[":","-"," ","|"],p={"<":"&lt;",":":"&#x3A;","&":"&amp;","|":"&#x7C;","~":"&#x7E;"};function m(t,e){var i=t.lastIndexOf("\n",e),r=t.indexOf("\n",e);for(i=-1===i?-1:i,r=-1===r?t.length:r;++i<r;)if(-1===c.indexOf(t.charAt(i)))return!1;return!0}function h(t){return t&&"text"===t.type}function f(t){var e=t.slice(-6).toLowerCase();return"mailto"===e||"https"===e.slice(-5)||"http"===e.slice(-4)}},function(t,e,i){"use strict";t.exports=function(t){if("string"!=typeof t)throw new TypeError("Expected a string");return!/[^0-9a-z\xDF-\xFF]/.test(t.toLowerCase())}},function(t,e,i){"use strict";var r=i(688);t.exports=function(){return this.visit(r(this.tree,this.options.commonmark))}},function(t,e,i){"use strict";var r=i(409);function s(t,e){var i,r;return"text"===t.type?!t.position||(i=t.position.start,r=t.position.end,i.line!==r.line||r.column-i.column===t.value.length):e&&"blockquote"===t.type}t.exports=function(t,e){return r(t,function(t,i,r){var n=r?r.children:[],a=i&&n[i-1];if(a&&t.type===a.type&&s(a,e)&&s(t,e))return t.value&&(a.value+=t.value),t.children&&(a.children=a.children.concat(t.children)),n.splice(i,1),a.position&&t.position&&(a.position.end=t.position.end),i}),t}},function(t,e,i){"use strict";t.exports=function(t,e){var i=this.visitors;"function"!=typeof i[t.type]&&this.file.fail(new Error("Missing compiler for node of type `"+t.type+"`: `"+t+"`"),t);return i[t.type].call(this,t,e)}},function(t,e,i){"use strict";t.exports=function(t){var e=t.children,i=e.length,r=[],s=-1;for(;++s<i;)r[s]=this.visit(e[s],t);return r}},function(t,e,i){"use strict";t.exports=function(t){var e,i,r=[],s=t.children,n=s.length,a=-1;for(;++a<n;)e=s[a],i&&(e.type===i.type&&"list"===i.type?r.push(i.ordered===e.ordered?"\n\n\n":"\n\n"):"list"!==i.type||"code"!==e.type||e.lang?r.push("\n\n"):r.push("\n\n\n")),r.push(this.visit(e,t)),i=e;return r.join("")}},function(t,e,i){"use strict";t.exports=function(t){var e,i=this.visitors.listItem,r=this.options.incrementListMarker,s=[],n=t.start,a=t.children,o=a.length,l=-1;for(;++l<o;)e=(r?n+l:n)+".",s[l]=i.call(this,a[l],t,l,e);return s.join("\n")}},function(t,e,i){"use strict";t.exports=function(t){var e=this.options.bullet,i=this.visitors.listItem,r=t.children,s=r.length,n=-1,a=[];for(;++n<s;)a[n]=i.call(this,r[n],t,n,e);return a.join("\n")}},function(t,e,i){"use strict";t.exports=function(t){return this.block(t)+"\n"}},function(t,e,i){"use strict";t.exports=function(t,e){return this.encode(this.escape(t.value,t,e),t)}},function(t,e,i){"use strict";var r=i(388);t.exports=function(t){var e,i=t.depth,s=this.options.setext,n=this.options.closeAtx,a=this.all(t).join("");if(s&&i<3)return a+"\n"+r(1===i?"=":"-",a.length);return(e=r("#",t.depth))+" "+a+(n?" "+e:"")}},function(t,e,i){"use strict";t.exports=function(t){return this.all(t).join("")}},function(t,e,i){"use strict";t.exports=function(t){var e,i=this.block(t).split("\n"),r=[],s=i.length,n=-1;for(;++n<s;)e=i[n],r[n]=(e?" ":"")+e;return">"+r.join("\n>")}},function(t,e,i){"use strict";t.exports=function(t){return this[r[t.ordered]](t)};var r={true:"visitOrderedItems",false:"visitUnorderedItems"}},function(t,e,i){"use strict";var r=i(388),s=i(502);t.exports=function(t,e,i,a){var o,l,u,c=this.options.listItemIndent,p=t.loose,m=t.children,h=m.length,f=[],d=-1;for(;++d<h;)f[d]=this.visit(m[d],t);o=n[t.checked]+f.join(p?"\n\n":"\n"),"1"===c||"mixed"===c&&-1===o.indexOf("\n")?(l=a.length+1,u=" "):(l=4*Math.ceil((a.length+1)/4),u=r(" ",l-a.length));o=a+u+s(o,l/4).slice(l),p&&e.children.length-1!==i&&(o+="\n");return o};var n={undefined:"",null:"",true:"[x] ",false:"[ ] "}},function(t,e,i){"use strict";var r=i(503),s=i(388);t.exports=function(t){var e=t.value,i=s("`",r(e,"`")+1),n=i,a=i;"`"===e.charAt(0)&&(n+=" ");"`"===e.charAt(e.length-1)&&(a=" "+a);return n+e+a}},function(t,e,i){"use strict";var r=i(503),s=i(388),n=i(502);t.exports=function(t,e){var i,a=t.value,o=this.options,l=o.fence,u=this.encode(t.lang||"",t);if(!u&&!o.fences&&a)return e&&"listItem"===e.type&&"tab"!==o.listItemIndent&&o.pedantic&&this.file.fail("Cannot indent code properly. See http://git.io/vgFvT",t.position),n(a,1);return(i=s(l,Math.max(r(a,l)+1,3)))+u+"\n"+a+"\n"+i}},function(t,e,i){"use strict";t.exports=function(t){return t.value}},function(t,e,i){"use strict";var r=i(388);t.exports=function(){var t=this.options,e=r(t.rule,t.ruleRepetition);return t.ruleSpaces?e.split("").join(" "):e}},function(t,e,i){"use strict";var r=i(388);t.exports=function(t){var e=r(this.options.strong,2);return e+this.all(t).join("")+e}},function(t,e,i){"use strict";t.exports=function(t){var e=this.options.emphasis;return e+this.all(t).join("")+e}},function(t,e,i){"use strict";t.exports=function(){return r[this.options.commonmark]};var r={true:"\\\n",false:"  \n"}},function(t,e,i){"use strict";t.exports=function(t){return"~~"+this.all(t).join("")+"~~"}},function(t,e,i){"use strict";var r=i(445),s=i(446);t.exports=function(t){var e=this.encode(t.url||"",t),i=this.enterLink(),a=this.encode(this.escape(t.url||"",t)),o=this.all(t).join("");if(i(),null==t.title&&n.test(e)&&(a===o||a==="mailto:"+o))return r(this.encode(t.url),!0);e=r(e),t.title&&(e+=" "+s(this.encode(this.escape(t.title,t),t)));return"["+o+"]("+e+")"};var n=/^[a-z][a-z+.-]+:\/?/i},function(t,e,i){"use strict";var r=i(711),s=i(505);t.exports=function(t){var e=t.referenceType,i=this.enterLinkReference(this,t),n=this.all(t).join("");i(),("shortcut"===e||"collapsed"===e)&&(n=r(n,t.identifier));return"["+n+"]"+s(t)}},function(t,e,i){"use strict";var r=i(501);t.exports=function(t,e){var i,n=t.length,a=e.length,o=[],l=0,u=0;for(;u<n;){for(i=u;u<n&&!s.test(t.charAt(u));)u+=1;for(o.push(t.slice(i,u));l<a&&!s.test(e.charAt(l));)l+=1;for(i=l;l<a&&s.test(e.charAt(l));)"&"===e.charAt(l)&&(l+=r(e.slice(l))),l+=1;for(o.push(e.slice(i,l));u<n&&s.test(t.charAt(u));)u+=1}return o.join("")};var s=/[-!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~_]/},function(t,e,i){"use strict";var r=i(505);t.exports=function(t){return"!["+(this.encode(t.alt,t)||"")+"]"+r(t)}},function(t,e,i){"use strict";var r=i(445),s=i(446);t.exports=function(t){var e=r(t.url);t.title&&(e+=" "+s(t.title));return"["+t.identifier+"]: "+e}},function(t,e,i){"use strict";var r=i(445),s=i(446);t.exports=function(t){var e=r(this.encode(t.url||"",t)),i=this.enterLink(),n=this.encode(this.escape(t.alt||"",t));i(),t.title&&(e+=" "+s(this.encode(t.title,t)));return"!["+n+"]("+e+")"}},function(t,e,i){"use strict";t.exports=function(t){return"[^"+this.all(t).join("")+"]"}},function(t,e,i){"use strict";t.exports=function(t){return"[^"+t.identifier+"]"}},function(t,e,i){"use strict";var r=i(388);t.exports=function(t){var e=t.identifier.toLowerCase(),i=this.all(t).join("\n\n"+r(" ",4));return"[^"+e+"]: "+i}},function(t,e,i){"use strict";var r=i(719);t.exports=function(t){var e,i,s=this.options,n=s.looseTable,a=s.spacedTable,o=s.paddedTable,l=s.stringLength,u=t.children,c=u.length,p=this.enterTable(),m=[];for(;c--;)m[c]=this.all(u[c]);p(),n?(e="",i=""):a?(e="| ",i=" |"):(e="|",i="|");return r(m,{align:t.align,pad:o,start:e,end:i,stringLength:l,delimiter:a?" | ":"|"})}},function(t,e,i){"use strict";t.exports=function(t,e){var i,s,x,A,E,O,w,k,S,T,I,j,N=e||{},C=N.delimiter,D=N.start,P=N.end,R=N.align,L=N.stringLength||v,B=0,F=-1,M=t.length,U=[];R=R?R.concat():[],null==C&&(C=d+f+d);null==D&&(D=f+d);null==P&&(P=d+f);for(;++F<M;)for(A=t[F],O=-1,A.length>B&&(B=A.length);++O<B;)w=A[O]?_(A[O]):null,U[O]||(U[O]=p),w>U[O]&&(U[O]=w);"string"==typeof R&&(R=y(B,R).split(""));O=-1;for(;++O<B;)"string"==typeof(i=R[O])&&(i=i.charAt(0).toLowerCase()),-1===c.indexOf(i)&&(i=u),R[O]=i;F=-1,x=[];for(;++F<M;){for(A=t[F],O=-1,E=[];++O<B;)S=b(S=A[O]),R[O]===l?(w=_(S),k=U[O]+(r.test(S)?0:1)-(L(S)-w),E[O]=S+y(k-1)):E[O]=S;x[F]=E}U=[],F=-1;for(;++F<M;)for(E=x[F],O=-1;++O<B;)S=E[O],U[O]||(U[O]=p),(k=L(S))>U[O]&&(U[O]=k);F=-1;for(;++F<M;){if(E=x[F],O=-1,!1!==N.pad)for(;++O<B;)S=E[O],w=U[O]-(L(S)||0),T=y(w),R[O]===a||R[O]===l?S=T+S:R[O]===o?((w/=2)%1==0?(I=w,j=w):(I=w+.5,j=w-.5),S=y(I)+S+y(j)):S+=T,E[O]=S;x[F]=E.join(C)}if(!1!==N.rule){for(O=-1,s=[];++O<B;)!1===N.pad?(S=t[0][O],T=(T=L(b(S)))>p?T:p):T=U[O],i=R[O],S=i===a||i===u?h:m,S+=y(T-2,h),S+=i!==n&&i!==u?m:h,s[O]=S;x.splice(1,0,s.join(C))}return D+x.join(P+g+D)+P};var r=/\./,s=/\.[^.]*$/,n="l",a="r",o="c",l=".",u="",c=[n,a,o,l,u],p=3,m=":",h="-",f="|",d=" ",g="\n";function b(t){return null==t?"":String(t)}function v(t){return String(t).length}function y(t,e){return new Array(t+1).join(e||d)}function _(t){var e=s.exec(t);return e?e.index+1:t.length}},function(t,e,i){"use strict";t.exports=function(t){return this.all(t).join("")}},function(t,e,i){"use strict";var r=i(385),s=i(506),n=i(748),a=i(521);t.exports=function(t){var e=t||{},i=e.sanitize,o=i&&"object"==typeof i?i:null,l=e.handlers||{};this.Compiler=function(t,u){var c,p=t&&t.type&&"root"===t.type,m=s(t,{allowDangerousHTML:!i,handlers:l});u.extname&&(u.extname=".html");i&&(m=a(m,o));c=n(m,r(e,{allowDangerousHTML:!i})),p&&"\n"!==c.charAt(c.length-1)&&(c+="\n");return c}}},function(t,e,i){"use strict";t.exports=function(t,e){var i=function(t,e){var i=e||{},s=i.allowDangerousHTML;return c.dangerous=s,c.definition=l(t,i),c.footnotes=[],c.augment=u,c.handlers=r(p,i.handlers||{}),n(t,"footnoteDefinition",function(t){c.footnotes.push(t)}),c;function u(t,e){var i,s;return t&&"data"in t&&(i=t.data,"element"===e.type&&i.hName&&(e.tagName=i.hName),"element"===e.type&&i.hProperties&&(e.properties=r(e.properties,i.hProperties)),e.children&&i.hChildren&&(e.children=i.hChildren)),s=t&&t.position?t:{position:t},o(s)||(e.position={start:a.start(s),end:a.end(s)}),e}function c(t,e,i,r){return null==r&&"object"==typeof i&&"length"in i&&(r=i,i={}),u(t,{type:"element",tagName:e,properties:i||{},children:r||[]})}}(t,e),m=u(i,t),h=c(i);m&&m.children&&h&&(m.children=m.children.concat(s("text","\n"),h));return m};var r=i(385),s=i(389),n=i(409),a=i(507),o=i(723),l=i(724),u=i(508),c=i(725),p=i(726)},function(t,e,i){"use strict";function r(t){return t&&"object"==typeof t?t:{}}t.exports=function(t){var e=r(r(t).position),i=r(e.start),s=r(e.end);return!(i.line&&i.column&&s.line&&s.column)}},function(t,e,i){"use strict";var r=i(409);t.exports=function(t,e){return function(t){return function(e){var i=e&&n(e);return i&&s.call(t,i)?t[i]:null}}(function(t,e){var i={};if(!t||!t.type)throw new Error("mdast-util-definitions expected node");return r(t,"definition",e&&e.commonmark?function(t){var e=n(t.identifier);s.call(i,e)||(i[e]=t)}:function(t){i[n(t.identifier)]=t}),i}(t,e))};var s={}.hasOwnProperty;function n(t){return t.toUpperCase()}},function(t,e,i){"use strict";t.exports=function(t){var e,i=t.footnotes,a=i.length,o=-1,l=[];if(!a)return null;for(;++o<a;)e=i[o],l[o]={type:"listItem",data:{hProperties:{id:"fn-"+e.identifier}},children:e.children.concat({type:"link",url:"#fnref-"+e.identifier,data:{hProperties:{className:["footnote-backref"]}},children:[{type:"text",value:"↩"}]}),position:e.position};return t(null,"div",{className:["footnotes"]},n([r(t),s(t,{type:"list",ordered:!0,children:l})],!0))};var r=i(509),s=i(510),n=i(395)},function(t,e,i){"use strict";function r(){return null}t.exports={blockquote:i(727),break:i(728),code:i(729),delete:i(731),emphasis:i(732),footnoteReference:i(511),footnote:i(733),heading:i(734),html:i(735),imageReference:i(736),image:i(737),inlineCode:i(738),linkReference:i(739),link:i(740),listItem:i(741),list:i(510),paragraph:i(742),root:i(743),strong:i(744),table:i(745),text:i(746),thematicBreak:i(509),toml:r,yaml:r,definition:r,footnoteDefinition:r}},function(t,e,i){"use strict";t.exports=function(t,e){return t(e,"blockquote",r(s(t,e),!0))};var r=i(395),s=i(386)},function(t,e,i){"use strict";t.exports=function(t,e){return[t(e,"br"),r("text","\n")]};var r=i(389)},function(t,e,i){"use strict";t.exports=function(t,e){var i=e.value?r(e.value+"\n"):"",n=e.lang&&e.lang.match(/^[^ \t]+(?=[ \t]|$)/),a={};n&&(a.className=["language-"+n]);return t(e.position,"pre",[t(e,"code",a,[s("text",i)])])};var r=i(730),s=i(389)},function(t,e,i){"use strict";t.exports=function(t,e){var i,o,l="string"==typeof t,u=l&&t.length,c=0,p=-1,m=-1,h=e||4,f=[];if(!l)throw new Error("detab expected string");for(;++p<u;)(i=t.charCodeAt(p))===s?(m+=o=h-(m+1)%h,f.push(t.slice(c,p)+r(" ",o)),c=p+1):i===n||i===a?m=-1:m++;return f.push(t.slice(c)),f.join("")};var r=i(388),s=9,n=10,a=13},function(t,e,i){"use strict";t.exports=function(t,e){return t(e,"del",r(t,e))};var r=i(386)},function(t,e,i){"use strict";t.exports=function(t,e){return t(e,"em",r(t,e))};var r=i(386)},function(t,e,i){"use strict";t.exports=function(t,e){var i=[],s=1,n=t.footnotes,a=n.length,o=-1;for(;++o<a;)i[o]=n[o].identifier;for(;-1!==i.indexOf(String(s));)s++;return s=String(s),n.push({type:"footnoteDefinition",identifier:s,children:[{type:"paragraph",children:e.children}],position:e.position}),r(t,{type:"footnoteReference",identifier:s,position:e.position})};var r=i(511)},function(t,e,i){"use strict";t.exports=function(t,e){return t(e,"h"+e.depth,r(t,e))};var r=i(386)},function(t,e,i){"use strict";t.exports=function(t,e){return t.dangerous?t.augment(e,r("raw",e.value)):null};var r=i(389)},function(t,e,i){"use strict";t.exports=function(t,e){var i,n=t.definition(e.identifier);if(!n)return s(t,e);i={src:r(n.url||""),alt:e.alt},null!==n.title&&void 0!==n.title&&(i.title=n.title);return t(e,"img",i)};var r=i(424),s=i(512)},function(t,e,i){"use strict";var r=i(424);t.exports=function(t,e){var i={src:r(e.url),alt:e.alt};null!==e.title&&void 0!==e.title&&(i.title=e.title);return t(e,"img",i)}},function(t,e,i){"use strict";t.exports=function(t,e){return t(e,"code",[s("text",r(e.value))])};var r=i(496),s=i(389)},function(t,e,i){"use strict";t.exports=function(t,e){var i,a=t.definition(e.identifier);if(!a)return s(t,e);i={href:r(a.url||"")},null!==a.title&&void 0!==a.title&&(i.title=a.title);return t(e,"a",i,n(t,e))};var r=i(424),s=i(512),n=i(386)},function(t,e,i){"use strict";var r=i(424),s=i(386);t.exports=function(t,e){var i={href:r(e.url)};null!==e.title&&void 0!==e.title&&(i.title=e.title);return t(e,"a",i,s(t,e))}},function(t,e,i){"use strict";t.exports=function(t,e,i){var a,o,l=e.children,u=l[0],c={},p=!1;i&&i.loose||1!==l.length||"paragraph"!==u.type||(p=!0);a=n(t,p?u:e),"boolean"==typeof e.checked&&(p||u&&"paragraph"===u.type||a.unshift(t(null,"p",[])),0!==(o=p?a:a[0].children).length&&o.unshift(r("text"," ")),o.unshift(t(null,"input",{type:"checkbox",checked:e.checked,disabled:!0})),c.className=["task-list-item"]);p||0===a.length||(a=s(a,!0));return t(e,"li",c,a)};var r=i(389),s=i(395),n=i(386)},function(t,e,i){"use strict";t.exports=function(t,e){return t(e,"p",r(t,e))};var r=i(386)},function(t,e,i){"use strict";t.exports=function(t,e){return t.augment(e,r("root",s(n(t,e))))};var r=i(389),s=i(395),n=i(386)},function(t,e,i){"use strict";t.exports=function(t,e){return t(e,"strong",r(t,e))};var r=i(386)},function(t,e,i){"use strict";t.exports=function(t,e){var i,a,o,l,u,c=e.children,p=c.length,m=e.align,h=m.length,f=[];for(;p--;){for(a=c[p].children,l=0===p?"th":"td",i=h,o=[];i--;)u=a[i],o[i]=t(u,l,{align:m[i]},u?n(t,u):[]);f[p]=t(c[p],"tr",s(o,!0))}return t(e,"table",s([t(f[0].position,"thead",s([f[0]],!0)),t({start:r.start(f[1]),end:r.end(f[f.length-1])},"tbody",s(f.slice(1),!0))],!0))};var r=i(507),s=i(395),n=i(386)},function(t,e,i){"use strict";t.exports=function(t,e){return t.augment(e,r("text",s(e.value)))};var r=i(389),s=i(747)},function(t,e,i){"use strict";t.exports=function(t){return String(t).replace(r,s)};var r=/[ \t]*\n+[ \t]*/g,s="\n"},function(t,e,i){"use strict";t.exports=i(749)},function(t,e,i){"use strict";var r=i(750),s=i(751),n=i(518);t.exports=function(t,e){var i=e||{},b=i.quote||a,v=i.quoteSmart,y=i.allowParseErrors,_=i.allowDangerousCharacters,x=b===a?o:a,A=y?l:u,E=y?p:m,O=y?h:f,w=y?d:g;if(b!==a&&b!==o)throw new Error("Invalid quote `"+b+"`, expected `"+o+"` or `"+a+"`");return n({NAME:A.concat(_?[]:c),UNQUOTED:E.concat(_?[]:c),DOUBLE_QUOTED:w.concat(_?[]:c),SINGLE_QUOTED:O.concat(_?[]:c),omit:i.omitOptionalTags&&s,quote:b,alternative:v?x:null,unquoted:Boolean(i.preferUnquoted),tight:i.tightAttributes,tightLists:i.tightCommaSeparatedLists,tightClose:i.tightSelfClosing,collapseEmpty:i.collapseEmptyAttributes,dangerous:i.allowDangerousHTML,voids:i.voids||r.concat(),entities:i.entities||{},close:i.closeSelfClosing},t)};var a='"',o="'",l=["&"," ","\t","\n","\r","\f","/",">","="],u=l.concat("\0",a,o,"<"),c=[a,o,"`"],p=["&"," ","\t","\n","\r","\f",">"],m=p.concat("\0",a,o,"<","=","`"),h=["&",o],f=h.concat("\0"),d=["&",a],g=d.concat("\0")},function(t){t.exports=["area","base","basefont","bgsound","br","col","command","embed","frame","hr","image","img","input","isindex","keygen","link","menuitem","meta","nextid","param","source","track","wbr"]},function(t,e,i){"use strict";e.opening=i(752),e.closing=i(516)},function(t,e,i){"use strict";var r=i(392),s=i(513),n=i(447).before,a=i(753),o=i(754),l=i(515),u=i(516),c=i(517),p={}.hasOwnProperty;t.exports=c({html:function(t){var e=a(t);return!e||!r("comment",e)},head:function(t){var e,i,r=t.children,s=r.length,n={},a=-1;for(;++a<s;)if(e=r[a],i=e.tagName,"element"===e.type&&("title"===i||"base"===i)){if(p.call(n,i))return!1;n[i]=!0}return Boolean(s)},body:function(t){var e=a(t,!0);return!e||!r("comment",e)&&!l(e)&&!s(e,["meta","link","script","style","template"])},colgroup:function(t,e,i){var r=n(i,e),l=a(t,!0);if(s(r,"colgroup")&&u(r,o(i,r),i))return!1;return l&&s(l,"col")},tbody:function(t,e,i){var r=n(i,e),l=a(t);if(s(r,["thead","tbody"])&&u(r,o(i,r),i))return!1;return l&&s(l,"tr")}})},function(t,e,i){"use strict";var r=i(447).after;t.exports=function(t,e){return r(t,-1,e)}},function(t,e,i){"use strict";t.exports=function(t,e){return t&&t.children&&t.children.indexOf(e)}},function(t,e,i){"use strict";var r=i(385),s=i(412).stringify,n=i(413).stringify,a=i(411),o=i(444),l=i(410),u=i(504),c=i(519);t.exports=function(t,e,i,r){var s=e.tagName,n=c(t,"template"===s?e.content:e),a=-1!==t.voids.indexOf(s.toLowerCase()),o=function(t,e){var i,r,s,n,a,o,l=[];for(i in e)null!=(r=e[i])&&(s=_(t,i,r))&&l.push(s);n=l.length,a=-1;for(;++a<n;)s=l[a],o=t.tight&&s.charAt(s.length-1),a!==n-1&&o!==f&&o!==d&&(l[a]=s+h);return l.join(m)}(t,e.properties),l=t.omit,u="";a=!n&&a,!o&&l&&l.opening(e,i,r)||(u=b+s+(o?h+o:m),a&&t.close&&(t.tightClose&&o.charAt(o.length-1)!==y||(u+=h),u+=y),u+=v);u+=n,a||l&&l.closing(e,i,r)||(u+=b+y+s+v);return u};var p="data",m="",h=" ",f='"',d="'",g="=",b="<",v=">",y="/";function _(t,e,i){var c,h=a(e)||{};return null==i||"number"==typeof i&&isNaN(i)||!i&&h.boolean||!1===i&&h.overloadedBoolean?m:(c=function(t,e){var i=(a(e)||{}).name||l(e);i.slice(0,p.length)===p&&/[0-9]/.test(i.charAt(p.length))&&(i=p+"-"+i.slice(4));return o(i,r(t.entities,{subset:t.NAME}))}(t,e),i&&h.boolean||!0===i&&h.overloadedBoolean?c:c+function(t,e,i){var l,c=a(e)||{},p=t.entities,m=t.quote,h=t.alternative;"object"==typeof i&&"length"in i&&(i=(c.commaSeparated?n:s)(i,{padLeft:!t.tightLists}));!(i=String(i))&&t.collapseEmpty||(l=i,t.unquoted&&(l=o(i,r(p,{subset:t.UNQUOTED,attribute:!0}))),t.unquoted&&l===i||(h&&u(i,m)>u(i,h)&&(m=h),i=o(i,r(p,{subset:m===d?t.SINGLE_QUOTED:t.DOUBLE_QUOTED,attribute:!0})),i=m+i+m),i=i?g+i:i);return i}(t,e,i))}},function(t,e,i){"use strict";function r(t){var e=-1===t.indexOf('"')?'"':"'";return e+t+e}t.exports=function(t,e){var i=e.public,s=e.system,n="<!DOCTYPE";if(!e.name)return n+">";n+=" "+e.name,null!=i?n+=" PUBLIC "+r(i):null!=s&&(n+=" SYSTEM");null!=s&&(n+=" "+r(s));return n+">"}},function(t,e,i){"use strict";t.exports=function(t,e){return"\x3c!--"+e.value+"--\x3e"}},function(t,e,i){"use strict";var r=i(520);t.exports=function(t,e){return t.dangerous?e.value:r(t,e)}},function(t,e,i){"use strict";var r=i(385),s=i(760);t.exports=function(t,e){var i,n={type:"root",children:[]};if(!t||"object"!=typeof t||!t.type)return n;if(!(i=o(r(s,e||{}),t,[])))return n;if("length"in i)return 1===i.length?i[0]:(n.children=i,n);return i};var n={}.hasOwnProperty,a={root:{children:l},doctype:function(t){return t.allowDoctypes?{name:p}:null},comment:function(t){return t.allowComments?{value:h}:null},element:{tagName:m,properties:function(t,e,i,r){var s,a,o,l=m(t,i.tagName,i,r),p=t.attributes,h=e||{},f={};for(a in s=n.call(p,l)?p[l]:[],s=[].concat(s,p["*"]),h)o=h[a],(-1!==s.indexOf(a)||d(a)&&-1!==s.indexOf("data*"))&&null!=(o=o&&"object"==typeof o&&"length"in o?u(t,o,a):c(t,o,a))&&(f[a]=o);return f},children:l},text:{value:h},"*":{data:f,position:f}};function o(t,e,i){var s,o,l,u,c=e&&e.type,p={type:e.type},m=!0;if(n.call(a,c))if("function"==typeof(s=a[c])&&(s=s(t,e)),s)for(u in o=r(s,a["*"]))!1===(l=o[u](t,e[u],e,i))?(m=!1,p[u]=e[u]):null!=l&&(p[u]=l);else m=!1;else m=!1;return m?p:p.children&&0!==p.children.length&&-1===t.strip.indexOf(p.tagName)?p.children:null}function l(t,e,i,r){var s,n=e||[],a=n.length||0,l=[],u=-1;for(r=r.concat(i.tagName);++u<a;)(s=o(t,n[u],r))&&("length"in s?l=l.concat(s):l.push(s));return l}function u(t,e,i){for(var r,s=e.length,n=[],a=-1;++a<s;)null!=(r=c(t,e[a],i))&&n.push(r);return n}function c(t,e,i){return"boolean"!=typeof e&&"number"!=typeof e&&"string"!=typeof e?null:function(t,e,i){var r,s,a,o,l,u=t.protocols;if(0===(u=n.call(u,i)?u[i].concat():[]).length)return!0;if(e=String(e),"#"===(s=e.charAt(0))||"/"===s)return!0;if(-1===(a=e.indexOf(":")))return!0;o=u.length,l=-1;for(;++l<o;)if(r=u[l],a===r.length&&e.slice(0,r.length)===r)return!0;if(-1!==(l=e.indexOf("?"))&&a>l)return!0;if(-1!==(l=e.indexOf("#"))&&a>l)return!0;return!1}(t,e,i)?(-1!==t.clobber.indexOf(i)&&(e=t.clobberPrefix+e),e):null}function p(){return"html"}function m(t,e,i,r){var s,a,o="string"==typeof e?e:null,l=t.ancestors;if(!o||"*"===o||-1===t.tagNames.indexOf(o))return!1;if(0!==(l=n.call(l,o)?l[o]:[]).length)for(s=l.length+1,a=-1;++a<s;){if(!l[a])return!1;if(-1!==r.indexOf(l[a]))break}return o}function h(t,e){return"string"==typeof e?e:""}function f(t,e){return e}function d(t){return t.length>4&&"data"===t.slice(0,4).toLowerCase()}},function(t){t.exports={strip:["script"],clobberPrefix:"user-content-",clobber:["name","id"],ancestors:{li:["ol","ul"],tbody:["table"],tfoot:["table"],thead:["table"],td:["table"],th:["table"],tr:["table"]},protocols:{href:["http","https","mailto"],cite:["http","https"],src:["http","https"],longDesc:["http","https"]},tagNames:["h1","h2","h3","h4","h5","h6","h7","h8","br","b","i","strong","em","a","pre","code","img","tt","div","ins","del","sup","sub","p","ol","ul","table","thead","tbody","tfoot","blockquote","dl","dt","dd","kbd","q","samp","var","hr","ruby","rt","rp","li","tr","td","th","s","strike","summary","details"],attributes:{a:["href"],img:["src","longDesc"],div:["itemScope","itemType"],blockquote:["cite"],del:["cite"],ins:["cite"],q:["cite"],"*":["abbr","accept","acceptCharset","accessKey","action","align","alt","axis","border","cellPadding","cellSpacing","char","charoff","charSet","checked","clear","cols","colSpan","color","compact","coords","dateTime","dir","disabled","encType","htmlFor","frame","headers","height","hrefLang","hspace","isMap","id","label","lang","maxLength","media","method","multiple","name","nohref","noshade","nowrap","open","prompt","readOnly","rel","rev","rows","rowSpan","rules","scope","selected","shape","size","span","start","summary","tabIndex","target","title","type","useMap","valign","value","vspace","width","itemProp"]}}},function(t,e,i){"use strict";t.exports=function(t){var e=t||{},i=e.createElement||r,c=!1!==e.sanitize,p=c&&"boolean"!=typeof e.sanitize?e.sanitize:null,m=e.toHast||{},h=e.remarkReactComponents||{};function f(t,e,r){var s=l.call(h,t)?h[t]:t;return r&&-1!==u.indexOf(s)&&(r=r.filter(function(t){return"\n"!==t})),i(s,e,r)}this.Compiler=function(t){var i={type:"element",tagName:"div",properties:{},children:s(t,m).children};c&&(i=n(i,p));return i=o(i),a(f,i,e.prefix)}};var r,s=i(506),n=i(521),a=i(425),o=i(762);try{r=i(1).createElement}catch(t){}var l={}.hasOwnProperty,u=["table","thead","tbody","tfoot","tr"]},function(t,e,i){"use strict";var r=i(409),s=Object.prototype.hasOwnProperty,n={align:"text-align",valign:"vertical-align",height:"height",width:"width"};function a(t){var e;if("tr"===t.tagName||"td"===t.tagName||"th"===t.tagName)for(e in n)s.call(n,e)&&void 0!==t.properties[e]&&(o(t,n[e],t.properties[e]),delete t.properties[e])}function o(t,e,i){var r=(t.properties.style||"").trim();r&&!/;\s*/.test(r)&&(r+=";"),r&&(r+=" ");var s=r+e+": "+i+";";t.properties.style=s}t.exports=function(t){return r(t,"element",a),t}}])]);
//# sourceMappingURL=9-a659f5ec04d50b75c1a5.js.map