{"componentChunkName":"component---src-components-blog-post-js","path":"/problem/icpc/asia_jakarta_2018/F","result":{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"é¡Œç›®æ•˜è¿°"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"showvariable","properties":{"varname":"description"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å…¥èªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"è¼¸å…¥çš„ç¬¬ä¸€åˆ—åŒ…å«å…©å€‹æ­£æ•´æ•¸ $N, M$ ï¼ˆ$1\\le N\\le 100000; 1\\le M\\le 10^9$ï¼‰ä¾åºä»£è¡¨é¡Œç›®çš„æ•¸é‡èˆ‡æ¯”è³½çš„æ™‚é–“é•·åº¦ã€‚ç¬¬äºŒåˆ—åŒ…å« $N$ å€‹æ•´æ•¸ $A_i$ï¼ˆ$1\\le A_i\\le 10^9$ï¼‰ï¼Œç¬¬ä¸‰åˆ—åŒ…å« $N$ å€‹æ•´æ•¸ $B_i$ï¼ˆ$1\\le B_i\\le 10^9$ï¼‰ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å‡ºèªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å¦‚æœä¸å­˜åœ¨ä»»ä½•æ–¹æ³•ä½¿å¾— Ayu æœ€çµ‚é¡Œæ•¸åš´æ ¼å¤§æ–¼ Budi çš„é¡Œæ•¸ï¼Œè¼¸å‡º "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"-1"}]},{"type":"text","value":"ã€‚å¦å‰‡çš„è©±è¼¸å‡ºä¸€å€‹æ•´æ•¸ $K$ï¼Œç„¶å¾Œåœ¨ç¬¬äºŒåˆ—è¼¸å‡º $K$ å€‹åš´æ ¼éå¢çš„æ•¸å­—ï¼šAyu åªè¦åœ¨é€™äº›æ™‚é–“é»æˆ³ç ´æ°£çƒï¼Œå°±å¯ä»¥è´é Budiã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"4 30\n9 10 10 10\n4 10 5 10\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"2\n12 19\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"5 50\n10 10 10 10 10\n15 12 19 17 20\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"0\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"5 10\n15 10 5 5 5\n9 10 10 10 10\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"-1\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"OJ é€£çµ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://codeforces.com/gym/102001/problem/F"},"children":[{"type":"text","value":"Codeforces Gym 102001 - F"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è§£æ³•"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ä¿—è©±èªªå¾—å¥½ï¼š"},{"type":"element","tagName":"s","properties":{},"children":[{"type":"text","value":"æ°£çƒæ†ä¹…é ï¼Œä¸€é¡†æ°¸æµå‚³ã€‚"}]},{"type":"text","value":"å¦‚æœ Ayu åœ¨ Budi è§£é¡Œç›®è§£åˆ°ä¸€åŠçš„æ™‚å€™æˆ³ç ´æ°£çƒåš‡åš‡ä»–ï¼Œå€’ä¸å¦‚å¤šç­‰ä¸€ä¸‹ï¼Œåœ¨ Budi å³å°‡è§£å‡ºä¾†çš„é‚£å‰é‚£"},{"type":"element","tagName":"s","properties":{},"children":[{"type":"text","value":"èªªæ™‚é²é‚£æ™‚å¿«"}]},{"type":"text","value":"å†æŠŠæ°£çƒæˆ³ç ´ï¼Œè®“ Budi é‡ä¾†æ„Ÿè¦ºè±ˆä¸æ˜¯æ›´å¥½å—ï¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å‡è¨­æˆ‘å€‘æœ‰å€‹ç­”æ¡ˆï¼Œé‚£æˆ‘å€‘å¯ä»¥æŠŠ Budi çš„è§£é¡Œå¿ƒè·¯æ­·ç¨‹è¨˜éŒ„ä¸‹ä¾†ï¼Œæ¯”æ–¹èªªï¼ˆç´…è‰²çš„å­—ä»£è¡¨è¢«åš‡åˆ°æ‰€ä»¥æ²’æœ‰è§£å‡ºè©²é¡Œï¼‰ï¼š"}]},{"type":"text","value":"\n$$\nB_1, B_2, \\red{B_3}, \\red{B_3}, B_3, \\red{B_4}, B_4, B_5, ...\n$$\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å¦‚æœä»Šå¤© $B_3 < B_4$ï¼Œé‚£éº¼ Ayu ç¸½æ˜¯å¯ä»¥å†å¤šç­‰ä¸€ä¸‹ï¼Œè®“ Budi é‡åš $B_4$ ç¸½æ˜¯æ¯”é‡åš $B_3$ è³ºæ›´å¤šï¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ä»¥ä¸Šçš„è§€å¯Ÿå¼•å°æˆ‘å€‘ä½¿ç”¨ã€Œå †ç–Šã€çš„è§£æ³•ï¼Œå»æ¨¡æ“¬ Ayu çš„é¸æ“‡ï¼ŒæŠŠå¾—åˆ°çš„æ°£çƒèŠ±åœ¨ Budi çš„å“ªäº›é¡Œç›®ä¸Šé ­ã€‚æˆ‘å€‘ç¶­è­·ä¸€å€‹å †ç–Šï¼Œå¾å †ç–Šåº•éƒ¨åˆ°é ‚éƒ¨ï¼Œæ°¸é æ˜¯ã€Œä»»å‹™ç·¨è™Ÿéå¢ã€æ‰€èŠ±è²»æ™‚é–“åš´æ ¼éæ¸›ã€ä¸¦ä¸”ç´€éŒ„æœ‰å¤šå°‘é¡†æ°£çƒèŠ±åœ¨é€™é¡Œä¸Šé¢ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ä»¥ä¸‹é¢é€™å€‹ä¾‹å­è€Œè¨€ï¼Œå‡è¨­ Ayu å¯ä»¥åœ¨ä»¥ä¸‹æ™‚é–“ 8, 20, 40, 48, 56, 65, 109, 114, 117, 118 åˆ†åˆ¥ç²å¾—æ°£çƒï¼Œé‚£å †ç–Šçš„æ”¹è®Šçœ‹èµ·ä¾†æœƒåƒé€™æ¨£ï¼š"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"algorithm","properties":{},"children":[{"type":"text","value":"\n    "},{"type":"element","tagName":"generator","properties":{},"children":[{"type":"element","tagName":"pre","properties":{},"children":[{"type":"text","value":"        function*(input, ui) {\n            var B = input.B;\n            var C = input.C;\n            var n = B.length;\n            var s = [];\n            var show = function(stack) {\n                return stack.map((x) => `B[${x[0]}] = ${B[x[0]]}\\né‡åš=${x[1]}`);\n            };\n            var bshow = function(b, s) {\n                var bmsg = [];\n                var i;\n                var v = 0;\n                for (i = 0; i < b.length; i++) {\n                    var msg = '-';\n                    v += b[i];\n                    for (j = 0; j < s.length; j++) {\n                        if (s[j][0] === i) {\n                            msg = `é‡åš ${s[j][1]} æ¬¡`;\n                            v += s[j][1] * b[i];\n                        }\n                    }\n                    bmsg.push(`${b[i]}\\n${msg}\\nå®Œæˆæ™‚é–“=${v}`);\n                }\n                return bmsg;\n            };\n            var i, j;\n            for (i = 0; i < n; i++) {\n                s.push([i, C[i]]);\n                for (j = 0; j < s.length-1; j++) {\n                        ui.setStyleOnce('arr', `${j}`, {fill: 'lightyellow'});\n                        ui.setStyleOnce('B', `${s[j][0]}`, {fill: 'lightyellow'});\n                    }\n                ui.setStyleOnce('B', `${i}`, {fill: 'cyan'});\n                ui.setStyleOnce('arr', `${s.length-1}`, {fill: 'cyan'});\n                yield ({B: bshow(B,s), arr: show(s)});\n                while (s.length >= 2 &&\n                    B[s[s.length-1][0]] >=\n                    B[s[s.length-2][0]]) {\n                        s[s.length-2][1] += s[s.length-1][1];\n                        s[s.length-2][0] = s[s.length-1][0];\n                        s.pop();\n                    for (j = 0; j < s.length-1; j++) {\n                        ui.setStyleOnce('arr', `${j}`, {fill: 'lightyellow'});\n                        ui.setStyleOnce('B', `${s[j][0]}`, {fill: 'lightyellow'});\n                    }\n                    ui.setStyleOnce('B', `${i}`, {fill: 'cyan'});\n                    ui.setStyleOnce('arr', `${s.length-1}`, {fill: 'cyan'});\n                    yield ({B: bshow(B,s), arr: show(s)});\n                }\n            }\n            for (j = 0; j < s.length; j++) {\n                        ui.setStyleOnce('arr', `${j}`, {fill: 'lightyellow'});\n                        ui.setStyleOnce('B', `${s[j][0]}`, {fill: 'lightyellow'});\n                    }\n            return {B: bshow(B,s), arr: show(s)};\n        }\n        "}]},{"type":"text","value":"\n    "}]},{"type":"text","value":"\n    "},{"type":"element","tagName":"inputdata","properties":{"data":"{\"B\": [8, 10, 5, 3, 1, 9, 6, 7, 4, 2],\n               \"C\": [1, 1, 2, 1, 0, 1, 0, 0, 1, 3]}"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"indirectdisplay","properties":{"array":"","fixedwidth":"","minwidth":"30","highlightdiff":"","varname":"B"},"children":[]},{"type":"text","value":"\n    "},{"type":"element","tagName":"indirectdisplay","properties":{"array":"","fixedwidth":"","n":"5","minwidth":"30","highlightdiff":"","varname":"arr"},"children":[]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å¦‚æœç¸½æ¯”è³½æ™‚é–“ $M=119$ï¼Œé‚£éº¼ Ayu èƒ½è®“ Budi åœ¨ç¬¬ 119 åˆ†é˜çš„æ™‚å€™é‚„åšä¸å‡ºæœ€å¾Œä¸€é¡Œï¼Œå› æ­¤ Ayu èƒ½å¤ ç²å‹ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"åƒè€ƒç¨‹å¼ç¢¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-cpp"]},"children":[{"type":"text","value":"#include <iostream>\n#include <vector>\nusing namespace std;\n\nint main() {\n  int N, M;\n  cin.sync_with_stdio(false);\n  cin >> N >> M;\n  vector<long long> A(N), B(N);\n\n  for (int i = 0; i < N; i++) cin >> A[i];\n  for (int i = 0; i < N; i++) cin >> B[i];\n\n  // å…ˆç®—å‡º Ayu æ‹¿åˆ°æ¯é¡†æ°£çƒçš„æ™‚é–“é»ï¼Œä¸¦ç®—å‡º Ayu å¯ä»¥è§£å¹¾é¡Œã€‚\n  int nsolved = 0;\n  for (int i = 1; i < N; i++) A[i] += A[i - 1];\n  for (int i = 0; i < N; i++) nsolved += (A[i] <= M);\n\n  // æˆ‘å€‘ç›®æ¨™å°±æ˜¯è¦è®“ Budi è§£å‡ºç¬¬ nsolved çš„æ™‚é–“åš´æ ¼å¤§æ–¼ Mã€‚\n  long long t = 0;\n  vector<pair<int, int>> stack;\n  for (int i = 0, j = 0; i < nsolved; i++) {\n    int balloons = 0;\n    while (!stack.empty() && B[stack.back().first] <= B[i]) {\n      balloons += stack.back().second;\n      t -= stack.back().second * B[stack.back().first];\n      stack.pop_back();\n    }\n    t += B[i] * (balloons + 1);\n    while (j < nsolved && A[j] <= t) {\n      ++j;\n      ++balloons;\n      t += B[i];\n    }\n    stack.push_back(make_pair(i, balloons));\n  }\n\n  // å¦‚æœé‚„æ˜¯åœ¨ M åˆ†é˜å…§è§£å‡ºä¾†äº†ï¼Œå°±è¼¸å‡º -1ã€‚\n  if (t <= M) {\n    cout << \"-1\" << endl;\n    return 0;\n  }\n\n  // è¨ˆç®—æ¯é¡†æ°£çƒè¢«æˆ³ç ´çš„æ™‚é–“ã€‚\n  t = 0;\n  int j = 0;\n  vector<long long> ans;\n  for (auto [i, b] : stack) {\n    while (j < i) t += B[j++];\n    for (int l = 0; l < b; l++)\n      ans.push_back(t += B[i]);\n  }\n\n  // è¼¸å‡ºç­”æ¡ˆã€‚\n  while (!ans.empty() && ans.back() > M) ans.pop_back();\n  cout << ans.size() << endl;\n  for (auto x : ans) cout << x << \" \";\n  cout << endl;\n  return 0;\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"é—œæ–¼ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ğŸ… å¦‚æœæ‚¨æƒ³åˆ°æ›´å¤šæœ‰è¶£æ¼‚äº®ç°¡å–®ä¹¾æ·¨çš„è§£æ³•è©±æ­¡è¿ç•™è¨€çµ¦ç«¶ç¨‹æ—¥è¨˜å°ç·¨ç¾¤ï¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"â„¹ï¸ é€™æ˜¯ä¸€ç¯‡æŠ•ç¨¿çµ¦"},{"type":"element","tagName":"a","properties":{"href":"https://www.facebook.com/%E7%AB%B6%E7%A8%8B%E6%97%A5%E8%A8%98-1514973425463954/"},"children":[{"type":"text","value":"ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"çš„æ–‡ç« ï¼Œæ­¡è¿å¤§å®¶æŠ•ç¨¿ã€äº¤æµèˆ‡åˆ†äº«ç¨‹å¼è§£é¡Œç«¶è³½çš„é»é»æ»´æ»´ï¼"}]}],"data":{"quirksMode":false}},"frontmatter":{"date":"January 03, 2019","path":"/problem/icpc/asia_jakarta_2018/F","title":"Popping Balloons","description":"Ayu å’Œ Budi æ­£åœ¨ä¸€å ´é¡ä¼¼ ICPC çš„æ¯”è³½ä¸Šé¢æ±ºé¬¥ã€‚é€™æ¨£çš„æ¯”è³½é¡Œç›®ç¸½å…±æœ‰ $N$ é¡Œï¼Œç„¶è€Œï¼Œåƒè³½è€…æ¯”é ˆæŒ‰ç…§æŒ‡å®šé †åºä¾åºè§£é¡Œã€‚\n\nAyu ç†ŸçŸ¥å¥¹è‡ªå·±èˆ‡ Budi è§£æ¯ä¸€é¡Œçš„èƒ½åŠ›ï¼Œå› æ­¤ï¼ŒAyu èƒ½å¤ äº‹å…ˆå¾—çŸ¥å…©å€‹é™£åˆ— $A_{1, \\ldots, N}$ ä»¥åŠ $B_{1, \\ldots, N}$ï¼Œå…¶ä¸­ $A_i$ èˆ‡ $B_i$ åˆ†åˆ¥è¡¨ç¤º Ayu å’Œ Budi è§£å‡ºç¬¬ $i$ é¡Œæ‰€éœ€è¦çš„æ™‚é–“ã€‚\n\næ•…äº‹æ˜¯é€™æ¨£çš„ï¼ŒAyu çŸ¥é“ Budi å°çªç„¶çš„å·¨å¤§è²éŸ¿ç›¸ç•¶æ•æ„Ÿï¼Œæ¯”æ–¹èªªç•¶æ°£çƒçˆ†ç‚¸çš„æ™‚åˆ»ã€‚ä¸€æ—¦ Budi å—åˆ°é©šåš‡ï¼Œä»–æ‰‹é‚Šçš„å·¥ä½œå°±æœƒç«‹å³åœæ“ºï¼Œè€Œä¸”ç•¶ä¸‹è§£çš„é¡Œç›®å¿…é ˆ**é‡é ­é–‹å§‹**è§£ã€‚å¦‚æœåœ¨æ°å¥½è¦è§£å‡ºä¸€é¡Œçš„ç•¶ä¸‹è¢«åš‡åˆ°ï¼ŒBudi ä¹Ÿå¾—å¾é ­é–‹å§‹æ‰è¡Œã€‚\n\nAyu æƒ³åˆ©ç”¨é€™é»å‹é Budiï¼Œå¥¹å”¯ä¸€èƒ½å¤ åˆ©ç”¨çš„ï¼Œå°±æ˜¯è‡ªå·±è§£å‡ºé¡Œç›®çš„ç•¶ä¸‹æ‰€ç²å¾—çš„æ°£çƒã€‚ä½ å¯ä»¥å‡è¨­ Ayu ä¸€æ—¦è§£å‡ºé¡Œç›®å°±å¯ä»¥ç«‹å³ç²å¾—æ°£çƒï¼Œä¹Ÿå¯ä»¥ç«‹å³æˆ³ç ´æ°£çƒï¼ˆå¦‚æœ Budi åŒæ™‚å³å°‡è§£å®Œï¼Œå¯æ†çš„ Budi å°±å¾—é‡é ­é–‹å§‹ï¼‰ã€‚è«‹å• Ayu æ˜¯å¦æœ‰æˆ³æ°£çƒçš„ç­–ç•¥ä½¿å¾—åœ¨æ™‚é–“ $M$ çµæŸçš„ç•¶ä¸‹ï¼ŒAyu è§£å‡ºçš„é¡Œæ•¸**åš´æ ¼å¤§æ–¼** Budi çš„å‘¢ï¼Ÿ\n","roadmap_label_h3":null,"backlink":"/icpcblog-weekly-2019","css_title_theme":null,"css_content_theme":null,"math_font":null}}},"pageContext":{}},"staticQueryHashes":["1470849938","511501522"]}