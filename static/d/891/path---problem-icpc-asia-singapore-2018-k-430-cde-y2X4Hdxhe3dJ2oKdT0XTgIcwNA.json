{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"ç°¡åŒ–å¾Œé¡Œç›®æ•˜è¿°"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"showvariable","properties":{"varname":"description"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å…¥èªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"è¼¸å…¥ç¬¬ä¸€åˆ—åŒ…å«ä¸‰å€‹æ•´æ•¸ $N, K, M$ ($1\\le N, K\\le 300; 0\\le M\\le 1000$)ï¼Œä»£è¡¨è²¨ç‰©é›†æ•£åœ°ã€ç”Ÿç”¢æ©Ÿå™¨ã€ä»¥åŠè¼¸é€å¸¶çš„æ•¸é‡ã€‚\næ¥ä¸‹ä¾†çš„ $M$ åˆ—æ¯ä¸€åˆ—æœ‰å…©å€‹æ­£æ•´æ•¸ $a, b$ ($1\\le a, b\\le N$)ï¼Œä»£è¡¨æœ‰ä¸€æ¢è¼¸é€å¸¶å¯å°‡è²¨ç‰©å¾ç·¨è™Ÿ $a$ çš„é›†æ•£åœ°é€å¾€ç·¨è™Ÿç‚º $b$ çš„é›†æ•£åœ°ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å‡ºèªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"è«‹è¼¸å‡ºæœ€å¤šå¯ä¿ç•™çš„ç”Ÿç”¢æ©Ÿå™¨æ•¸é‡ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"4 2 3\n1 3\n2 3\n3 4\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"2\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"5 2 4\n1 3\n3 4\n2 4\n4 5\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"1\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"5 2 6\n1 4\n2 3\n3 4\n4 5\n2 4\n3 3\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"2\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"OJ é€£çµ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://open.kattis.com/problems/conveyorbelts"},"children":[{"type":"text","value":"Open Kattis - Conveyor Belts"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"é¡Œç›®å‡ºè™•"}]},{"type":"text","value":"ï¼šICPC 2018 Asia Singapore Regional"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è§£æ³•"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"æ³¨æ„åˆ°æ¯å›ºå®š $K$ åˆ†é˜å°±æœƒæœ‰å€‹å¾ªç’°ï¼Œå¦‚æœæŸæ¢è¼¸é€å¸¶åœ¨ç¬¬ $x$ åˆ†é˜æ˜¯æœ‰æ±è¥¿çš„ï¼Œé‚£éº¼å®ƒåœ¨ç¬¬ $x+K, x+2K, \\ldots$ åˆ†é˜ä¹Ÿæœƒæœ‰æ±è¥¿ã€‚å› æ­¤ï¼Œæˆ‘å€‘å¯ä»¥æŠŠæ•´å¼µåœ–è¤‡è£½ $K$ ä»½ï¼ŒåŸæœ¬çš„åœ–ä¸Šçš„é» $i$ æœƒè®Šæˆ $i_0, i_1, \\ldots, i_{K-1}$ï¼Œè€ŒåŸæœ¬åœ–ä¸Šçš„é‚Š $(i, j)$ æœƒè®Šæˆ $K$ æ¢é‚Šï¼šç¶“éäº†é€™æ¢è¼¸é€å¸¶ä»¥å¾Œï¼Œæ™‚é–“æœƒå¾æ¨¡ $K$ é¤˜ $r$ è®Šæˆæ¨¡ $K$ é¤˜ $(r+1)\\%K$ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å‰©ä¸‹å°±äº¤çµ¦ flow å•¦ï½æ­£ç¢ºçš„æ‰¾å‡ºæ¯å€‹è²¨å“ç”¢ç”Ÿçš„èµ·é» $i_i$ï¼Œç„¶å¾Œè©¦åœ–æ‰¾å‡ºä¸€æ¢å¢å»£è·¯å¾‘åˆ°ä»»ä½•ä¸€å€‹åŸæœ¬ç·¨è™Ÿæ˜¯ $N$ çš„ç¯€é» $N_r$ã€‚æœ€å¤§æµé‡å°±æ˜¯èƒ½å¤ ç”Ÿç”¢çš„è²¨å“æ•¸ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"åƒè€ƒç¨‹å¼ç¢¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ç”±æ–¼æˆ‘å€‘æ§‹é€ å‡ºä¾†çš„åœ–ä¸Šæ‰€æœ‰é‚Šéƒ½æ˜¯å–®ä½æµé‡ï¼Œå› æ­¤ä½¿ç”¨ Dinitz æ¼”ç®—æ³•æ™‚é–“è¤‡é›œåº¦æœƒæ˜¯ $O(\\text{é‚Šæ•¸}\\sqrt{\\text{é»æ•¸}}) = O((MK)\\sqrt{NK}) \\approx 9\\times 10^7$ã€‚åœ¨ä»¥ä¸‹çš„ç¨‹å¼ç¢¼ä¸­ï¼Œæˆ‘ç¨å¾®å·æ‡¶äº†ä¸€ä¸‹ç›´æ¥ç”¨é¡ä¼¼äºŒåˆ†åœ–åŒ¹é…çš„æ–¹æ³• DFS æ‰¾å‡ºå¢å»£è·¯å¾‘ï¼ˆåœ¨æ²’æ‰¾åˆ°å¢å»£è·¯å¾‘æ™‚ä¸æ›´æ–°ç¾æœ‰ DFS æ¨™è¨˜ï¼‰ï¼Œä¼¼ä¹è·‘èµ·ä¾†æ»¿å¿«çš„ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-cpp"]},"children":[{"type":"text","value":"#include <bits/stdc++.h>\nusing namespace std;\n\nstruct Edge {\n  int to, cap, rev;\n  Edge(int _to, int _cap, int _rev): to(_to), cap(_cap), rev(_rev) {}\n};\n\nclass FlowNetwork {\n  public:\n    int n, sink;\n    vector<vector<Edge>> adj;\n    int mark;\n    vector<int> marks;\n    FlowNetwork(int _n, int _sink): n(_n), sink(_sink) {\n      adj.resize(n);\n      marks.resize(n, 0);\n      mark = 1;\n    }\n    void AddEdge(int x, int y, int c = 1) {\n      adj[x].emplace_back(y, c, adj[y].size());\n      adj[y].emplace_back(x, 0, adj[x].size()-1);\n    }\n    bool _DFS(int x) {\n      marks[x] = mark;\n      if (x == sink) return true;\n      for (auto& e: adj[x]) {\n        if (marks[e.to] != mark && e.cap > 0 && _DFS(e.to)) {\n          adj[e.to][e.rev].cap++;\n          e.cap--;\n          return true;\n        }\n      }\n      return false;\n    }\n    bool DFS(int s) {\n      if (_DFS(s)) {\n        mark++;\n        return true;\n      }\n      return false;\n    }\n};\n\nint main() {\n  int N, K, M;\n  cin >> N >> K >> M;\n  FlowNetwork g(N*K+1, N*K);\n  auto enc = [&](int i, int j) {\n    return (i-1)*K+j;\n  };\n  for (int j = 0; j < K; j++)\n    g.AddEdge(enc(N, j), g.sink, K);\n  while (M--) {\n    int x, y;\n    cin >> x >> y;\n    for (int j = 0; j < K; j++)\n      g.AddEdge(enc(x, j), enc(y, (j+1)%K));\n  }\n  int ans = 0;\n  for (int i = 1; i <= K; i++) {\n    if (g.DFS(enc(i, i%K)))\n      ++ans;\n  }\n  cout << ans << endl;\n  return 0;\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"é—œæ–¼ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ğŸ… å¦‚æœæ‚¨æƒ³åˆ°æ›´å¤šæœ‰è¶£æ¼‚äº®ç°¡å–®ä¹¾æ·¨çš„è§£æ³•è©±æ­¡è¿ç•™è¨€çµ¦ç«¶ç¨‹æ—¥è¨˜å°ç·¨ç¾¤ï¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"â„¹ï¸ é€™æ˜¯ä¸€ç¯‡æŠ•ç¨¿çµ¦"},{"type":"element","tagName":"a","properties":{"href":"https://www.facebook.com/%E7%AB%B6%E7%A8%8B%E6%97%A5%E8%A8%98-1514973425463954/"},"children":[{"type":"text","value":"ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"çš„æ–‡ç« ï¼Œæ­¡è¿å¤§å®¶æŠ•ç¨¿ã€äº¤æµèˆ‡åˆ†äº«ç¨‹å¼è§£é¡Œç«¶è³½çš„é»é»æ»´æ»´ï¼"}]}],"data":{"quirksMode":false}},"frontmatter":{"date":"January 20, 2019","path":"/problem/icpc/asia_singapore_2018/K","title":"Conveyor Belts","description":"æœ‰ $N$ å€‹è²¨å“é›†æ•£åœ°ï¼Œä»¥åŠ $M$ æ¢é€£æ¥æ©Ÿå™¨èˆ‡æ©Ÿå™¨ä¹‹é–“çš„è¼¸é€å¸¶ã€‚æ¯å€‹è¼¸é€å¸¶æ¯åˆ†é˜å¯ä»¥é‹é€ $1$ å€‹è²¨å“ã€‚æ°å¥½æœ‰ $K$ å€‹ç”Ÿç”¢è²¨å“çš„æ©Ÿå™¨æ­£åœ¨é‹ä½œç•¶ä¸­ï¼Œä»–å€‘çš„ä½ç½®å‰›å¥½åˆ†åˆ¥åœ¨ç¬¬ $1, 2, \\ldots, K$ å€‹è²¨å“é›†æ•£åœ°ã€‚ä»–å€‘æ¯ $K$ åˆ†é˜å°±æœƒåšå¥½ä¸€ä»½è²¨å“ï¼šå°ä»»æ„éè² æ•´æ•¸ $x\\ge 0$ï¼Œç·¨è™Ÿç‚º $j$ çš„æ©Ÿå™¨æœƒæ°å¥½åœ¨ç¬¬ $xK+j$ åˆ†é˜ç”¢å‡ºä¸€ä»½è²¨å“ã€‚\n\nè²¨å“å¯ä»¥ç¶“éä»»æ„äº‹å…ˆæŒ‡å®šçš„è·¯ç·šè¢«é€å¾€ç·¨è™Ÿç‚º $N$ çš„è²¨å“é›†æ•£åœ°ã€‚å…©å€‹ä»¥ä¸Šçš„è²¨ç‰©å¯ä»¥åŒæ™‚è¢«è¼¸é€è‡³ä»»ä¸€å€‹é›†æ•£åœ°ï¼Œä¸Šé ­çš„æ©Ÿå™¨æ‰‹è‡‚æœƒä»¥å¯å¿½ç•¥ï¼ˆå³æ™‚ï¼‰çš„é€Ÿåº¦å°‡è²¨ç‰©è½‰é€è‡³å…¶ä»–è¼¸é€å¸¶ä¸Šé¢ã€‚\n\nè«‹å•è‡³å¤šå¯ä»¥ä¿ç•™å¤šå°‘é‹ä½œä¸­çš„ç”Ÿç”¢æ©Ÿå™¨ï¼Œæ‰èƒ½å¤ ä¿è­‰è²¨ç‰©è¼¸é€é †æš¢ï¼Ÿ\n","roadmap_label_h3":null,"backlink":"/icpcblog-weekly-2019"}}},"pageContext":{}}