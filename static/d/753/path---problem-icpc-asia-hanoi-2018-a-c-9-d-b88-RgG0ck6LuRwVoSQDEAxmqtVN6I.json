{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"ç°¡åŒ–å¾Œé¡Œç›®æ•˜è¿°"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"showvariable","properties":{"varname":"description"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å…¥èªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"è¼¸å…¥åŒ…å«å¤šçµ„æ¸¬è©¦è³‡æ–™ï¼Œä¸¦ä»¥ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"0 0"}]},{"type":"text","value":" ä½œçµæŸã€‚æ¯ä¸€ç­†æ¸¬è©¦è³‡æ–™åŒ…å« 6 åˆ—ï¼š"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ç¬¬ä¸€åˆ—æœ‰å…©å€‹æ­£æ•´æ•¸ $N, M$ ï¼ˆ$1\\le M, N\\le 100$ï¼‰"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ç¬¬äºŒåˆ—æœ‰å…©å€‹æ­£æ•´æ•¸ $r_B, c_B$ï¼Œè¡¨ç¤ºè‹±æ–‡å­—æ¯ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"B"}]},{"type":"text","value":" çš„ä½ç½®ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ç¬¬ä¸‰åˆ—æœ‰å…©å€‹æ­£æ•´æ•¸ $r_C, c_C$ï¼Œè¡¨ç¤ºè‹±æ–‡å­—æ¯ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"C"}]},{"type":"text","value":" çš„ä½ç½®ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ç¬¬å››åˆ—æœ‰å…©å€‹æ­£æ•´æ•¸ $r_G, c_G$ï¼Œè¡¨ç¤ºè‹±æ–‡å­—æ¯ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"G"}]},{"type":"text","value":" çš„ä½ç½®ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ç¬¬äº”åˆ—æœ‰å…©å€‹æ­£æ•´æ•¸ $r_U, c_U$ï¼Œè¡¨ç¤ºè‹±æ–‡å­—æ¯ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"U"}]},{"type":"text","value":" çš„ä½ç½®ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ç¬¬å…­åˆ—ç‚ºç©ºç™½åˆ—ã€‚"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"è¼¸å…¥ä¿è­‰ $1\\le r_B, r_C, r_G, r_U \\le N$ ä¸” $1\\le c_B, c_C, c_G, c_U\\le M$ è€Œä¸”å››å€‹è‹±æ–‡å­—æ¯çš„ä½ç½®ä¸æœƒé‡ç–Šã€‚\næ‰€æœ‰è¼¸å…¥çš„ $N\\times M$ åŠ èµ·ä¾†ä¸æœƒè¶…é $10^5$ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"è«‹æ³¨æ„ï¼šåˆ—çš„ç·¨è™Ÿ"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"å¾ä¸‹å¾€ä¸Š"}]},{"type":"text","value":"ç·¨è™Ÿç‚º 1 åˆ° $N$ï¼›è¡Œçš„ç·¨è™Ÿ"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"å¾å·¦å¾€å³"}]},{"type":"text","value":"ç·¨è™Ÿç‚º 1 åˆ° $M$ã€‚"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å‡ºèªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å°æ–¼æ¯ä¸€ç­†æ¸¬è©¦è³‡æ–™è¼¸å‡º 1 æˆ– 2 åˆ—ã€‚\né¦–å…ˆè¼¸å‡ºæ˜¯å¦å­˜åœ¨æ»¿è¶³é¡Œç›®è¦æ±‚çš„è·¯å¾‘ï¼ˆ"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"YES"}]},{"type":"text","value":" æˆ– "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"NO"}]},{"type":"text","value":"ï¼‰ã€‚å¦‚æœç­”æ¡ˆæ˜¯ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"YES"}]},{"type":"text","value":"ï¼Œåœ¨ç¬¬äºŒåˆ—è¼¸å‡ºä»»ä½•ä¸€å€‹æ»¿è¶³æ¢ä»¶çš„æœ€çŸ­è·¯å¾‘ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"3 3\n1 1\n3 3\n2 1\n2 2\n\n3 4\n1 1\n3 4\n2 1\n1 2\n\n2 2\n2 1\n2 2\n1 2\n1 1\n\n0 0\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"YES\nRRUULLD\nNO\nYES\nRD\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"OJ é€£çµ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://open.kattis.com/problems/amazingadventures"},"children":[{"type":"text","value":"Open Kattis - Amazing Adventures"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è§£æ³•"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å¥½ä¸€é™£å­æ²’æœ‰é€™éº¼ç—›è‹¦åœ°å¯«ä¸€å€‹ç†è«–ä¸Šæœ‰æ¨¡æ¿å¾ˆå¥½å¯«çš„æ±è¥¿äº†ï¼ˆæ·šï¼‰"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"é€™é¡Œçš„é—œéµæ˜¯"},{"type":"element","tagName":"a","properties":{"href":"https://tmt514.github.io/algo/min-cost-max-flow"},"children":[{"type":"text","value":"æœ€å°è²»ç”¨æµ"}]},{"type":"element","tagName":"footnote","properties":{"goto":"1","show":"å‚™è¨» 1"},"children":[]},{"type":"text","value":"ï¼ˆæˆ–è€…ï¼Œä½ å¯ä»¥èªªè²ªå¿ƒåœ°åšå…©æ¬¡æœ€çŸ­è·¯å¾‘ã€‚ï¼‰\næ¯å€‹æ ¼å­ä¸èƒ½ç¶“éè¶…éä¸€æ¬¡é€™å€‹æ¢ä»¶ï¼Œçµ¦æˆ‘å€‘ä¸€å€‹å¾ˆå¤§çš„æç¤ºï¼šè¦å˜›é€™é¡Œæ˜¯ç¶²è·¯æµã€è¦å˜›é€™æ˜¯çˆ†æœæˆ–é€£é€šæ€§DPã€‚\næˆ‘å€‘å¯ä»¥ä»¤ä¸­ç¹¼çš„ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"C"}]},{"type":"text","value":" ä½œç‚º sinkï¼Œè€Œé–‹é ­èˆ‡çµæŸçš„ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"B"}]},{"type":"text","value":" èˆ‡ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"G"}]},{"type":"text","value":" ä½œç‚º sourceï¼Œä¸¦å»ºç«‹ç¶²è·¯æµçš„åœ–ï¼šå°æ–¼æ¯ä¸€å€‹æ ¼å­ $(i, j)$ æˆ‘å€‘éƒ½æŠŠä»–è®Šæˆå…©å€‹é» $(i, j)_{in}$ è·Ÿ $(i, j)_{out}$ï¼Œç„¶å¾Œæœ‰ä¸€æ¢é‚Šå¾ in é€£åˆ° outï¼Œcost=1ã€‚æ­¤å¤–ï¼Œå°æ–¼ç›¸é„°çš„å…©å€‹æ ¼å­ï¼Œæ¯”æ–¹èªª $(i, j)$ å’Œ $(i, j+1)$ã€‚æˆ‘å€‘ä¹Ÿå»ºç«‹å…©æ¢é‚Š $(i, j)_{out}\\to (i, j+1)_{in}$ ä»¥åŠ $(i, j+1)_{out}\\to (i, j)_{in}$ï¼ˆè«‹æ³¨æ„éƒ½æ˜¯å¾ out é€£åˆ° inï¼‰ï¼Œcost=0ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"åœ¨é€™æ¨£çš„åœ–ä¸Šé¢æ‰¾å…©æ¢ã€Œé»ä¸é‡è¤‡çš„è·¯å¾‘ã€ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"B"}]},{"type":"text","value":"$\\to$"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"C"}]},{"type":"text","value":"ã€"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"G"}]},{"type":"text","value":"$\\to$"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"C"}]},{"type":"text","value":"ï¼Œè€Œä¸”è®“ç¸½ cost æœ€å°ï¼Œå°±ç­‰åƒ¹æ–¼æ‰¾å‡ºæœ€çŸ­çš„å¾ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"B"}]},{"type":"text","value":"$\\to$"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"C"}]},{"type":"text","value":"$\\to$"},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"G"}]},{"type":"text","value":" è·¯å¾‘ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"åƒè€ƒç¨‹å¼ç¢¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"æœ‰æ¨¡æ¿æœƒå¥½å¾ˆå¤šå¾ˆå¤šå¾ˆå¤šï¼\nå¦‚æœæ²’æœ‰çš„è©±ï¼Œå¯«èµ·ä¾†å¤§æ¦‚ç¹ªåƒæˆ‘é€™æ¨£æ…˜æ…˜çš„ã€‚æœ‰ä¸€äº›å¯¦ä½œä¸Šçš„å·æ‡¶ç´°ç¯€åœ¨é€™é‚Šï¼š"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"æ¯ä¸€æ¬¡éƒ½ç”¨ priority queue ç‰ˆæœ¬çš„ SPFA æ‰¾æœ€çŸ­è·¯å¾‘ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"æ¯ä¸€æ¢é‚Šé‚„è‡ªå¸¶è¼¸å‡ºå­—å…ƒï¼Œé€™æ¨£åœ¨æ‰¾è§£çš„æ™‚å€™å°±ä¸éœ€è¦æ€è€ƒé€™æ¢é‚Šåˆ°åº•è¦çµ¦ä»– "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"U"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"D"}]},{"type":"text","value":", "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"L"}]},{"type":"text","value":" é‚„æ˜¯ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"R"}]},{"type":"text","value":" äº†ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"ä¸‹é¢ç¨‹å¼ç¢¼è£¡é¢çš„é€†å‘é‚Šé€šé€šæ¨™è¨˜ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"#"}]},{"type":"text","value":"ï¼Œé€™æ¨£å¯ä»¥é †ä¾¿å¾—çŸ¥é€™æ¢é‚Šçš„ cost åˆ°åº•æ˜¯ $1$ é‚„æ˜¯ $-1$ï¼ˆå¦‚æœæ²¿è‘—é€†å‘é‚Šæµï¼Œé‚£ cost å°±æ˜¯ $-1$ï¼Œåä¹‹ç‚º $1$ï¼‰ã€‚"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-cpp"]},"children":[{"type":"text","value":"#include <bits/stdc++.h>\nusing namespace std;\n\nstruct Edge {\n  int to;\n  int capacity;\n  int reversed_index;\n  char ch;\n  Edge(int _to, int _c, int _r, char _ch): to(_to), capacity(_c), reversed_index(_r), ch(_ch) {}\n};\n\nclass FlowNetwork {\n  public:\n    int nid, sink;\n    vector<vector<Edge>> edges;\n    FlowNetwork() : nid(0) {\n      edges.clear();\n    }\n    void SetSink(int _sink) { sink = _sink; }\n    int AddNode() {\n      edges.push_back(vector<Edge>());\n      return nid++;\n    }\n    void AddEdge(int from, int to, char mark) {\n      edges[from].emplace_back(to, 1, (int)edges[to].size(), mark);\n      edges[to].emplace_back(from, 0, (int)edges[from].size()-1, '#');\n    }\n    bool SPFA(int x) {\n      priority_queue<pair<int, int>> Q;\n      vector<int> dist(nid, 1e9);\n      vector<Edge> last(nid, Edge(-1,-1,-1,'X'));\n      dist[x] = 0;\n      Q.push({0, x});\n\n      while (!Q.empty()) {\n        auto it = Q.top(); Q.pop();\n        int d = -it.first;\n        int x = it.second;\n        if (d != dist[x]) continue;\n\n        for (auto&& e : edges[x]) {\n          if (e.capacity) {\n            int nd = d + (e.ch == '#' ? -1 : 1);\n            if (dist[e.to] > nd) {\n              dist[e.to] = nd;\n              last[e.to] = edges[e.to][e.reversed_index];\n              Q.push({ -nd, e.to });\n            }\n          }\n        }\n      }\n      if (last[sink].to == -1) return false;\n      x = sink;\n      while (last[x].to != -1) {\n        Edge& e = edges[last[x].to][last[x].reversed_index];\n        e.capacity--;\n        edges[e.to][e.reversed_index].capacity++;\n        x = last[x].to;\n      }\n      return true;\n    }\n    string Trace(int x) {\n      string ret = \"\";\n      while (x != sink) {\n        for (auto&& e : edges[x]) {\n          if (e.ch != '#' && e.capacity == 0) {\n            x = e.to;\n            if (e.ch != 'X') ret += e.ch;\n          }\n        }\n      }\n      return ret;\n    }\n};\n\nint ids[105][105][2];\n\nbool solve() {\n  int M, N;\n  // è«‹ä¸è¦è®€åè¼¸å…¥ï¼Œé€™æ¨£æœƒ debug å¾ˆä¹…ï¼ˆæ·šï¼‰ã€‚\n  cin >> N >> M;\n\n  if (M == 0 && N == 0) return false;\n  FlowNetwork g;\n\n  // å…ˆå®šç¾©é€™å€‹åœ–ä¸Šçš„é»ã€‚\n  for (int i = 1; i <= N; i++) {\n    for (int j = 1; j <= M; j++) {\n      ids[i][j][0] = g.AddNode();\n      ids[i][j][1] = g.AddNode();\n    }\n  }\n\n  int rB, cB, rC, cC, rG, cG, rU, cU;\n  cin >> rB >> cB >> rC >> cC >> rG >> cG >> rU >> cU;\n\n  // æŠŠåœ–ä¸Šçš„é‚Šå»ºç«‹èµ·ä¾†ï¼Œè¨˜å¾—è¦è·³é (rU, cU) é€™æ ¼ã€‚\n  for (int x = 1; x <= N; x++) {\n    for (int y = 1; y <= M; y++) {\n      if (x == rU && y == cU) continue;\n      g.AddEdge(ids[x][y][0], ids[x][y][1], 'X');\n      const int dx[4] = {0, 1, 0, -1};\n      const int dy[4] = {1, 0, -1, 0};\n      const string dir = \"RULD\";\n      for (int f = 0; f < 4; f++) {\n        int nx = x + dx[f], ny = y + dy[f];\n        if (nx == rU && ny == cU) continue;\n        if (nx >= 1 && nx <= N && ny >= 1 && ny <= M) {\n          g.AddEdge(ids[x][y][1], ids[nx][ny][0], dir[f]);\n        }\n      }\n    }\n  }\n\n  g.SetSink(ids[rC][cC][0]);\n  if (g.SPFA(ids[rB][cB][0]) && g.SPFA(ids[rG][cG][0])) {\n    auto A = g.Trace(ids[rB][cB][0]);\n    auto B = g.Trace(ids[rG][cG][0]);\n    reverse(B.begin(), B.end());\n    for (auto&& x : B) {\n      if (x == 'U') x = 'D';\n      else if (x == 'D') x = 'U';\n      else if (x == 'L') x = 'R';\n      else if (x == 'R') x = 'L';\n    }\n    cout << \"YES\" << '\\n';\n    cout << A << B << '\\n';\n  } else {\n    cout << \"NO\" << '\\n';\n  }\n  \n  return true;\n}\n\nint main() {\n  while (solve());\n  return 0;\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"å‚™è¨» 1"},{"type":"element","tagName":"footnote","properties":{"here":"1"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"éœ€è¦é—œæ–¼é€™é¡Œæ›´è©³ç›¡çš„è³‡æºè«‹åƒè€ƒ "},{"type":"element","tagName":"a","properties":{"href":"https://stackoverflow.com/questions/11880738/shortest-two-disjoint-paths-between-two-specified-vertices"},"children":[{"type":"text","value":"Stackoverflow - Shortest two disjoint paths between two specified vertices"}]},{"type":"text","value":"ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"é—œæ–¼ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ğŸ… å¦‚æœæ‚¨æƒ³åˆ°æ›´å¤šæœ‰è¶£æ¼‚äº®ç°¡å–®ä¹¾æ·¨çš„è§£æ³•è©±æ­¡è¿ç•™è¨€çµ¦ç«¶ç¨‹æ—¥è¨˜å°ç·¨ç¾¤ï¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"â„¹ï¸ é€™æ˜¯ä¸€ç¯‡æŠ•ç¨¿çµ¦"},{"type":"element","tagName":"a","properties":{"href":"https://www.facebook.com/%E7%AB%B6%E7%A8%8B%E6%97%A5%E8%A8%98-1514973425463954/"},"children":[{"type":"text","value":"ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"çš„æ–‡ç« ï¼Œæ­¡è¿å¤§å®¶æŠ•ç¨¿ã€äº¤æµèˆ‡åˆ†äº«ç¨‹å¼è§£é¡Œç«¶è³½çš„é»é»æ»´æ»´ï¼"}]}],"data":{"quirksMode":false}},"frontmatter":{"date":"January 08, 2019","path":"/problem/icpc/asia_hanoi_2018/A","title":"Amazing Adventures","description":"åœ¨ä¸€å€‹æœ‰ $N$ åˆ—ã€$M$ è¡Œçš„æ–¹æ ¼ä¸Šï¼Œæœ‰å››å€‹è‹±æ–‡å­—æ¯ `B`, `C`, `G`, `U`ã€‚è«‹ä½ æ‰¾å‡ºæœ€çŸ­çš„ã€å¾ `B` ç¶“é `C` åˆ° `G` ä½†æ˜¯ä¸åŒ…æ‹¬ `U` çš„è·¯å¾‘ï¼Œä½¿å¾—æ¯ä¸€å€‹æ ¼å­ï¼ˆåŒ…å«èµ·é»èˆ‡çµ‚é»ï¼‰éƒ½ä¸èƒ½é‡è¤‡ç¶“éã€‚è¼¸å‡ºé€™å€‹è·¯å¾‘ã€‚\n","roadmap_label_h3":null,"backlink":"/icpcblog-weekly-2019"}}},"pageContext":{}}