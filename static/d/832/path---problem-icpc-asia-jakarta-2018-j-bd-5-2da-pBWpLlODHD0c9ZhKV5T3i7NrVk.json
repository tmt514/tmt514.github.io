{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"ç°¡åŒ–å¾Œé¡Œç›®æ•˜è¿°"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"showvariable","properties":{"varname":"description"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å…¥èªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ç¬¬ä¸€åˆ—åŒ…å«ä¸€å€‹æ­£æ•´æ•¸ $N$ ($1\\le N\\le 15$)ã€‚ç¬¬äºŒåˆ—é–‹å§‹æœ‰ $N$ åˆ—ï¼Œæ¯ä¸€åˆ—åŒ…å«ä¸€å€‹åƒ…ç”±å¤§å¯«å­—æ¯çµ„æˆçš„å­—ä¸² $S_i$ ($1\\le |S_i|\\le 15$)\nã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å‡ºèªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"è¼¸å‡ºæœ€å¤§çš„ $|A_1|+|A_2|+\\cdots + |A_N|$ ä¹‹å€¼ã€‚è‹¥ç„¡è§£çš„è©±è¦è¼¸å‡º "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"-1"}]},{"type":"text","value":"ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"3\nKARIM\nPARBUDI\nCHANDRA\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"16\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"2\nZORO\nANDI\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"-1\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"7\nHAVE\nFUN\nIN\nICPC\nJAKARTA\nTWENTY\nEIGHTEEN\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 3"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"25\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"OJ é€£çµ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://codeforces.com/gym/102001/problem/J"},"children":[{"type":"text","value":"Codeforces Gym 102001 - J"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è§£æ³•"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ç¸½ä¹‹å°±æ˜¯å¾ˆç›´ç™½çš„å‹•æ…‹è¦åŠƒå›‰ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å°æ–¼æ‰€æœ‰ $i$ï¼Œæˆ‘å€‘å¯ä»¥å…ˆæŠŠæ‰€æœ‰ $S_i$ çš„å­åºåˆ—åˆ—å‡ºä¾†ï¼Œä¸¦ä¸”æ’åºå¥½ã€‚å‡è¨­é€™æ¨£çš„å­åºåˆ—æœ‰ $m_i$ å€‹ï¼ˆä¸é›£å¾—çŸ¥ $m_i < 2^{|S_i|}$ï¼‰ï¼Œæˆ‘å€‘ä»¤é€™æ¨£çš„åºåˆ—ç‚º $S_i^{(0)} < S_i^{(1)} < \\cdots < S_i^{(m_i-1)}$ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å®šç¾© $\\dp[i][j]$ ç‚ºä½œåˆ°ç¬¬ $i$ å€‹å­—ä¸²ä¸”é¸å– $A_i \\le S_i^{(j)}$ çš„æ™‚å€™ï¼Œ$|A_1|+\\cdots + |A_i|$ å¯èƒ½çš„æœ€å¤§å€¼ã€‚æ­¤æ™‚æˆ‘å€‘å¯ä»¥åˆ—å‡ºéè¿´å¼ï¼š"}]},{"type":"text","value":"\n$$\n\\dp[i][j] = \\begin{cases}\n\\max_{k:\\ S_{i-1}^{(k)} < S_i^{(j)}} \\left\\{ \\dp[i-1][k] + |S|\\right\\} \\\\\n\\dp[i][j-1] & \\text{è€ƒæ…®çµæŸåœ¨å­—å…¸é †åºæ›´å°çš„æƒ…å½¢ã€‚}\n\\end{cases}\n$$\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"æ³¨æ„åˆ°æ­¤æ™‚ $\\dp[i][0], \\dp[i][1], \\ldots$ é€™æ˜¯ä¸€å€‹ééæ¸›çš„åºåˆ—ã€‚å› æ­¤è¦è®“ $\\dp[i-1][k] + |S|$ çš„å€¼æœ€å¤§ï¼Œå°±ç­‰åƒ¹æ–¼è®“ $k$ çš„å€¼ç›¡é‡å¤§ï¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å¯¦ä½œä¸Šç”±æ–¼ $j$ è®Šå¤§çš„æ™‚å€™ï¼Œå°æ‡‰çš„ $k$ ä¹Ÿééæ¸›ï¼Œæˆ‘å€‘å¯ä»¥åˆ©ç”¨ two pointer çš„æŠ€å·§ï¼Œç¶­è­· $j$ å’Œ $k$ å…©å€‹è¶³æ¨™ã€‚åœ¨ $O(|S_i|\\times 2^{|S_i|})$ çš„æ™‚é–“æ›´æ–°ä¸€æ•´æ’çš„ $\\dp[i][0, \\ldots, m-1]$ å€¼ï¼ˆåœ¨å…©å€‹è¶³æ¨™è¿½è¶•çš„éç¨‹ä¸­ï¼Œç”±æ–¼æ¯æ¬¡éƒ½æ˜¯æ¯”è¼ƒå…©å€‹å­—ä¸²ï¼Œæ‰€ä»¥éœ€è¦èŠ± $O(|S_i|)$ çš„æ™‚é–“æ¨é€²ä¸€å€‹è¶³æ¨™ï¼‰ã€‚å› æ­¤æ•´é«”æ™‚é–“è¤‡é›œåº¦ç‚º $O(\\sum_{1\\le i\\le N} |S_i| 2^{|S_i|}) \\approx O(15^2\\times 2^{15})$ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"åƒè€ƒç¨‹å¼ç¢¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-cpp"]},"children":[{"type":"text","value":"#include <iostream>\n#include <algorithm>\n#include <vector>\n#include <string>\nusing namespace std;\n\nstring S[15];\nvector<string> a[15];\nint dp[15][1<<15];\n\n// ç”¢ç”Ÿä¸€å€‹å­—ä¸²çš„æ‰€æœ‰å­åºåˆ—ã€‚\nvoid GetAllSubstrings(string s, vector<string>& result) {\n  result.push_back(\"\");\n  for (int i = 0; i < (int)s.size(); i++) {\n    int n = result.size();\n    for (int j = 0; j < n; j++) {\n      result.push_back(result[j]+s[i]);\n    }\n  }\n  // æŠŠæ‰¾åˆ°çš„å­åºåˆ—ä¾ç…§å­—å…¸é †åºæ’åºï¼Œæ³¨æ„é€™é‚Š result[0] æœƒæ˜¯ç©ºå­—ä¸²ã€‚\n  sort(result.begin(), result.end());\n}\n\nint main() {\n  int N;\n  cin >> N;\n  for (int i = 0; i < N; i++) cin >> S[i];\n  for (int i = 0; i < N; i++) GetAllSubstrings(S[i], a[i]);\n\n  const int INF = 1e5;\n  // åˆå§‹åŒ–å‹•æ…‹è¦åŠƒçš„é¦–æ’ã€‚\n  dp[0][0] = -INF; // ä¸å…è¨±æœ‰ç©ºå­—ä¸²ï¼Œæ‰€ä»¥çµ¦ä»– -INFã€‚\n  for (int i = 1; i < (1<<S[0].size()); i++)\n    dp[0][i] = max(dp[0][i-1], (int)a[0][i].size());\n\n  // ç„¶å¾Œä¾ç…§éè¿´é—œä¿‚è¨ˆç®—å‰©ä¸‹çš„éƒ¨ä»½ã€‚\n  for (int i = 1; i < N; i++) {\n    dp[i][0] = -INF; // ä¸€æ¨£ä¸å…è¨±æœ‰ç©ºå­—ä¸²ï¼Œæ‰€ä»¥çµ¦ä»– -INFã€‚\n    for (int j = 1, k = 0; j < (1<<S[i].size()); j++) {\n        while (k < (1<<S[i-1]).size() && a[i-1][k] < a[i][j]) ++k;\n        dp[i][j] = max(dp[i][j-1], dp[i-1][k] + (int)a[i][k].size());\n    }\n  }\n  \n  int ans = dp[N-1][(1<<S[N-1].size())];\n  if (ans < 0) cout << \"-1\" << endl;\n  else cout << ans << endl;\n  return 0;\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"å‚™è¨»"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å¦‚æœæŠŠæ‰€æœ‰çš„å­—ä¸²éƒ½é è™•ç†ç”¢ç”Ÿå‡ºä¾†ä»¥å¾Œï¼Œç”¨ Bucket Sort (æ¡¶å­æ’åºæ³•) æŠŠæ‰€æœ‰çš„å­—ä¸²å…¨éƒ¨æ’åºèµ·ä¾†ã€‚é€™éº¼ä¸€ä¾†å°±å¯ä»¥çœä¸‹ç¡¬æ¯”è¼ƒå…©å­—ä¸²çš„æ™‚é–“ï¼Œå¯ä»¥åŠ é€Ÿåˆ° $O(15\\times 2^{15})$ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"é—œæ–¼ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ğŸ… å¦‚æœæ‚¨æƒ³åˆ°æ›´å¤šæœ‰è¶£æ¼‚äº®ç°¡å–®ä¹¾æ·¨çš„è§£æ³•è©±æ­¡è¿ç•™è¨€çµ¦ç«¶ç¨‹æ—¥è¨˜å°ç·¨ç¾¤ï¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"â„¹ï¸ é€™æ˜¯ä¸€ç¯‡æŠ•ç¨¿çµ¦"},{"type":"element","tagName":"a","properties":{"href":"https://www.facebook.com/%E7%AB%B6%E7%A8%8B%E6%97%A5%E8%A8%98-1514973425463954/"},"children":[{"type":"text","value":"ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"çš„æ–‡ç« ï¼Œæ­¡è¿å¤§å®¶æŠ•ç¨¿ã€äº¤æµèˆ‡åˆ†äº«ç¨‹å¼è§£é¡Œç«¶è³½çš„é»é»æ»´æ»´ï¼"}]}],"data":{"quirksMode":false}},"frontmatter":{"date":"January 06, 2019","path":"/problem/icpc/asia_jakarta_2018/J","title":"Future Generation","description":"çµ¦ä½  $N$ ($1\\le N\\le 15$) å€‹å­—ä¸² $S_1, \\ldots, S_N$ ($1\\le |S_i| \\le 15$)ã€‚ç¾åœ¨è«‹ä½ å°æ–¼æ¯ä¸€å€‹å­—ä¸² $S_i$ï¼Œæ‰¾å‡ºä¸€å€‹éç©ºçš„å­åºåˆ— $A_i$ï¼Œä½¿å¾— $A_1, A_2, \\ldots, A_N$ ä¾ç…§å­—å…¸é †åºæ˜¯åš´æ ¼éå¢çš„ã€‚\n\nè¼¸å‡ºæœ€å¤§çš„ $|A_1|+|A_2|+\\cdots + |A_N|$ ä¹‹å€¼ã€‚è‹¥ç„¡è§£çš„è©±è¦è¼¸å‡º `-1`ã€‚\n","roadmap_label_h3":null,"backlink":"/icpcblog-weekly-2019"}}},"pageContext":{}}