{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"ç°¡åŒ–å¾Œé¡Œç›®æ•˜è¿°"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"showvariable","properties":{"varname":"description"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å…¥èªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"è¼¸å…¥çš„ç¬¬ä¸€åˆ—åŒ…å«å…©å€‹æ•´æ•¸ $N, K$ ($1\\le N\\le 100000; 0\\le K \\le 100000$) ä»£è¡¨åºåˆ—çš„é•·åº¦èˆ‡æ¢ä»¶çš„æ•¸é‡ã€‚ç¬¬äºŒåˆ—åŒ…å« $N$ å€‹æ•´æ•¸ $P_i$ ($-1\\le P_i\\le 1$)ï¼Œè‹¥ $P_i=0$ ä»£è¡¨ç¬¬ $i$ å€‹ä½ç½®é‚„æ²’æœ‰æ±ºå®šæ˜¯ $-1$ é‚„æ˜¯ $1$ï¼Œå¦å‰‡çš„è©± $P_i$ çš„å€¼å·²ç¶“å›ºå®šäº†ã€‚æ¥ä¸‹ä¾†çš„ $K$ åˆ—æ¯ä¸€åˆ—åŒ…å«ä¸‰å€‹æ•´æ•¸ $A_i, B_i, C_i$ ($1\\le A_i \\le B_i\\le N; -N\\le C_i\\le N$)ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å‡ºèªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"è‹¥é€™æ¨£çš„åºåˆ—å­˜åœ¨ï¼Œè¼¸å‡º $N$ å€‹ä»¥ç©ºç™½éš”é–‹çš„æ•´æ•¸ã€‚å¦å‰‡è¼¸å‡º "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Impossible"}]},{"type":"text","value":"ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"3 2\n0 0 0\n1 2 2\n2 3 -1\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"1 1 -1\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"3 2\n0 -1 0\n1 2 2\n2 3 -1\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Impossible\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"OJ é€£çµ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://codeforces.com/gym/102001/problem/H"},"children":[{"type":"text","value":"Codeforces Gym 102001 - H"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è§£æ³•"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"é€™é¡Œå¯ä»¥ç”¨æšèˆ‰æ³•çš„æ¦‚å¿µï¼Œå°æ–¼æ¯ä¸€å€‹ $k$ å€¼åˆ¤æ–·æ˜¯å¦å­˜åœ¨ä¸€å€‹åŠ å…¥é‚Šçš„åºåˆ—æ»¿è¶³æ¢ä»¶ã€‚æ¼”ç®—æ³•å¦‚ä¸‹ï¼š"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ol","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"æŠŠæ‰€æœ‰æ»¿è¶³ $\\delta_x+\\delta_y\\ge k$ ä½†ä¸åœ¨åœ–ä¸Šçš„é‚Šè’é›†èµ·ä¾†ï¼ŒåŠ å…¥ä¸€å€‹ä½‡åˆ— $Q$ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"åªè¦ä½‡åˆ—éç©ºï¼ŒæŠ“ä¸€æ¢ä½‡åˆ—ä¸­çš„é‚Š $(x, y)$ï¼ŒæŠŠå®ƒåŠ å…¥åœ–ä¸­ï¼›æƒéä¸€æ¬¡æ‰€æœ‰èˆ‡é» $x$ å’Œé» $y$ ç›¸é„°çš„æ‰€æœ‰ä¸åœ¨åœ–ä¸Šçš„é‚Šï¼Œä¸¦åˆ¤æ–·æ˜¯å¦èƒ½å¤ æŠŠå®ƒå€‘åŠ å…¥ä½‡åˆ—ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"å¦‚æœæœ€çµ‚æ‰€æœ‰çš„é‚Šéƒ½è¢«åŠ å…¥äº†ä½‡åˆ—ï¼Œå°±ä»£è¡¨é€™å€‹ $k$ å€¼æ˜¯å€‹æˆåŠŸçš„ $k$ å€¼ã€‚åä¹‹å‰‡ä¸è¡Œï¼šåœ¨ä»»æ„æ™‚åˆ»åŠ ä¸é€²ä½‡åˆ—çš„é‚Šæ°¸é åº¦æ•¸å’Œå°æ–¼ $k$ã€‚"}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ä»¥ä¸Šçš„æ¼”ç®—æ³•çš„ç¬¬ä¸€æ­¥æœƒèŠ± $O(N^2)$ æ™‚é–“æƒéæ‰€æœ‰é»å°ã€‚\nç¬¬äºŒæ­¥å¯èƒ½æœƒè€ƒæ…® $O(N^2)$ å€‹é»å°ã€è€Œæ¯ä¸€æ¢é‚ŠåŠ å…¥å¾ŒæœƒèŠ± $O(N)$ æ™‚é–“æƒéç›¸é„°çš„ä¸åœ¨åœ–ä¸Šçš„é‚Šï¼Œå› æ­¤ç¬¬äºŒæ­¥æ‰€èŠ±æ™‚é–“æ˜¯ $O(N^3)$ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ä¸é›£ç™¼ç¾åªè¦ $k$ æ˜¯ç­”æ¡ˆï¼Œ$k-1$ ä¹Ÿæœƒæ˜¯ç­”æ¡ˆã€‚æ–¼æ˜¯æˆ‘å€‘å¯ä»¥å° $k$ é€²è¡ŒäºŒåˆ†æœå°‹æ³•ï¼Œæ‰¾åˆ°æ»¿è¶³æ¢ä»¶çš„æœ€å¤§ $k$ å€¼ã€‚æ™‚é–“è¤‡é›œåº¦ $O(N^3\\log N)$ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ä½†äº‹å¯¦ä¸ŠäºŒåˆ†æœå°‹æ³•æ˜¯ä¸å¿…è¦çš„ã€‚å°æ–¼æŸå€‹ $k$ï¼Œè‹¥ç¬¬äºŒæ­¥å®Œæˆå¾Œï¼Œé‚„æœ‰é‚Šæ²’æœ‰è¢«åŠ å…¥åœ–ä¸Šï¼Œé‚£éº¼æˆ‘å€‘æŠŠ $k\\gets k-1$ æ™‚ï¼Œå‰›æ‰é‚£äº›å·²ç¶“åŠ å…¥çš„é‚Šï¼Œé¡¯ç„¶å¯ä»¥ä¾ç…§åŒæ¨£é †åºè¢«åŠ å…¥åœ–ä¸Šã€‚å› æ­¤ï¼Œæˆ‘å€‘åªéœ€è¦é‡æ–°å°å‰©ä¸‹çš„é‚Šè·‘éä¸Šè¿°æ¼”ç®—æ³•å³å¯ã€‚æ³¨æ„åˆ°æœ€å¤§å¯èƒ½çš„ $k$ ç‚º $(N-2)+(N-2)$ï¼Œç¬¬ä¸€æ­¥å¯èƒ½è¦é‡æ–°è·‘ $O(N)$ æ¬¡ï¼Œå› æ­¤ç¸½èŠ±è²»æ™‚é–“æ˜¯ $O(N^3)$ï¼Œç¬¬äºŒæ­¥æ¯ä¸€æ¢é‚Šä»ç„¶åªæœƒè¢«åŠ å…¥åˆ°ä½‡åˆ—è‡³å¤šä¸€æ¬¡ï¼Œæ‰€ä»¥ä¹Ÿé‚„æ˜¯ $O(N^3)$ã€‚æˆ‘å€‘å°±å¾—åˆ°ä¸€å€‹ $O(N^3)$ çš„ä¹¾æ·¨ç®—æ³•å•¦ï½"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"åƒè€ƒç¨‹å¼ç¢¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-cpp"]},"children":[{"type":"text","value":"#include <iostream>\n#include <vector>\nusing namespace std;\n\nint input[100005];\nint now[100005];\nint bit[100005];\nvector<pair<int, int>> hook[100005];\nvector<int> stack;\nint N, K;\n\nvoid add(int x, int v) {\n  while (x<=N) {\n    bit[x]+=v;\n    x += (x&-x);\n  }\n}\n\nint ask(int x) {\n  int ret = 0;\n  while (x) {\n    ret += bit[x];\n    x -= (x&-x);\n  }\n  return ret;\n}\n\nint ask(int l, int r) {\n  return ask(r) - ask(l-1);\n}\n\nint main() {\n  cin >> N >> K;\n  for (int i = 1; i <= N; i++) cin >> input[i];\n  for (int i=1;i<=N;i++) now[i] = (input[i]!=0? input[i]: -1);\n  for (int i=1;i<=N;i++) add(i, now[i]);\n  for (int i = 0; i < K; i++) {\n    int l, r, c;\n    cin >> l >> r >> c;\n    hook[r].push_back({l, c});\n  }\n  for (int i = 1; i <= N; i++) {\n    if (input[i] == 0) stack.push_back(i);\n    for (auto [l, c]: hook[i]) {\n      int v = ask(l, i);\n      while (v < c) {\n        if (stack.empty() || stack.back() < l) {\n          puts(\"Impossible\");\n          return 0;\n        }\n        v += 2;\n        now[stack.back()] = 1;\n        add(stack.back(), 2);\n        stack.pop_back();\n      }\n    }\n  }\n  for (int i = 1; i <= N; i++) {\n    cout << now[i] << ' ';\n  }\n  cout << endl;\n  return 0;\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"å‚™è¨»"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ç¨å¾®å¤šæƒ³ä¸€ä¸‹ä¸‹ï¼Œé€™é¡Œå…¶å¯¦å¯ä»¥åšåˆ° $O(N+K)$ã€‚ä¸éä»¥æ¯”è³½è€Œè¨€ï¼Œ$O((N+K)\\log N)$ å¾ˆå¤ äº†ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"é—œæ–¼ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ğŸ… å¦‚æœæ‚¨æƒ³åˆ°æ›´å¤šæœ‰è¶£æ¼‚äº®ç°¡å–®ä¹¾æ·¨çš„è§£æ³•è©±æ­¡è¿ç•™è¨€çµ¦ç«¶ç¨‹æ—¥è¨˜å°ç·¨ç¾¤ï¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"â„¹ï¸ é€™æ˜¯ä¸€ç¯‡æŠ•ç¨¿çµ¦"},{"type":"element","tagName":"a","properties":{"href":"https://www.facebook.com/%E7%AB%B6%E7%A8%8B%E6%97%A5%E8%A8%98-1514973425463954/"},"children":[{"type":"text","value":"ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"çš„æ–‡ç« ï¼Œæ­¡è¿å¤§å®¶æŠ•ç¨¿ã€äº¤æµèˆ‡åˆ†äº«ç¨‹å¼è§£é¡Œç«¶è³½çš„é»é»æ»´æ»´ï¼"}]}],"data":{"quirksMode":false}},"frontmatter":{"date":"January 05, 2019","path":"/problem/icpc/asia_jakarta_2018/H","title":"Lexical Sign Sequence","description":"çµ¦ä½ ä¸€å€‹åŒ…å« $0, 1, -1$ çš„åºåˆ— $P$ï¼Œä½ çš„ä»»å‹™æ˜¯è¦æŠŠæ‰€æœ‰ $0$ æ›æˆ $\\pm 1$ï¼Œä¸¦åŒæ™‚æ»¿è¶³ä»¥ä¸‹ $K$ å€‹æ¢ä»¶ï¼šæ¯ä¸€å€‹æ¢ä»¶ç”±ä¸‰å€‹æ•´æ•¸ $A_i, B_i, C_i$ æè¿°ä¹‹ï¼Œè¡¨ç¤ºå¾ç¬¬ $A_i$ å€‹æ•¸åŠ è‡³ç¬¬ $B_i$ å€‹æ•¸çš„ç¸½å’Œï¼Œå¿…é ˆè¦ $\\ge C_i$ã€‚\n\nè‹¥æœ‰è§£ï¼Œè«‹è¼¸å‡ºå­—å…¸é †åºæœ€å°çš„åºåˆ—ã€‚å¦å‰‡çš„è©±è¼¸å‡º `Impossible`ã€‚\n","roadmap_label_h3":null,"backlink":"/icpcblog-weekly-2019"}}},"pageContext":{}}