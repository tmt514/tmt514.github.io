{"data":{"markdownRemark":{"htmlAst":{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"題目敘述"}]},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"showvariable","properties":{"varname":"description"},"children":[]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"輸入說明"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"第一行有兩個正整數 $FX$, $FY$，代表起火點F的座標。"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"第二行有一個正整數 $T (1\\le T\\le 1000)$，代表已經歷時間。"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"第三行有四個正整數 $SX$, $SY$, $EX$, $EY$，代表你所在的位置以及安全避難所的位置。"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"你可以假設 $F,S,E$ 皆位於可通行處。且避難所不會著火，$F,S,E$ 互不重疊。"}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"輸出說明"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"若可以安全逃離，請輸出從 $S$ 到 $E$ 的最短時間。若你發現身陷火場，或者你根本無法到達避難所的時候，請輸出 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"Help!"}]},{"type":"text","value":"。"}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Sample Input"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"1 1 \n3 \n4 1 3 3 \n"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"Sample Output"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"9\n"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"出處"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"95建中資訊培訓模擬試題一（Prob 5）"}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"OJ連結"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://tioj.ck.tp.edu.tw/problems/1013"},"children":[{"type":"text","value":"TIOJ 1013 - Fire in the forest"}]}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"題解"}]},{"type":"element","tagName":"algorithm","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"generator","properties":{},"children":[{"type":"element","tagName":"pre","properties":{},"children":[{"type":"text","value":"\nfunction*(input, ui) {\n    var forest = [\n        \"*****************\",\n        \"*...*.......**..*\",\n        \"**..*....*.*.*..*\",\n        \"*......*.**.**.**\",\n        \"*..**...**..**.**\",\n        \"**.....**..*.*..*\",\n        \"*....*..........*\",\n        \"*.....****.*...**\",\n        \"****.*.*........*\",\n        \"*****************\",\n    ];\n    forest = forest.map((e) => e.split(\"\"));\n    var fx = input.fx;\n    var fy = input.fy;\n    var T = input.T;\n    var sx = input.sx;\n    var sy = input.sy;\n    var ex = input.ex;\n    var ey = input.ey;\n    forest[fx][fy] = 'F';\n    forest[ex][ey] = 'E';\n    yield {forest: forest};\n    var t, i, j, f;\n    var d = [[0, 1], [1, 0], [0, -1], [-1, 0]];\n    for (t = 0; t < 24; t++) {\n        var newforest = JSON.parse(JSON.stringify(forest));\n        for (i = 0; i < forest.length; i++) {\n            for (j = 0; j < forest[0].length; j++) {\n                if (forest[i][j] === 'F') {\n                    for (f = 0; f < 4; f++) {\n                        if (forest[i+d[f][0]][j+d[f][1]] === '.') {\n                           newforest[i+d[f][0]][j+d[f][1]] = 'F'; \n                        }\n                    }\n                }\n            }\n        }\n        console.log(newforest);\n        forest = newforest;\n        yield {forest: forest};\n    }\n    return {forest: forest};\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"inputdata","properties":{"data":"{\"fx\":1, \"fy\":1, \"T\": 3,\n    \"sx\":4, \"sy\": 1, \"ex\": 3, \"ey\": 3}"},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"indirectdisplay","properties":{"grid":"","uihelperNodeStyle":"{stroke: \"none\"}","uihelperContentMap":"{\n        F:{fill: \"#FA8\", font: \"bold 18px Courier New\"},\n        \"*\":{fill: \"#555\"}\n    }","varname":"forest"},"children":[]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"可以利用 BFS 來模擬森林中的火勢蔓延的狀況。用 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"onFire"}]},{"type":"text","value":" 陣列記錄下每個格點第一次著火的時間。然後根據這個表格在 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"onEscape"}]},{"type":"text","value":" 陣列記錄下從 $S$ 出發不踩過火到該點的所有時間。在這裡分享一些有趣的實作小細節："}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"使用方向陣列："},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"dx[]"}]},{"type":"text","value":" 和 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"dy[]"}]},{"type":"text","value":" 分別儲存四個方向所需要的位移數值。"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"text","value":"在把座標放進 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"queue"}]},{"type":"text","value":" 的時候，依序放入 $x$ 和 $y$ 座標。取出時也按照這個順序取，就不需要寫麻煩的 "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"pair<int, int>"}]},{"type":"text","value":" 了。"}]},{"type":"text","value":"\n"}]},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-cpp"]},"children":[{"type":"text","value":"/* by tmt514 */\n#include <iostream>\n#include <vector>\n#include <queue>\nusing namespace std;\n\nvector<string> forest = {\n  \"*****************\",\n  \"*...*.......**..*\",\n  \"**..*....*.*.*..*\",\n  \"*......*.**.**.**\",\n  \"*..**...**..**.**\",\n  \"**.....**..*.*..*\",\n  \"*....*..........*\",\n  \"*.....****.*...**\",\n  \"****.*.*........*\",\n  \"*****************\",\n};\n\nconst int dx[4] = {0, 1, 0, -1};\nconst int dy[4] = {1, 0, -1, 0};\nint onFire[10][17];\nint onEscape[10][17];\n\nvoid bfs(int mark[10][17], int hasFire[10][17], int sx, int sy, int T) {\n  queue<int> q;\n  // 如果一開始就著火了，就應該直接死掉。\n  if (hasFire && hasFire[sx][sy] <= T) return;\n  mark[sx][sy] = T;\n  q.push(sx);\n  q.push(sy);\n  while (!q.empty()) {\n    int x = q.front(); q.pop();\n    int y = q.front(); q.pop();\n    int t = mark[x][y];\n    // 依序考慮四個方向是否可通行，如果可以的話加入佇列裡面。\n    for (int dir = 0; dir < 4; dir++) {\n      int nx = x + dx[dir];\n      int ny = y + dy[dir];\n      if (forest[nx][ny] == '.' && \n          mark[nx][ny] == 0 &&\n          (!hasFire || hasFire[nx][ny] == 0 || hasFire[nx][ny] > t+1)) {\n        mark[nx][ny] = t+1;\n        q.push(nx);\n        q.push(ny);\n      }\n    }\n  }\n}\n\nint main() {\n  int fx, fy, sx, sy, ex, ey, T;\n  cin >> fx >> fy >> T;\n  cin >> sx >> sy >> ex >> ey;\n  forest[ex][ey] = 'E';\n  bfs(onFire, NULL, fx, fy, 1);\n  forest[ex][ey] = '.';\n  bfs(onEscape, onFire, sx, sy, T);\n  if (onEscape[ex][ey] > 0) {\n    cout << onEscape[ex][ey]-T << endl;\n  } else {\n    cout << \"Help!\" << endl;\n  }\n  return 0;\n}\n"}]}]},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"關於這題"}]},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"很久很久以前的北市賽（在還沒有使用 CMS 系統和使用隨身碟/磁碟輸入以前），評分的時候都是手動輸入測試資料的。當時出的模擬練習，就有點想要效法這樣的出題風格，所以森林的地圖就變成這樣 hard-code 的風格了。"}]},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"其他題解"}]},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://blog.ototot.tk/2017/01/tioj-1013-fire-in-forest.html"},"children":[{"type":"text","value":"oToToT 的 code 收藏區：TIOJ 1013"}]}]},{"type":"text","value":"\n"}]}]},"frontmatter":{"date":"December 01, 2018","path":"/cp/tioj/1013","title":"[TIOJ 1013] Fire in the forest","description":"中秋節的時候有人在森林中烤肉，一不小心就釀成了火災，火勢非常猛烈，如果某個區域原本沒有著火，但是相鄰的區域著火了，那麼下一分鐘這個區域也會被火勢波及。你很不幸的身處於著火的森林中，不過好加在你隨身帶了筆記型電腦，而且你恰好有這個森林地圖的資料。由廣播得知，火勢於第 $1$ 分鐘發生於起火點 $F$，而現在已經是第 $T$ 分鐘了。你的位置在 $S$ 處，標記 $E$ 的位置代表安全的避難所，並且有直升機場可以搭乘直升機避難。地圖上標著 `*` 的地方代表不可通行的區域，`.` 則是代表可以通過的區域。時間緊迫！你得趕緊找安全的逃生路線！\n\n座標化的森林的地圖是一個長 $17$ 單位、寬 $10$ 單位的一片土地，詳細狀況如下：\n\n```\n*****************\n*...*.......**..*\n**..*....*.*.*..*\n*......*.**.**.**\n*..**...**..**.**\n**.....**..*.*..*\n*....*..........*\n*.....****.*...**\n****.*.*........*\n*****************\n```\n\n左上角的位置為 $(0,0)$，右下角的位置為 $(9,16)$。你每分鐘可以從一個區域移動至相鄰的區域(在這裡所有的相鄰都不包含對角線方向)。現在給定 $F,T$ 之值以及 $S,E$ 的位置，請你求出從 $S$ 到 $E$ 的最短時間。\n"}}},"pageContext":{}}