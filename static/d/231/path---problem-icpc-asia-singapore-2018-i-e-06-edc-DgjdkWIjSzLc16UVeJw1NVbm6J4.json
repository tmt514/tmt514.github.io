{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"ç°¡åŒ–å¾Œé¡Œç›®æ•˜è¿°"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"showvariable","properties":{"varname":"description"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å…¥èªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ç¬¬ä¸€åˆ—åŒ…å«ä¸€å€‹å­—ä¸² $S$, ($1\\le |S|\\le 1000000$)ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ç¬¬äºŒåˆ—åŒ…å« 13 å€‹å­—ä¸² $T_a, T_b, \\ldots, T_m$ã€‚($2\\le |T_a|, |T_b|, \\ldots, |T_m| \\le 50$)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ç¬¬ä¸‰åˆ—åŒ…å« 13 å€‹å­—ä¸² $T_n, T_o, \\ldots, T_z$ã€‚($2\\le |T_n|, |T_o|, \\ldots, |T_z| \\le 50$)"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ç¬¬å››åˆ—åŒ…å«ä¸€å€‹æ•´æ•¸ $K$ ($1\\le K\\le 10^{15}$)ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ç¬¬äº”åˆ—åŒ…å«ä¸€å€‹æ•´æ•¸ $M$ ($1\\le M\\le 1000$)ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ç¬¬å…­åˆ—åŒ…å« $M$ å€‹æ•´æ•¸ï¼Œç¬¬ $i$ å€‹æ•´æ•¸ç‚º $m_i$ï¼Œå…¶ä¸­ $1\\le m_i\\le \\min(|f^K(S)|, 10^{15})$ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å‡ºèªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å°æ–¼æ¯ä¸€å€‹è©¢å•ï¼Œå–®ç¨è¼¸å‡ºæ‰€æ±‚å­—å…ƒæ–¼ä¸€åˆ—ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"abca\nbc cd da dd ee ff gg hh ii jj kk ll mm\nnn oo pp qq rr ss tt uu vv ww xx yy zz\n1\n2\n1 8\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"b\nc\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"ab\nba ab cc dd ee ff gg hh ii jj kk ll mm\nnn oo pp qq rr ss tt uu vv ww xx yy zz\n2\n2\n1 8\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a\nb\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"OJ é€£çµ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://open.kattis.com/problems/prolongedpassword"},"children":[{"type":"text","value":"Open Kattis - Prolonged Password"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"é¡Œç›®å‡ºè™•"}]},{"type":"text","value":"ï¼šICPC 2018 Asia Singapore Regional"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è§£æ³•"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"æˆ‘å€‘å¯ä»¥æŠŠå‡½æ•¸ $f$ è¿­ä»£çš„éç¨‹å±•é–‹æˆæ¨¹ç‹€åœ–ã€‚è€Œä¾ç…§é †åºéæ­·è‘‰ç¯€é»çš„æ™‚å€™ï¼Œå°±ç›¸ç•¶æ–¼æŠŠæœ€çµ‚çš„å¯†ç¢¼ $P$ å°å‡ºä¾†ã€‚å¦‚æœè¦å–å¾—ç¬¬ $m_i$ å€‹å­—å…ƒï¼Œé‚£éº¼æˆ‘å€‘è¦æ‰¾çš„ä¾¿æ˜¯ç”±å·¦è‡³å³æ•¸ä¾†ç¬¬ $m_i$ å€‹è‘‰å­ã€‚ä¸‹åœ–æ˜¯ç¬¬ä¸€ç­†ç¯„ä¾‹ä»¥å­—æ¯ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"a"}]},{"type":"text","value":" é–‹é ­å±•é–‹ä¸‰å±¤çš„æ¨£å­ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"display","properties":{"binaryTree":"","complete":"","depth":"4","data":"{\n        value: [\"a\", \"b\", \"c\", \"c\", \"d\", \"d\", \"a\", \"d\", \"a\", \"d\", \"d\", \"d\", \"d\", \"b\", \"c\"]\n    }"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å¦‚æœæˆ‘å€‘å¾æ ¹ç¯€é»ï¼ˆæŸå€‹å­—å…ƒ $\\alpha$ï¼‰é–‹å§‹ï¼Œäº‹å…ˆçŸ¥é“æ¯ä¸€å€‹å­æ¨¹çš„å¤§å°ï¼Œå°±å¯ä»¥åœ¨ $|T_\\alpha|$ çš„æ™‚é–“å…§ç›´æ¥å‰å¾€å¸¶æœ‰ç¬¬ $m_i$ å€‹è‘‰å­çš„å­æ¨¹ã€‚å› æ­¤ï¼Œé è™•ç†ä»¥å¾Œæˆ‘å€‘å¯ä»¥åœ¨ $O(50\\times K)$ çš„æ™‚é–“å…§èµ°åˆ°æˆ‘å€‘æƒ³è¦çš„è‘‰ç¯€é»ã€‚å¯æƒœçš„æ˜¯ï¼Œ$K$ å¤ªå¤§äº†ï¼Œè€Œä¸”æ•´æ£µæ¨¹çš„å¤§å°ä¸è¦‹å¾—å­˜å¾—ä¸‹ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å¥½æ¶ˆæ¯æ˜¯ï¼Œæœƒè©¢å•çš„æ•¸å­—é ‚å¤šåªæœ‰ $10^{15}$ï¼Œæˆ‘å€‘å¯ä»¥æŠŠè¶…éçš„éƒ¨ä»½å®Œå…¨å¿½ç•¥æ‰ï¼šä¹Ÿå°±æ˜¯èªªï¼Œå°æ–¼è¶…é $10^{15}$ å¤§å°çš„å­æ¨¹ï¼Œæˆ‘å€‘ä¸éœ€è¦ç²¾ç¢ºè¨ˆç®—å…¶å¤§å°ï¼Œåªè¦æ¨™è¨˜æˆã€Œå”‰å‘€å¤ªå¤§äº†ã€å°±å¯ä»¥äº†ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"æ­¤å¤–ï¼Œé‚„æœ‰å¦ä¸€å€‹æ–¹ä¾¿å¯¦ä½œçš„å¥½æ¶ˆæ¯ï¼šé¡Œç›®çš„æ¢ä»¶ä¿è­‰äº†æ¯ä¸€å€‹ $T_\\alpha$ é•·åº¦è‡³å°‘æœ‰ 2ã€‚é€™ä»£è¡¨ä»€éº¼å‘¢ï¼Ÿæˆ‘å€‘åªè¦é—œå¿ƒæœ€é è¿‘åº•å±¤çš„ $\\log_2(10^{15})\\approx 50$ å±¤å°±è¡Œå•¦ï¼å¦‚æœæ•´æ£µæ¨¹å¤ªé«˜ï¼Œä¸€é–‹å§‹æˆ‘å€‘åªè¦æƒ³è¾¦æ³•å¾æ¨¹æ ¹ï¼Œæ¯æ¬¡æŒ‘é¸ç¬¬ä¸€å€‹å­ç¯€é»å¾€ä¸‹èµ°ï¼Œå¿«é€ŸæŠµé”æœ€åº•ä¸‹çš„ 50 å±¤å°±è¡Œäº†ï½"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"æ³¨æ„åˆ°å­—ä¸²åƒ…åŒ…å«å°å¯«è‹±æ–‡å­—æ¯ï¼Œå¾ä¸Šé¢å¾€ä¸‹èµ°å¾—éç¨‹ï¼Œè‡³å¤š 26 æ­¥å°±æœƒç”¢ç”Ÿä¸€å€‹å¾ªç’°ã€‚æˆ‘å€‘å¯ä»¥å¿«é€Ÿè·³éè‹¥å¹²å¾ªç’°ç¯€ï¼Œåˆ°ç¬¬ $50+O(1)$ å±¤åœä¸‹ä¾†ã€‚ç„¶å¾Œå¾é‚£å€‹åœ°æ–¹é–‹å§‹é€²è¡Œå‰è¿°çš„ã€Œæœç´¢ã€éç¨‹ï¼Œè€Œä¸”ä¸€é–‹å§‹ä¹Ÿåªéœ€è¦ç´€éŒ„ 50 å±¤å·¦å³çš„å­æ¨¹çš„å¤§å°ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"åƒè€ƒç¨‹å¼ç¢¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ç‚ºäº†æ–¹ä¾¿èµ·è¦‹ï¼Œæˆ‘ç›´æ¥ç´€éŒ„åˆ° 63 å±¤ï¼Œå¾€ä¸‹æ‰¾å¾ªç’°çš„æ™‚å€™ï¼Œä¹Ÿæ˜¯ç›´æ¥è·³åˆ° 100 å±¤å·¦å³ï¼Œç„¶å¾Œå†ä¸€å€‹ä¸€å€‹èµ°ä¸‹å»ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-cpp"]},"children":[{"type":"text","value":"#include <bits/stdc++.h>\nusing namespace std;\n\ntypedef long long LL;\nstring S;\nstring T[26];\nLL K;\n\nLL len[26][64];\nconst LL LIMIT = (LL)1e15;\n\nvoid add(LL &x, LL v) {\n  // -1 ä»£è¡¨è¶…éé•·åº¦ã€‚\n  if (x == -1 || v == -1) {\n    x = -1;\n  } else {\n    x += v;\n    if (x >= LIMIT)\n      x = -1;\n  }\n}\n\nvoid pre() {\n  for (int i = 0; i < 26; i++) {\n    len[i][0] = 1;\n    len[i][1] = T[i].size();\n  }\n  for (int t = 2; t < 64; t++)\n    for (int i = 0; i < 26; i++)\n      for (auto x : T[i])\n        add(len[i][t], len[x - 'a'][t - 1]);\n}\n\nchar ans;\n\n// å¦‚æœé‚„ä¸å¤ çš„è©±å°±å›å‚³ falseï¼Œå¦‚æœæ‰¾åˆ°äº†å°±å›å‚³ true.\nbool ask(LL &m, char root, LL k) {\n  if (k == 0) {\n    --m;\n    ans = root;\n    return (m == 0);\n  }\n  if (k < 64 && len[root - 'a'][k] != -1 && len[root - 'a'][k] < m) {\n    m -= len[root - 'a'][k];\n    return false;\n  }\n  if (k <= 100) {\n    for (auto child : T[root - 'a']) {\n      if (ask(m, child, k - 1)) {\n        return true;\n      }\n    }\n  } else {\n    // æ‰¾å‡º cycle, ç„¶å¾Œé£›åˆ°ç¬¬ä¸€å€‹å°æ–¼100å±¤çš„åœ°æ–¹ã€‚\n    int pos[26] = {};\n    int now = root - 'a';\n    int cnt = 1;\n    while (pos[now] == 0) {\n      pos[now] = cnt;\n      now = T[now][0] - 'a';\n      cnt++;\n    }\n    int cycle = cnt - pos[now];\n    k -= (cnt - 1);\n    k -= (k - 100) / cycle * cycle;\n    k -= cycle;\n    return ask(m, now + 'a', k);\n  }\n  return false;\n}\n\nvoid solve() {\n  LL m;\n  cin >> m;\n  for (size_t i = 0; i < S.size(); i++) {\n    if (ask(m, S[i], K))\n      break;\n  }\n  cout << ans << '\\n';\n}\n\nint main() {\n  cin >> S;\n  for (int i = 0; i < 26; i++)\n    cin >> T[i];\n  cin >> K;\n  // é è™•ç†ï¼Œè¨ˆç®—ä¸è¶…é 64 å±¤ï¼Œä»¥æŸå­—å…ƒç‚ºæ¨¹æ ¹çš„å­æ¨¹å¤§å°ã€‚\n  pre();\n\n  int M;\n  cin >> M;\n  while (M--)\n    solve();\n  return 0;\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"é—œæ–¼ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ğŸ… å¦‚æœæ‚¨æƒ³åˆ°æ›´å¤šæœ‰è¶£æ¼‚äº®ç°¡å–®ä¹¾æ·¨çš„è§£æ³•è©±æ­¡è¿ç•™è¨€çµ¦ç«¶ç¨‹æ—¥è¨˜å°ç·¨ç¾¤ï¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"â„¹ï¸ é€™æ˜¯ä¸€ç¯‡æŠ•ç¨¿çµ¦"},{"type":"element","tagName":"a","properties":{"href":"https://www.facebook.com/%E7%AB%B6%E7%A8%8B%E6%97%A5%E8%A8%98-1514973425463954/"},"children":[{"type":"text","value":"ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"çš„æ–‡ç« ï¼Œæ­¡è¿å¤§å®¶æŠ•ç¨¿ã€äº¤æµèˆ‡åˆ†äº«ç¨‹å¼è§£é¡Œç«¶è³½çš„é»é»æ»´æ»´ï¼"}]}],"data":{"quirksMode":false}},"frontmatter":{"date":"January 19, 2019","path":"/problem/icpc/asia_singapore_2018/I","title":"Prolonged Password","description":"çµ¦ä½ ä¸€å€‹åˆå§‹å­—ä¸² $S$ï¼Œç„¶å¾Œæ ¹æ“šå‡½æ•¸ $f$ æ§‹é€ å¯†ç¢¼ $P=f^K(S)$ã€‚å‡½æ•¸ $f$ çš„æ“ä½œå¦‚ä¸‹ï¼šå°æ–¼ $S$ çš„æ‰€æœ‰å­—å…ƒï¼ŒæŠŠè©²å­—å…ƒåŒæ™‚æ›æˆå°æ‡‰çš„å­—ä¸²ã€‚åŒä¸€å€‹å­—å…ƒå°æ‡‰åˆ°çš„æ›¿æ›å­—ä¸²æ˜¯å›ºå®šçš„ï¼Œå¦‚æœçœ‹åˆ° `a` å°±æ›æˆ $T_a$ã€çœ‹åˆ° `b` å°±æ›æˆ $T_b$ã€ä¾æ­¤é¡æ¨ã€‚\n\nçµ¦ä½  $M$ å€‹è©¢å•ã€‚æ¯ä¸€å€‹è©¢å•éƒ½æœƒè®€å–ä¸€å€‹æ•´æ•¸ $m_i$ï¼Œä¸¦ä¸”è¦ä½ å›ç­”å‡ºå¯†ç¢¼ $P$ çš„ç¬¬ $m_i$ å€‹å­—å…ƒç‚ºä½•ã€‚\n","roadmap_label_h3":null,"backlink":"/icpcblog-weekly-2019"}}},"pageContext":{}}