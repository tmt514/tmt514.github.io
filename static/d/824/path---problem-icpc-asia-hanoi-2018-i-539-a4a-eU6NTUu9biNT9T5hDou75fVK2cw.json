{"data":{"markdownRemark":{"htmlAst":{"type":"root","children":[{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"ç°¡åŒ–å¾Œé¡Œç›®æ•˜è¿°"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"div","properties":{},"children":[{"type":"element","tagName":"showvariable","properties":{"varname":"description"},"children":[]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å…¥èªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"è¼¸å…¥çš„ç¬¬ä¸€åˆ—åŒ…å«ä¸€å€‹æ­£æ•´æ•¸ $n$ $(1\\le n\\le 50)$ è¡¨ç¤º ID çš„é•·åº¦ã€‚\nç¬¬äºŒåˆ—æœ‰ä¸€å€‹ç”± "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"1"}]},{"type":"text","value":" å’Œ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" çµ„æˆçš„æ¨¡ç‰ˆå­—ä¸² $P$ $(1\\le |P|\\le 30)$ï¼Œ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è¼¸å‡ºèªªæ˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"è¼¸å‡ºä¸€å€‹æ­£æ•´æ•¸è¡¨ç¤ºé•·åº¦ç‚º $n$ ä¸”æ»¿è¶³æ¢ä»¶ $P$ çš„å­—ä¸²æ•¸é‡ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"10 \n1\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 1"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"1023\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å…¥ 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"3\n1*1\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"ç¯„ä¾‹è¼¸å‡º 2"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"2\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"OJ é€£çµ"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"ul","properties":{},"children":[{"type":"text","value":"\n"},{"type":"element","tagName":"li","properties":{},"children":[{"type":"element","tagName":"a","properties":{"href":"https://open.kattis.com/problems/insidersidentity"},"children":[{"type":"text","value":"Open Kattis - Insider's Indentity"}]}]},{"type":"text","value":"\n"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"é¡Œç›®å‡ºè™•"}]},{"type":"text","value":"ï¼šICPC 2018 Asia Hanoi Regional"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"hr","properties":{},"children":[]},{"type":"text","value":"\n"},{"type":"element","tagName":"h2","properties":{},"children":[{"type":"text","value":"è§£æ³•"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"é€™é¡Œä¸€è‡‰å°±æ˜¯å‹•æ…‹è¦åŠƒå›‰ã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"é¦–å…ˆï¼Œæˆ‘å€‘å¯ä»¥æ³¨æ„åˆ°ç”±æ–¼è¼¸å…¥æ¨¡ç‰ˆçš„ "},{"type":"element","tagName":"code","properties":{},"children":[{"type":"text","value":"*"}]},{"type":"text","value":" ä¸è¶…é 15 å€‹ï¼Œå› æ­¤å…¨éƒ¨æŠŠä»–å€‘æšèˆ‰å‡ºä¾†æ•¸é‡å¤§æ¦‚ä¸æœƒå¤ªå¤šã€‚\nè€ƒæ…®ä¸€å€‹å­—ä¸²é›†åˆ $\\mathcal{S}$ï¼Œæˆ‘å€‘æƒ³è¦çŸ¥é“æœ‰å¤šå°‘å­—ä¸²ï¼Œä½¿å¾—è‡³å°‘æœ‰ä¸€å€‹å­å­—ä¸²å‡ºç¾åœ¨ $\\mathcal{S}$ ä¸­ï¼Œé€™æ˜¯ä¸€å€‹ã€è©¦è‘—ä¸è¦é‡è¤‡è¨ˆæ•¸ã€çš„æŠ€è¡“å•é¡Œã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"é€™å€‹ä¸è¦é‡è¤‡è¨ˆæ•¸çš„éƒ¨åˆ†ï¼Œå¯ä»¥ç”¨ "},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"ä¸€å°ä¸€å‡½æ•¸"}]},{"type":"text","value":"(bijection) çš„æ–¹å¼è™•ç†ï¼šå°æ–¼æ¯ä¸€ç¨®ç­”æ¡ˆå­—ä¸² $X$ï¼Œæˆ‘å€‘è€ƒæ…®é›†åˆ $\\mathcal{S}$ å…§çš„å­—ä¸²ç¬¬ä¸€æ¬¡å‡ºç¾åœ¨ $X$ çš„ä½ç½®ï¼Œä¸¦ä¸”æŠŠä»–"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"å®šç¾© $\\dp(i, \\mathit{suffix})$ è¡¨ç¤ºé•·åº¦ç‚º $i$ çš„å­—ä¸²ã€å…¶å¾Œç¶´å­—ä¸²ç‚º $\\mathit{suffix}$ã€è€Œä¸” $\\mathit{suffix}$ æ˜¯æ‰€æœ‰è©²å­—ä¸²å¾Œç¶´å­—ä¸²ä¹‹ä¸­ï¼Œå‡ºç¾åœ¨ $\\mathrm{prefix}(\\mathcal{S})$ é›†åˆè£¡é¢"},{"type":"element","tagName":"strong","properties":{},"children":[{"type":"text","value":"æœ€é•·"}]},{"type":"text","value":"çš„é‚£ä¸€å€‹ã€‚å…¶ä¸­ $\\mathrm{prefix}(\\mathcal{S})$ æ˜¯æ‰€æœ‰ $\\mathcal{S}$ å‰ç¶´å­—ä¸²æ‰€å½¢æˆçš„é›†åˆã€‚"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"åƒè€ƒç¨‹å¼ç¢¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"pre","properties":{},"children":[{"type":"element","tagName":"code","properties":{"className":["language-cpp"]},"children":[{"type":"text","value":"#include <bits/stdc++.h>\nusing namespace std;\ntypedef long long LL;\n\n\nint main() {\n  int n;\n  string S;\n  cin >> n >> S;\n\n  // æšèˆ‰æ‰€æœ‰å¯èƒ½çš„ states\n  vector<int> state_space;\n  function<void(int, int)> dfs = [&](int now, int i) {\n    state_space.push_back(now + (1<<i));\n    if (i + 1 < S.size()) {\n      if (S[i] == '*') dfs(now*2, i+1);\n      dfs(now*2+1, i+1);\n    }\n  };\n  dfs(0, 0);\n  sort(state_space.begin(), state_space.end());\n  state_space.resize(unique(state_space.begin(), state_space.end()) - state_space.begin());\n\n\n  // ç”¢ç”Ÿä¸åŒé•·åº¦çš„æ¨¡ç‰ˆï¼Œç”¨ä¾†æ¯”å°ã€‚\n  vector<int> patterns = {0};\n  for (int i = 0, p = 0; i < (int)S.size(); i++) {\n    p = p * 2 + (S[i] == '1');\n    patterns.push_back(p);\n  }\n  \n  // è¨ˆç®—ä¸‹ä¸€å€‹ç‹€æ…‹è½‰ç§»ã€‚\n  const int DONE = -1;\n  auto GetNextValidState = [&](int state) -> int {\n    int len = 31 - __builtin_clz(state);\n    for (int i = len; i >= 0; i--) {\n      if ((state&patterns[i]) == patterns[i]) {\n        if (i == S.size()) {\n          // å¦‚æœå·²åŒ¹é…æ•´å€‹å­—ä¸²ï¼Œå°±å¯ä»¥åœä¸‹ä¾†äº†ã€‚\n          return DONE;\n        } else {\n          // å–å¾—é›¢æ•£åŒ–å¾Œçš„ç‹€æ…‹ç·¨è™Ÿã€‚\n          int nxt = (1<<i) + (state & ((1<<i)-1));\n          return lower_bound(state_space.begin(), state_space.end(), nxt) - state_space.begin();\n        }\n      }\n    }\n    return 1;\n  };\n\n  // å°æ‰€æœ‰ç‹€æ…‹ï¼Œåˆ—å‡ºä¸‹ä¸€å€‹ç‹€æ…‹çš„ç·¨è™Ÿã€‚\n  vector<int> add0(state_space.size()), add1(state_space.size());\n  for (int i = 0; i < state_space.size(); i++) {\n    int state = state_space[i];\n    add0[i] = GetNextValidState(state*2);\n    add1[i] = GetNextValidState(state*2+1);\n  }\n  \n  // é–‹å§‹è·‘å‹•æ…‹è¦åŠƒã€‚\n  LL ans = 0;\n  vector<LL> dp(state_space.size(), 0);\n  dp[0] = 1;\n\n  for (int i = 1; i <= n; i++) {\n    vector<LL> dp_next(state_space.size(), 0);\n    for (int j = 0; j < state_space.size(); j++) {\n      if (add0[j] == DONE)\n        ans += dp[j] * (1LL<<(n-i));\n      else\n        dp_next[add0[j]] += dp[j];\n      if (add1[j] == DONE)\n        ans += dp[j] * (1LL<<(n-i));\n      else\n        dp_next[add1[j]] += dp[j];\n    }\n    dp.swap(dp_next);\n  }\n  cout << ans << endl;\n  return 0;\n}\n"}]}]},{"type":"text","value":"\n"},{"type":"element","tagName":"h3","properties":{},"children":[{"type":"text","value":"é—œæ–¼ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"ğŸ… å¦‚æœæ‚¨æƒ³åˆ°æ›´å¤šæœ‰è¶£æ¼‚äº®ç°¡å–®ä¹¾æ·¨çš„è§£æ³•è©±æ­¡è¿ç•™è¨€çµ¦ç«¶ç¨‹æ—¥è¨˜å°ç·¨ç¾¤ï¼"}]},{"type":"text","value":"\n"},{"type":"element","tagName":"p","properties":{},"children":[{"type":"text","value":"â„¹ï¸ é€™æ˜¯ä¸€ç¯‡æŠ•ç¨¿çµ¦"},{"type":"element","tagName":"a","properties":{"href":"https://www.facebook.com/%E7%AB%B6%E7%A8%8B%E6%97%A5%E8%A8%98-1514973425463954/"},"children":[{"type":"text","value":"ç«¶ç¨‹æ—¥è¨˜"}]},{"type":"text","value":"çš„æ–‡ç« ï¼Œæ­¡è¿å¤§å®¶æŠ•ç¨¿ã€äº¤æµèˆ‡åˆ†äº«ç¨‹å¼è§£é¡Œç«¶è³½çš„é»é»æ»´æ»´ï¼"}]}],"data":{"quirksMode":false}},"frontmatter":{"date":"January 14, 2019","path":"/problem/icpc/asia_hanoi_2018/I","title":"Insider's Identity","description":"åœ¨ä¸€å€‹é™é çš„æ˜Ÿçƒä¸Šï¼Œä¸€å€‹æƒ…å ±å–®ä½æ‰“ç®—æ´¾é£ä¸€äº›é–“è«œåˆ°åœ°çƒä¸Šé€²è¡ŒåµæŸ¥ä»»å‹™ã€‚\nç‚ºäº†ç¢ºä¿åµæŸ¥ä»»å‹™èƒ½å¤ åœ¨æ¥µç‚ºæ©Ÿå¯†çš„æƒ…å½¢ä¸‹é€²è¡Œï¼Œæƒ…å ±å–®ä½æ‰“ç®—æŒ‡æ´¾æ¯ä¸€å€‹é–“è«œä¸€å€‹ç§˜å¯† IDã€‚\n\næ¯ä¸€å€‹ ID ç”±ä¸€å€‹é•·åº¦ç‚º $n$ çš„ 01-å­—ä¸² (binary string) çµ„æˆã€‚\nç‚ºäº†é¿å…æ•µäººçš„æ»²é€ï¼Œæƒ…å ±å–®ä½é¸æ“‡äº†ä¸€å€‹ç”± `1` å’Œ `*` çµ„æˆçš„æ¨¡ç‰ˆ $P$ï¼Œå¦‚æœé€™å€‹æ¨¡ç‰ˆèƒ½å¤ æˆåŠŸèˆ‡ ID é€²è¡Œé…å°ï¼Œé‚£éº¼å°±å¯ä»¥åˆ¤æ–·é€™å€‹ ID ç‚ºçœŸã€‚\n\nå°æ–¼ä¸€å€‹å­—ä¸² $S=s_1s_2\\cdots s_n$ ä»¥åŠä¸€å€‹æ¨¡ç‰ˆ $P=p_1\\cdots p_m$ æˆåŠŸé…å°çš„å®šç¾©å¦‚ä¸‹ï¼š\n\n* è‹¥ $m=n$ï¼Œè€Œä¸”å°æ‰€æœ‰ $i$ï¼Œè¦å˜› $s_i=$`1` æˆ– $p_i=$`*`ã€‚\n* è‹¥ $m>n$ï¼Œè€Œä¸”åœ¨ $S$ å…§éƒ¨å­˜åœ¨ä¸€å€‹é•·åº¦ç‚º $m$ çš„å­å­—ä¸²æˆåŠŸèˆ‡ $P$ é…å°ã€‚\n\nè«‹å¹«åŠ©æƒ…å ±å–®ä½è¨ˆç®—ç¸½å…±æœ‰å¤šå°‘ ID å¯ä»¥ä½¿ç”¨ã€‚\n","roadmap_label_h3":null,"backlink":"/icpcblog-weekly-2019"}}},"pageContext":{}}